import{Da as yt,Ea as _,Ka as _t,L as te,La as A,M as pt,Ma as B,N as gt,P as re,Pa as wr,Ta as bt,a as w,ab as Ct,b as N,ca as Pe,d as c,e as To,fb as Dr,ga as Ue,ha as W,ia as mt,j as pe,ja as ge,la as vt,m as br,nb as ne,pb as Be,r as Cr,sb as Vr,ub as Ar,wb as Et,x as Er}from"./chunk-ZMHPBY6C.js";var xr=c((Al,wt)=>{"use strict";global.crypto&&global.crypto.getRandomValues?wt.exports.randomBytes=function(e){var t=new Uint8Array(e);return global.crypto.getRandomValues(t),t}:wt.exports.randomBytes=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=Math.floor(Math.random()*256);return t}});var $=c((xl,Mr)=>{"use strict";var Po=xr(),Sr="abcdefghijklmnopqrstuvwxyz012345";Mr.exports={string:function(e){for(var t=Sr.length,r=Po.randomBytes(e),n=[],i=0;i<e;i++)n.push(Sr.substr(r[i]%t,1));return n.join("")},number:function(e){return Math.floor(Math.random()*e)},numberString:function(e){var t=(""+(e-1)).length,r=new Array(t+1).join("0");return(r+this.number(e)).slice(-t)}}});var F=c((Sl,Le)=>{"use strict";var Uo=$(),ie={},Dt=!1,Or=global.chrome&&global.chrome.app&&global.chrome.app.runtime;Le.exports={attachEvent:function(e,t){typeof global.addEventListener<"u"?global.addEventListener(e,t,!1):global.document&&global.attachEvent&&(global.document.attachEvent("on"+e,t),global.attachEvent("on"+e,t))},detachEvent:function(e,t){typeof global.addEventListener<"u"?global.removeEventListener(e,t,!1):global.document&&global.detachEvent&&(global.document.detachEvent("on"+e,t),global.detachEvent("on"+e,t))},unloadAdd:function(e){if(Or)return null;var t=Uo.string(8);return ie[t]=e,Dt&&setTimeout(this.triggerUnloadCallbacks,0),t},unloadDel:function(e){e in ie&&delete ie[e]},triggerUnloadCallbacks:function(){for(var e in ie)ie[e](),delete ie[e]}};var Bo=function(){Dt||(Dt=!0,Le.exports.triggerUnloadCallbacks())};Or||Le.exports.attachEvent("unload",Bo)});var Nr=c((Ml,Ir)=>{"use strict";Ir.exports=function(t,r){if(r=r.split(":")[0],t=+t,!t)return!1;switch(r){case"http":case"ws":return t!==80;case"https":case"wss":return t!==443;case"ftp":return t!==21;case"gopher":return t!==70;case"file":return!1}return t!==0}});var kr=c(Vt=>{"use strict";var Lo=Object.prototype.hasOwnProperty,Go;function Fr(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch{return null}}function qr(e){try{return encodeURIComponent(e)}catch{return null}}function Ho(e){for(var t=/([^=?#&]+)=?([^&]*)/g,r={},n;n=t.exec(e);){var i=Fr(n[1]),o=Fr(n[2]);i===null||o===null||i in r||(r[i]=o)}return r}function Wo(e,t){t=t||"";var r=[],n,i;typeof t!="string"&&(t="?");for(i in e)if(Lo.call(e,i)){if(n=e[i],!n&&(n===null||n===Go||isNaN(n))&&(n=""),i=qr(i),n=qr(n),i===null||n===null)continue;r.push(i+"="+n)}return r.length?t+r.join("&"):""}Vt.stringify=Wo;Vt.parse=Ho});var St=c((Il,Lr)=>{"use strict";var jr=Nr(),Ge=kr(),$o=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,Tr=/[\n\r\t]/g,Xo=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,Pr=/:\d+$/,Jo=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,zo=/^[a-zA-Z]:/;function xt(e){return(e||"").toString().replace($o,"")}var At=[["#","hash"],["?","query"],function(t,r){return x(r.protocol)?t.replace(/\\/g,"/"):t},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],Rr={hash:1,query:1};function Ur(e){var t;typeof window<"u"?t=window:typeof global<"u"?t=global:typeof self<"u"?t=self:t={};var r=t.location||{};e=e||r;var n={},i=typeof e,o;if(e.protocol==="blob:")n=new S(unescape(e.pathname),{});else if(i==="string"){n=new S(e,{});for(o in Rr)delete n[o]}else if(i==="object"){for(o in e)o in Rr||(n[o]=e[o]);n.slashes===void 0&&(n.slashes=Xo.test(e.href))}return n}function x(e){return e==="file:"||e==="ftp:"||e==="http:"||e==="https:"||e==="ws:"||e==="wss:"}function Br(e,t){e=xt(e),e=e.replace(Tr,""),t=t||{};var r=Jo.exec(e),n=r[1]?r[1].toLowerCase():"",i=!!r[2],o=!!r[3],s=0,a;return i?o?(a=r[2]+r[3]+r[4],s=r[2].length+r[3].length):(a=r[2]+r[4],s=r[2].length):o?(a=r[3]+r[4],s=r[3].length):a=r[4],n==="file:"?s>=2&&(a=a.slice(2)):x(n)?a=r[4]:n?i&&(a=a.slice(2)):s>=2&&x(t.protocol)&&(a=r[4]),{protocol:n,slashes:i||x(n),slashesCount:s,rest:a}}function Zo(e,t){if(e==="")return t;for(var r=(t||"/").split("/").slice(0,-1).concat(e.split("/")),n=r.length,i=r[n-1],o=!1,s=0;n--;)r[n]==="."?r.splice(n,1):r[n]===".."?(r.splice(n,1),s++):s&&(n===0&&(o=!0),r.splice(n,1),s--);return o&&r.unshift(""),(i==="."||i==="..")&&r.push(""),r.join("/")}function S(e,t,r){if(e=xt(e),e=e.replace(Tr,""),!(this instanceof S))return new S(e,t,r);var n,i,o,s,a,u,f=At.slice(),v=typeof t,l=this,y=0;for(v!=="object"&&v!=="string"&&(r=t,t=null),r&&typeof r!="function"&&(r=Ge.parse),t=Ur(t),i=Br(e||"",t),n=!i.protocol&&!i.slashes,l.slashes=i.slashes||n&&t.slashes,l.protocol=i.protocol||t.protocol||"",e=i.rest,(i.protocol==="file:"&&(i.slashesCount!==2||zo.test(e))||!i.slashes&&(i.protocol||i.slashesCount<2||!x(l.protocol)))&&(f[3]=[/(.*)/,"pathname"]);y<f.length;y++){if(s=f[y],typeof s=="function"){e=s(e,l);continue}o=s[0],u=s[1],o!==o?l[u]=e:typeof o=="string"?(a=o==="@"?e.lastIndexOf(o):e.indexOf(o),~a&&(typeof s[2]=="number"?(l[u]=e.slice(0,a),e=e.slice(a+s[2])):(l[u]=e.slice(a),e=e.slice(0,a)))):(a=o.exec(e))&&(l[u]=a[1],e=e.slice(0,a.index)),l[u]=l[u]||n&&s[3]&&t[u]||"",s[4]&&(l[u]=l[u].toLowerCase())}r&&(l.query=r(l.query)),n&&t.slashes&&l.pathname.charAt(0)!=="/"&&(l.pathname!==""||t.pathname!=="")&&(l.pathname=Zo(l.pathname,t.pathname)),l.pathname.charAt(0)!=="/"&&x(l.protocol)&&(l.pathname="/"+l.pathname),jr(l.port,l.protocol)||(l.host=l.hostname,l.port=""),l.username=l.password="",l.auth&&(a=l.auth.indexOf(":"),~a?(l.username=l.auth.slice(0,a),l.username=encodeURIComponent(decodeURIComponent(l.username)),l.password=l.auth.slice(a+1),l.password=encodeURIComponent(decodeURIComponent(l.password))):l.username=encodeURIComponent(decodeURIComponent(l.auth)),l.auth=l.password?l.username+":"+l.password:l.username),l.origin=l.protocol!=="file:"&&x(l.protocol)&&l.host?l.protocol+"//"+l.host:"null",l.href=l.toString()}function Qo(e,t,r){var n=this;switch(e){case"query":typeof t=="string"&&t.length&&(t=(r||Ge.parse)(t)),n[e]=t;break;case"port":n[e]=t,jr(t,n.protocol)?t&&(n.host=n.hostname+":"+t):(n.host=n.hostname,n[e]="");break;case"hostname":n[e]=t,n.port&&(t+=":"+n.port),n.host=t;break;case"host":n[e]=t,Pr.test(t)?(t=t.split(":"),n.port=t.pop(),n.hostname=t.join(":")):(n.hostname=t,n.port="");break;case"protocol":n.protocol=t.toLowerCase(),n.slashes=!r;break;case"pathname":case"hash":if(t){var i=e==="pathname"?"/":"#";n[e]=t.charAt(0)!==i?i+t:t}else n[e]=t;break;case"username":case"password":n[e]=encodeURIComponent(t);break;case"auth":var o=t.indexOf(":");~o?(n.username=t.slice(0,o),n.username=encodeURIComponent(decodeURIComponent(n.username)),n.password=t.slice(o+1),n.password=encodeURIComponent(decodeURIComponent(n.password))):n.username=encodeURIComponent(decodeURIComponent(t))}for(var s=0;s<At.length;s++){var a=At[s];a[4]&&(n[a[1]]=n[a[1]].toLowerCase())}return n.auth=n.password?n.username+":"+n.password:n.username,n.origin=n.protocol!=="file:"&&x(n.protocol)&&n.host?n.protocol+"//"+n.host:"null",n.href=n.toString(),n}function Ko(e){(!e||typeof e!="function")&&(e=Ge.stringify);var t,r=this,n=r.host,i=r.protocol;i&&i.charAt(i.length-1)!==":"&&(i+=":");var o=i+(r.protocol&&r.slashes||x(r.protocol)?"//":"");return r.username?(o+=r.username,r.password&&(o+=":"+r.password),o+="@"):r.password?(o+=":"+r.password,o+="@"):r.protocol!=="file:"&&x(r.protocol)&&!n&&r.pathname!=="/"&&(o+="@"),(n[n.length-1]===":"||Pr.test(r.hostname)&&!r.port)&&(n+=":"),o+=n+r.pathname,t=typeof r.query=="object"?e(r.query):r.query,t&&(o+=t.charAt(0)!=="?"?"?"+t:t),r.hash&&(o+=r.hash),o}S.prototype={set:Qo,toString:Ko};S.extractProtocol=Br;S.location=Ur;S.trimLeft=xt;S.qs=Ge;Lr.exports=S});var b=c((Nl,Gr)=>{"use strict";var Yo=St(),es=function(){};Gr.exports={getOrigin:function(e){if(!e)return null;var t=new Yo(e);if(t.protocol==="file:")return null;var r=t.port;return r||(r=t.protocol==="https:"?"443":"80"),t.protocol+"//"+t.hostname+":"+r},isOriginEqual:function(e,t){var r=this.getOrigin(e)===this.getOrigin(t);return es("same",e,t,r),r},isSchemeEqual:function(e,t){return e.split(":")[0]===t.split(":")[0]},addPath:function(e,t){var r=e.split("?");return r[0]+t+(r[1]?"?"+r[1]:"")},addQuery:function(e,t){return e+(e.indexOf("?")===-1?"?"+t:"&"+t)},isLoopbackAddr:function(e){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^\[::1\]$/.test(e)}}});var d=c((Fl,Mt)=>{"use strict";typeof Object.create=="function"?Mt.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Mt.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}});var Ot=c((ql,Hr)=>{"use strict";function He(){this._listeners={}}He.prototype.addEventListener=function(e,t){e in this._listeners||(this._listeners[e]=[]);var r=this._listeners[e];r.indexOf(t)===-1&&(r=r.concat([t])),this._listeners[e]=r};He.prototype.removeEventListener=function(e,t){var r=this._listeners[e];if(r){var n=r.indexOf(t);if(n!==-1){r.length>1?this._listeners[e]=r.slice(0,n).concat(r.slice(n+1)):delete this._listeners[e];return}}};He.prototype.dispatchEvent=function(){var e=arguments[0],t=e.type,r=arguments.length===1?[e]:Array.apply(null,arguments);if(this["on"+t]&&this["on"+t].apply(this,r),t in this._listeners)for(var n=this._listeners[t],i=0;i<n.length;i++)n[i].apply(this,r)};Hr.exports=He});var g=c((kl,Wr)=>{"use strict";var ts=d(),We=Ot();function L(){We.call(this)}ts(L,We);L.prototype.removeAllListeners=function(e){e?delete this._listeners[e]:this._listeners={}};L.prototype.once=function(e,t){var r=this,n=!1;function i(){r.removeListener(e,i),n||(n=!0,t.apply(this,arguments))}this.on(e,i)};L.prototype.emit=function(){var e=arguments[0],t=this._listeners[e];if(t){for(var r=arguments.length,n=new Array(r-1),i=1;i<r;i++)n[i-1]=arguments[i];for(var o=0;o<t.length;o++)t[o].apply(this,n)}};L.prototype.on=L.prototype.addListener=We.prototype.addEventListener;L.prototype.removeListener=We.prototype.removeEventListener;Wr.exports.EventEmitter=L});var Xr=c((Rl,It)=>{"use strict";var $r=global.WebSocket||global.MozWebSocket;$r?It.exports=function(t){return new $r(t)}:It.exports=void 0});var Kr=c((jl,Qr)=>{"use strict";var Jr=F(),rs=b(),ns=d(),zr=g().EventEmitter,Zr=Xr(),q=function(){};function k(e,t,r){if(!k.enabled())throw new Error("Transport created when disabled");zr.call(this),q("constructor",e);var n=this,i=rs.addPath(e,"/websocket");i.slice(0,5)==="https"?i="wss"+i.slice(5):i="ws"+i.slice(4),this.url=i,this.ws=new Zr(this.url,[],r),this.ws.onmessage=function(o){q("message event",o.data),n.emit("message",o.data)},this.unloadRef=Jr.unloadAdd(function(){q("unload"),n.ws.close()}),this.ws.onclose=function(o){q("close event",o.code,o.reason),n.emit("close",o.code,o.reason),n._cleanup()},this.ws.onerror=function(o){q("error event",o),n.emit("close",1006,"WebSocket connection broken"),n._cleanup()}}ns(k,zr);k.prototype.send=function(e){var t="["+e+"]";q("send",t),this.ws.send(t)};k.prototype.close=function(){q("close");var e=this.ws;this._cleanup(),e&&e.close()};k.prototype._cleanup=function(){q("_cleanup");var e=this.ws;e&&(e.onmessage=e.onclose=e.onerror=null),Jr.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()};k.enabled=function(){return q("enabled"),!!Zr};k.transportName="websocket";k.roundTrips=2;Qr.exports=k});var tn=c((Tl,en)=>{"use strict";var is=d(),Yr=g().EventEmitter,R=function(){};function X(e,t){R(e),Yr.call(this),this.sendBuffer=[],this.sender=t,this.url=e}is(X,Yr);X.prototype.send=function(e){R("send",e),this.sendBuffer.push(e),this.sendStop||this.sendSchedule()};X.prototype.sendScheduleWait=function(){R("sendScheduleWait");var e=this,t;this.sendStop=function(){R("sendStop"),e.sendStop=null,clearTimeout(t)},t=setTimeout(function(){R("timeout"),e.sendStop=null,e.sendSchedule()},25)};X.prototype.sendSchedule=function(){R("sendSchedule",this.sendBuffer.length);var e=this;if(this.sendBuffer.length>0){var t="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,t,function(r){e.sendStop=null,r?(R("error",r),e.emit("close",r.code||1006,"Sending error: "+r),e.close()):e.sendScheduleWait()}),this.sendBuffer=[]}};X.prototype._cleanup=function(){R("_cleanup"),this.removeAllListeners()};X.prototype.close=function(){R("close"),this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)};en.exports=X});var on=c((Pl,nn)=>{"use strict";var os=d(),rn=g().EventEmitter,me=function(){};function $e(e,t,r){me(t),rn.call(this),this.Receiver=e,this.receiveUrl=t,this.AjaxObject=r,this._scheduleReceiver()}os($e,rn);$e.prototype._scheduleReceiver=function(){me("_scheduleReceiver");var e=this,t=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);t.on("message",function(r){me("message",r),e.emit("message",r)}),t.once("close",function(r,n){me("close",r,n,e.pollIsClosing),e.poll=t=null,e.pollIsClosing||(n==="network"?e._scheduleReceiver():(e.emit("close",r||1006,n),e.removeAllListeners()))})};$e.prototype.abort=function(){me("abort"),this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()};nn.exports=$e});var qt=c((Ul,sn)=>{"use strict";var ss=d(),as=b(),Nt=tn(),ls=on(),Xe=function(){};function Ft(e,t,r,n,i){var o=as.addPath(e,t);Xe(o);var s=this;Nt.call(this,e,r),this.poll=new ls(n,o,i),this.poll.on("message",function(a){Xe("poll message",a),s.emit("message",a)}),this.poll.once("close",function(a,u){Xe("poll close",a,u),s.poll=null,s.emit("close",a,u),s.close()})}ss(Ft,Nt);Ft.prototype.close=function(){Nt.prototype.close.call(this),Xe("close"),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)};sn.exports=Ft});var J=c((Bl,un)=>{"use strict";var us=d(),cs=b(),an=qt(),kt=function(){};function ds(e){return function(t,r,n){kt("create ajax sender",t,r);var i={};typeof r=="string"&&(i.headers={"Content-type":"text/plain"});var o=cs.addPath(t,"/xhr_send"),s=new e("POST",o,r,i);return s.once("finish",function(a){if(kt("finish",a),s=null,a!==200&&a!==204)return n(new Error("http status "+a));n()}),function(){kt("abort"),s.close(),s=null;var a=new Error("Aborted");a.code=1e3,n(a)}}}function ln(e,t,r,n){an.call(this,e,t,ds(n),r,n)}us(ln,an);un.exports=ln});var ye=c((Ll,dn)=>{"use strict";var hs=d(),cn=g().EventEmitter,G=function(){};function ve(e,t){G(e),cn.call(this);var r=this;this.bufferPosition=0,this.xo=new t("POST",e,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(n,i){G("finish",n,i),r._chunkHandler(n,i),r.xo=null;var o=n===200?"network":"permanent";G("close",o),r.emit("close",null,o),r._cleanup()})}hs(ve,cn);ve.prototype._chunkHandler=function(e,t){if(G("_chunkHandler",e),!(e!==200||!t))for(var r=-1;;this.bufferPosition+=r+1){var n=t.slice(this.bufferPosition);if(r=n.indexOf(`
`),r===-1)break;var i=n.slice(0,r);i&&(G("message",i),this.emit("message",i))}};ve.prototype._cleanup=function(){G("_cleanup"),this.removeAllListeners()};ve.prototype.abort=function(){G("abort"),this.xo&&(this.xo.close(),G("close"),this.emit("close",null,"user"),this.xo=null),this._cleanup()};dn.exports=ve});var Rt=c((Gl,mn)=>{"use strict";var fn=g().EventEmitter,fs=d(),pn=F(),ps=b(),_e=global.XMLHttpRequest,m=function(){};function M(e,t,r,n){m(e,t);var i=this;fn.call(this),setTimeout(function(){i._start(e,t,r,n)},0)}fs(M,fn);M.prototype._start=function(e,t,r,n){var i=this;try{this.xhr=new _e}catch{}if(!this.xhr){m("no xhr"),this.emit("finish",0,"no xhr support"),this._cleanup();return}t=ps.addQuery(t,"t="+ +new Date),this.unloadRef=pn.unloadAdd(function(){m("unload cleanup"),i._cleanup(!0)});try{this.xhr.open(e,t,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){m("xhr timeout"),i.emit("finish",0,""),i._cleanup(!1)})}catch(s){m("exception",s),this.emit("finish",0,""),this._cleanup(!1);return}if((!n||!n.noCredentials)&&M.supportsCORS&&(m("withCredentials"),this.xhr.withCredentials=!0),n&&n.headers)for(var o in n.headers)this.xhr.setRequestHeader(o,n.headers[o]);this.xhr.onreadystatechange=function(){if(i.xhr){var s=i.xhr,a,u;switch(m("readyState",s.readyState),s.readyState){case 3:try{u=s.status,a=s.responseText}catch{}m("status",u),u===1223&&(u=204),u===200&&a&&a.length>0&&(m("chunk"),i.emit("chunk",u,a));break;case 4:u=s.status,m("status",u),u===1223&&(u=204),(u===12005||u===12029)&&(u=0),m("finish",u,s.responseText),i.emit("finish",u,s.responseText),i._cleanup(!1);break}}};try{i.xhr.send(r)}catch{i.emit("finish",0,""),i._cleanup(!1)}};M.prototype._cleanup=function(e){if(m("cleanup"),!!this.xhr){if(this.removeAllListeners(),pn.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),e)try{this.xhr.abort()}catch{}this.unloadRef=this.xhr=null}};M.prototype.close=function(){m("close"),this._cleanup(!0)};M.enabled=!!_e;var hn=["Active"].concat("Object").join("X");!M.enabled&&hn in global&&(m("overriding xmlhttprequest"),_e=function(){try{return new global[hn]("Microsoft.XMLHTTP")}catch{return null}},M.enabled=!!new _e);var gn=!1;try{gn="withCredentials"in new _e}catch{}M.supportsCORS=gn;mn.exports=M});var be=c((Hl,vn)=>{"use strict";var gs=d(),Je=Rt();function jt(e,t,r,n){Je.call(this,e,t,r,n)}gs(jt,Je);jt.enabled=Je.enabled&&Je.supportsCORS;vn.exports=jt});var oe=c((Wl,yn)=>{"use strict";var ms=d(),Tt=Rt();function Pt(e,t,r){Tt.call(this,e,t,r,{noCredentials:!0})}ms(Pt,Tt);Pt.enabled=Tt.enabled;yn.exports=Pt});var se=c(($l,_n)=>{"use strict";_n.exports={isOpera:function(){return global.navigator&&/opera/i.test(global.navigator.userAgent)},isKonqueror:function(){return global.navigator&&/konqueror/i.test(global.navigator.userAgent)},hasDomain:function(){if(!global.document)return!0;try{return!!global.document.domain}catch{return!1}}}});var En=c((Xl,Cn)=>{"use strict";var vs=d(),bn=J(),ys=ye(),Ut=be(),_s=oe(),bs=se();function ae(e){if(!_s.enabled&&!Ut.enabled)throw new Error("Transport created when disabled");bn.call(this,e,"/xhr_streaming",ys,Ut)}vs(ae,bn);ae.enabled=function(e){return e.nullOrigin||bs.isOpera()?!1:Ut.enabled};ae.transportName="xhr-streaming";ae.roundTrips=2;ae.needBody=!!global.document;Cn.exports=ae});var ze=c((Jl,Vn)=>{"use strict";var wn=g().EventEmitter,Cs=d(),Dn=F(),Es=se(),ws=b(),H=function(){};function z(e,t,r){H(e,t);var n=this;wn.call(this),setTimeout(function(){n._start(e,t,r)},0)}Cs(z,wn);z.prototype._start=function(e,t,r){H("_start");var n=this,i=new global.XDomainRequest;t=ws.addQuery(t,"t="+ +new Date),i.onerror=function(){H("onerror"),n._error()},i.ontimeout=function(){H("ontimeout"),n._error()},i.onprogress=function(){H("progress",i.responseText),n.emit("chunk",200,i.responseText)},i.onload=function(){H("load"),n.emit("finish",200,i.responseText),n._cleanup(!1)},this.xdr=i,this.unloadRef=Dn.unloadAdd(function(){n._cleanup(!0)});try{this.xdr.open(e,t),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(r)}catch{this._error()}};z.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)};z.prototype._cleanup=function(e){if(H("cleanup",e),!!this.xdr){if(this.removeAllListeners(),Dn.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,e)try{this.xdr.abort()}catch{}this.unloadRef=this.xdr=null}};z.prototype.close=function(){H("close"),this._cleanup(!0)};z.enabled=!!(global.XDomainRequest&&Es.hasDomain());Vn.exports=z});var Lt=c((zl,xn)=>{"use strict";var Ds=d(),An=J(),Vs=ye(),Bt=ze();function Ce(e){if(!Bt.enabled)throw new Error("Transport created when disabled");An.call(this,e,"/xhr_streaming",Vs,Bt)}Ds(Ce,An);Ce.enabled=function(e){return e.cookie_needed||e.nullOrigin?!1:Bt.enabled&&e.sameScheme};Ce.transportName="xdr-streaming";Ce.roundTrips=2;xn.exports=Ce});var Gt=c((Zl,Sn)=>{"use strict";Sn.exports=global.EventSource});var In=c((Ql,On)=>{"use strict";var As=d(),Mn=g().EventEmitter,xs=Gt(),le=function(){};function Ee(e){le(e),Mn.call(this);var t=this,r=this.es=new xs(e);r.onmessage=function(n){le("message",n.data),t.emit("message",decodeURI(n.data))},r.onerror=function(n){le("error",r.readyState,n);var i=r.readyState!==2?"network":"permanent";t._cleanup(),t._close(i)}}As(Ee,Mn);Ee.prototype.abort=function(){le("abort"),this._cleanup(),this._close("user")};Ee.prototype._cleanup=function(){le("cleanup");var e=this.es;e&&(e.onmessage=e.onerror=null,e.close(),this.es=null)};Ee.prototype._close=function(e){le("close",e);var t=this;setTimeout(function(){t.emit("close",null,e),t.removeAllListeners()},200)};On.exports=Ee});var Ht=c((Kl,Fn)=>{"use strict";var Ss=d(),Nn=J(),Ms=In(),Os=be(),Is=Gt();function ue(e){if(!ue.enabled())throw new Error("Transport created when disabled");Nn.call(this,e,"/eventsource",Ms,Os)}Ss(ue,Nn);ue.enabled=function(){return!!Is};ue.transportName="eventsource";ue.roundTrips=2;Fn.exports=ue});var Wt=c((Yl,qn)=>{"use strict";qn.exports="1.6.1"});var ce=c((eu,j)=>{"use strict";var Ze=F(),Ns=se(),Z=function(){};j.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){j.exports.WPrefix in global||(global[j.exports.WPrefix]={})},postMessage:function(e,t){global.parent!==global?global.parent.postMessage(JSON.stringify({windowId:j.exports.currentWindowId,type:e,data:t||""}),"*"):Z("Cannot postMessage, no parent window.",e,t)},createIframe:function(e,t){var r=global.document.createElement("iframe"),n,i,o=function(){Z("unattach"),clearTimeout(n);try{r.onload=null}catch{}r.onerror=null},s=function(){Z("cleanup"),r&&(o(),setTimeout(function(){r&&r.parentNode.removeChild(r),r=null},0),Ze.unloadDel(i))},a=function(f){Z("onerror",f),r&&(s(),t(f))},u=function(f,v){Z("post",f,v),setTimeout(function(){try{r&&r.contentWindow&&r.contentWindow.postMessage(f,v)}catch{}},0)};return r.src=e,r.style.display="none",r.style.position="absolute",r.onerror=function(){a("onerror")},r.onload=function(){Z("onload"),clearTimeout(n),n=setTimeout(function(){a("onload timeout")},2e3)},global.document.body.appendChild(r),n=setTimeout(function(){a("timeout")},15e3),i=Ze.unloadAdd(s),{post:u,cleanup:s,loaded:o}},createHtmlfile:function(e,t){var r=["Active"].concat("Object").join("X"),n=new global[r]("htmlfile"),i,o,s,a=function(){clearTimeout(i),s.onerror=null},u=function(){n&&(a(),Ze.unloadDel(o),s.parentNode.removeChild(s),s=n=null,CollectGarbage())},f=function(y){Z("onerror",y),n&&(u(),t(y))},v=function(y,ft){try{setTimeout(function(){s&&s.contentWindow&&s.contentWindow.postMessage(y,ft)},0)}catch{}};n.open(),n.write('<html><script>document.domain="'+global.document.domain+'";<\/script></html>'),n.close(),n.parentWindow[j.exports.WPrefix]=global[j.exports.WPrefix];var l=n.createElement("div");return n.body.appendChild(l),s=n.createElement("iframe"),l.appendChild(s),s.src=e,s.onerror=function(){f("onerror")},i=setTimeout(function(){f("timeout")},15e3),o=Ze.unloadAdd(u),{post:v,cleanup:u,loaded:a}}};j.exports.iframeEnabled=!1;global.document&&(j.exports.iframeEnabled=(typeof global.postMessage=="function"||typeof global.postMessage=="object")&&!Ns.isKonqueror())});var Xt=c((tu,Tn)=>{"use strict";var Fs=d(),kn=g().EventEmitter,qs=Wt(),$t=b(),Rn=ce(),jn=F(),ks=$(),O=function(){};function I(e,t,r){if(!I.enabled())throw new Error("Transport created when disabled");kn.call(this);var n=this;this.origin=$t.getOrigin(r),this.baseUrl=r,this.transUrl=t,this.transport=e,this.windowId=ks.string(8);var i=$t.addPath(r,"/iframe.html")+"#"+this.windowId;O(e,t,i),this.iframeObj=Rn.createIframe(i,function(o){O("err callback"),n.emit("close",1006,"Unable to load an iframe ("+o+")"),n.close()}),this.onmessageCallback=this._message.bind(this),jn.attachEvent("message",this.onmessageCallback)}Fs(I,kn);I.prototype.close=function(){if(O("close"),this.removeAllListeners(),this.iframeObj){jn.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch{}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}};I.prototype._message=function(e){if(O("message",e.data),!$t.isOriginEqual(e.origin,this.origin)){O("not same origin",e.origin,this.origin);return}var t;try{t=JSON.parse(e.data)}catch{O("bad json",e.data);return}if(t.windowId!==this.windowId){O("mismatched window id",t.windowId,this.windowId);return}switch(t.type){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([qs,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",t.data);break;case"c":var r;try{r=JSON.parse(t.data)}catch{O("bad json",t.data);return}this.emit("close",r[0],r[1]),this.close();break}};I.prototype.postMessage=function(e,t){O("postMessage",e,t),this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:e,data:t||""}),this.origin)};I.prototype.send=function(e){O("send",e),this.postMessage("m",e)};I.enabled=function(){return Rn.iframeEnabled};I.transportName="iframe";I.roundTrips=2;Tn.exports=I});var Qe=c((ru,Pn)=>{"use strict";Pn.exports={isObject:function(e){var t=typeof e;return t==="function"||t==="object"&&!!e},extend:function(e){if(!this.isObject(e))return e;for(var t,r,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}}});var Ye=c((nu,Un)=>{"use strict";var Rs=d(),Ke=Xt(),js=Qe();Un.exports=function(e){function t(r,n){Ke.call(this,e.transportName,r,n)}return Rs(t,Ke),t.enabled=function(r,n){if(!global.document)return!1;var i=js.extend({},n);return i.sameOrigin=!0,e.enabled(i)&&Ke.enabled()},t.transportName="iframe-"+e.transportName,t.needBody=!0,t.roundTrips=Ke.roundTrips+e.roundTrips-1,t.facadeTransport=e,t}});var Hn=c((iu,Gn)=>{"use strict";var Ts=d(),Q=ce(),Ps=b(),Ln=g().EventEmitter,Us=$(),T=function(){};function D(e){T(e),Ln.call(this);var t=this;Q.polluteGlobalNamespace(),this.id="a"+Us.string(6),e=Ps.addQuery(e,"c="+decodeURIComponent(Q.WPrefix+"."+this.id)),T("using htmlfile",D.htmlfileEnabled);var r=D.htmlfileEnabled?Q.createHtmlfile:Q.createIframe;global[Q.WPrefix][this.id]={start:function(){T("start"),t.iframeObj.loaded()},message:function(n){T("message",n),t.emit("message",n)},stop:function(){T("stop"),t._cleanup(),t._close("network")}},this.iframeObj=r(e,function(){T("callback"),t._cleanup(),t._close("permanent")})}Ts(D,Ln);D.prototype.abort=function(){T("abort"),this._cleanup(),this._close("user")};D.prototype._cleanup=function(){T("_cleanup"),this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete global[Q.WPrefix][this.id]};D.prototype._close=function(e){T("_close",e),this.emit("close",null,e),this.removeAllListeners()};D.htmlfileEnabled=!1;var Bn=["Active"].concat("Object").join("X");if(Bn in global)try{D.htmlfileEnabled=!!new global[Bn]("htmlfile")}catch{}D.enabled=D.htmlfileEnabled||Q.iframeEnabled;Gn.exports=D});var zt=c((ou,$n)=>{"use strict";var Bs=d(),Jt=Hn(),Ls=oe(),Wn=J();function we(e){if(!Jt.enabled)throw new Error("Transport created when disabled");Wn.call(this,e,"/htmlfile",Jt,Ls)}Bs(we,Wn);we.enabled=function(e){return Jt.enabled&&e.sameOrigin};we.transportName="htmlfile";we.roundTrips=2;$n.exports=we});var Qt=c((su,zn)=>{"use strict";var Gs=d(),Xn=J(),Hs=ye(),Zt=be(),Jn=oe();function De(e){if(!Jn.enabled&&!Zt.enabled)throw new Error("Transport created when disabled");Xn.call(this,e,"/xhr",Hs,Zt)}Gs(De,Xn);De.enabled=function(e){return e.nullOrigin?!1:Jn.enabled&&e.sameOrigin?!0:Zt.enabled};De.transportName="xhr-polling";De.roundTrips=2;zn.exports=De});var Yn=c((au,Kn)=>{"use strict";var Ws=d(),Qn=J(),$s=Lt(),Xs=ye(),Zn=ze();function Ve(e){if(!Zn.enabled)throw new Error("Transport created when disabled");Qn.call(this,e,"/xhr",Xs,Zn)}Ws(Ve,Qn);Ve.enabled=$s.enabled;Ve.transportName="xdr-polling";Ve.roundTrips=2;Kn.exports=Ve});var ni=c((lu,ri)=>{"use strict";var Ae=ce(),ei=$(),Js=se(),zs=b(),Zs=d(),ti=g().EventEmitter,V=function(){};function E(e){V(e);var t=this;ti.call(this),Ae.polluteGlobalNamespace(),this.id="a"+ei.string(6);var r=zs.addQuery(e,"c="+encodeURIComponent(Ae.WPrefix+"."+this.id));global[Ae.WPrefix][this.id]=this._callback.bind(this),this._createScript(r),this.timeoutId=setTimeout(function(){V("timeout"),t._abort(new Error("JSONP script loaded abnormally (timeout)"))},E.timeout)}Zs(E,ti);E.prototype.abort=function(){if(V("abort"),global[Ae.WPrefix][this.id]){var e=new Error("JSONP user aborted read");e.code=1e3,this._abort(e)}};E.timeout=35e3;E.scriptErrorTimeout=1e3;E.prototype._callback=function(e){V("_callback",e),this._cleanup(),!this.aborting&&(e&&(V("message",e),this.emit("message",e)),this.emit("close",null,"network"),this.removeAllListeners())};E.prototype._abort=function(e){V("_abort",e),this._cleanup(),this.aborting=!0,this.emit("close",e.code,e.message),this.removeAllListeners()};E.prototype._cleanup=function(){if(V("_cleanup"),clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var e=this.script;e.parentNode.removeChild(e),e.onreadystatechange=e.onerror=e.onload=e.onclick=null,this.script=null}delete global[Ae.WPrefix][this.id]};E.prototype._scriptError=function(){V("_scriptError");var e=this;this.errorTimer||(this.errorTimer=setTimeout(function(){e.loadedOkay||e._abort(new Error("JSONP script loaded abnormally (onerror)"))},E.scriptErrorTimeout))};E.prototype._createScript=function(e){V("_createScript",e);var t=this,r=this.script=global.document.createElement("script"),n;if(r.id="a"+ei.string(8),r.src=e,r.type="text/javascript",r.charset="UTF-8",r.onerror=this._scriptError.bind(this),r.onload=function(){V("onload"),t._abort(new Error("JSONP script loaded abnormally (onload)"))},r.onreadystatechange=function(){if(V("onreadystatechange",r.readyState),/loaded|closed/.test(r.readyState)){if(r&&r.htmlFor&&r.onclick){t.loadedOkay=!0;try{r.onclick()}catch{}}r&&t._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},typeof r.async>"u"&&global.document.attachEvent)if(Js.isOpera())n=this.script2=global.document.createElement("script"),n.text="try{var a = document.getElementById('"+r.id+"'); if(a)a.onerror();}catch(x){};",r.async=n.async=!1;else{try{r.htmlFor=r.id,r.event="onclick"}catch{}r.async=!0}typeof r.async<"u"&&(r.async=!0);var i=global.document.getElementsByTagName("head")[0];i.insertBefore(r,i.firstChild),n&&i.insertBefore(n,i.firstChild)};ri.exports=E});var si=c((uu,oi)=>{"use strict";var Qs=$(),ii=b(),P=function(){},C,xe;function Ks(e){P("createIframe",e);try{return global.document.createElement('<iframe name="'+e+'">')}catch{var t=global.document.createElement("iframe");return t.name=e,t}}function Ys(){P("createForm"),C=global.document.createElement("form"),C.style.display="none",C.style.position="absolute",C.method="POST",C.enctype="application/x-www-form-urlencoded",C.acceptCharset="UTF-8",xe=global.document.createElement("textarea"),xe.name="d",C.appendChild(xe),global.document.body.appendChild(C)}oi.exports=function(e,t,r){P(e,t),C||Ys();var n="a"+Qs.string(8);C.target=n,C.action=ii.addQuery(ii.addPath(e,"/jsonp_send"),"i="+n);var i=Ks(n);i.id=n,i.style.display="none",C.appendChild(i);try{xe.value=t}catch{}C.submit();var o=function(s){P("completed",n,s),i.onerror&&(i.onreadystatechange=i.onerror=i.onload=null,setTimeout(function(){P("cleaning up",n),i.parentNode.removeChild(i),i=null},500),xe.value="",r(s))};return i.onerror=function(){P("onerror",n),o()},i.onload=function(){P("onload",n),o()},i.onreadystatechange=function(s){P("onreadystatechange",n,i.readyState,s),i.readyState==="complete"&&o()},function(){P("aborted",n),o(new Error("Aborted"))}}});var ui=c((cu,li)=>{"use strict";var ea=d(),ai=qt(),ta=ni(),ra=si();function K(e){if(!K.enabled())throw new Error("Transport created when disabled");ai.call(this,e,"/jsonp",ra,ta)}ea(K,ai);K.enabled=function(){return!!global.document};K.transportName="jsonp-polling";K.roundTrips=1;K.needBody=!0;li.exports=K});var di=c((du,ci)=>{"use strict";ci.exports=[Kr(),En(),Lt(),Ht(),Ye()(Ht()),zt(),Ye()(zt()),Qt(),Yn(),Ye()(Qt()),ui()]});var yi=c(()=>{"use strict";var Se=Array.prototype,tr=Object.prototype,na=Function.prototype,Me=String.prototype,Kt=Se.slice,rr=tr.toString,pi=function(e){return tr.toString.call(e)==="[object Function]"},ia=function(t){return rr.call(t)==="[object Array]"},gi=function(t){return rr.call(t)==="[object String]"},oa=Object.defineProperty&&(function(){try{return Object.defineProperty({},"x",{}),!0}catch{return!1}})(),er;oa?er=function(e,t,r,n){!n&&t in e||Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:r})}:er=function(e,t,r,n){!n&&t in e||(e[t]=r)};var Oe=function(e,t,r){for(var n in t)tr.hasOwnProperty.call(t,n)&&er(e,n,t[n],r)},mi=function(e){if(e==null)throw new TypeError("can't convert "+e+" to object");return Object(e)};function sa(e){var t=+e;return t!==t?t=0:t!==0&&t!==1/0&&t!==-1/0&&(t=(t>0||-1)*Math.floor(Math.abs(t))),t}function aa(e){return e>>>0}function Yt(){}Oe(na,{bind:function(t){var r=this;if(!pi(r))throw new TypeError("Function.prototype.bind called on incompatible "+r);for(var n=Kt.call(arguments,1),i=function(){if(this instanceof u){var f=r.apply(this,n.concat(Kt.call(arguments)));return Object(f)===f?f:this}else return r.apply(t,n.concat(Kt.call(arguments)))},o=Math.max(0,r.length-n.length),s=[],a=0;a<o;a++)s.push("$"+a);var u=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this, arguments); }")(i);return r.prototype&&(Yt.prototype=r.prototype,u.prototype=new Yt,Yt.prototype=null),u}});Oe(Array,{isArray:ia});var hi=Object("a"),vi=hi[0]!=="a"||!(0 in hi),la=function(t){var r=!0,n=!0;return t&&(t.call("foo",function(i,o,s){typeof s!="object"&&(r=!1)}),t.call([1],function(){"use strict";n=typeof this=="string"},"x")),!!t&&r&&n};Oe(Se,{forEach:function(t){var r=mi(this),n=vi&&gi(this)?this.split(""):r,i=arguments[1],o=-1,s=n.length>>>0;if(!pi(t))throw new TypeError;for(;++o<s;)o in n&&t.call(i,n[o],o,r)}},!la(Se.forEach));var ua=Array.prototype.indexOf&&[0,1].indexOf(1,2)!==-1;Oe(Se,{indexOf:function(t){var r=vi&&gi(this)?this.split(""):mi(this),n=r.length>>>0;if(!n)return-1;var i=0;for(arguments.length>1&&(i=sa(arguments[1])),i=i>=0?i:Math.max(0,n+i);i<n;i++)if(i in r&&r[i]===t)return i;return-1}},ua);var fi=Me.split;"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||"tesst".split(/(s)*/)[1]==="t"||"test".split(/(?:)/,-1).length!==4||"".split(/.?/).length||".".split(/()()/).length>1?(function(){var e=/()??/.exec("")[1]===void 0;Me.split=function(t,r){var n=this;if(t===void 0&&r===0)return[];if(rr.call(t)!=="[object RegExp]")return fi.call(this,t,r);var i=[],o=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":""),s=0,a,u,f,v;for(t=new RegExp(t.source,o+"g"),n+="",e||(a=new RegExp("^"+t.source+"$(?!\\s)",o)),r=r===void 0?-1>>>0:aa(r);(u=t.exec(n))&&(f=u.index+u[0].length,!(f>s&&(i.push(n.slice(s,u.index)),!e&&u.length>1&&u[0].replace(a,function(){for(var l=1;l<arguments.length-2;l++)arguments[l]===void 0&&(u[l]=void 0)}),u.length>1&&u.index<n.length&&Se.push.apply(i,u.slice(1)),v=u[0].length,s=f,i.length>=r)));)t.lastIndex===u.index&&t.lastIndex++;return s===n.length?(v||!t.test(""))&&i.push(""):i.push(n.slice(s)),i.length>r?i.slice(0,r):i}})():"0".split(void 0,0).length&&(Me.split=function(t,r){return t===void 0&&r===0?[]:fi.call(this,t,r)});var ca=Me.substr,da="".substr&&"0b".substr(-1)!=="b";Oe(Me,{substr:function(t,r){return ca.call(this,t<0&&(t=this.length+t)<0?0:t,r)}},da)});var bi=c((pu,_i)=>{"use strict";var et=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,nr,ha=function(e){var t,r={},n=[];for(t=0;t<65536;t++)n.push(String.fromCharCode(t));return e.lastIndex=0,n.join("").replace(e,function(i){return r[i]="\\u"+("0000"+i.charCodeAt(0).toString(16)).slice(-4),""}),e.lastIndex=0,r};_i.exports={quote:function(e){var t=JSON.stringify(e);return et.lastIndex=0,et.test(t)?(nr||(nr=ha(et)),t.replace(et,function(r){return nr[r]})):t}}});var Ei=c((gu,Ci)=>{"use strict";var tt=function(){};Ci.exports=function(e){return{filterToEnabled:function(t,r){var n={main:[],facade:[]};return t?typeof t=="string"&&(t=[t]):t=[],e.forEach(function(i){if(i){if(i.transportName==="websocket"&&r.websocket===!1){tt("disabled from server","websocket");return}if(t.length&&t.indexOf(i.transportName)===-1){tt("not in whitelist",i.transportName);return}i.enabled(r)?(tt("enabled",i.transportName),n.main.push(i),i.facadeTransport&&n.facade.push(i.facadeTransport)):tt("disabled",i.transportName)}}),n}}}});var Di=c((mu,wi)=>{"use strict";var ir={};["log","debug","warn"].forEach(function(e){var t;try{t=global.console&&global.console[e]&&global.console[e].apply}catch{}ir[e]=t?function(){return global.console[e].apply(global.console,arguments)}:e==="log"?function(){}:ir.log});wi.exports=ir});var rt=c((vu,Vi)=>{"use strict";function Y(e){this.type=e}Y.prototype.initEvent=function(e,t,r){return this.type=e,this.bubbles=t,this.cancelable=r,this.timeStamp=+new Date,this};Y.prototype.stopPropagation=function(){};Y.prototype.preventDefault=function(){};Y.CAPTURING_PHASE=1;Y.AT_TARGET=2;Y.BUBBLING_PHASE=3;Vi.exports=Y});var or=c((yu,Ai)=>{"use strict";Ai.exports=global.location||{origin:"http://localhost:80",protocol:"http:",host:"localhost",port:80,href:"http://localhost/",hash:""}});var Oi=c((_u,Mi)=>{"use strict";var fa=d(),xi=rt();function Si(){xi.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}fa(Si,xi);Mi.exports=Si});var qi=c((bu,Fi)=>{"use strict";var pa=d(),Ii=rt();function Ni(e){Ii.call(this),this.initEvent("message",!1,!1),this.data=e}pa(Ni,Ii);Fi.exports=Ni});var ji=c((Cu,Ri)=>{"use strict";var ki=g().EventEmitter,ga=d();function Ie(){var e=this;ki.call(this),this.to=setTimeout(function(){e.emit("finish",200,"{}")},Ie.timeout)}ga(Ie,ki);Ie.prototype.close=function(){clearTimeout(this.to)};Ie.timeout=2e3;Ri.exports=Ie});var ar=c((Eu,Pi)=>{"use strict";var Ti=g().EventEmitter,ma=d(),va=Qe(),ya=function(){};function sr(e,t){Ti.call(this);var r=this,n=+new Date;this.xo=new t("GET",e),this.xo.once("finish",function(i,o){var s,a;if(i===200){if(a=+new Date-n,o)try{s=JSON.parse(o)}catch{ya("bad json",o)}va.isObject(s)||(s={})}r.emit("finish",s,a),r.removeAllListeners()})}ma(sr,Ti);sr.prototype.close=function(){this.removeAllListeners(),this.xo.close()};Pi.exports=sr});var lr=c((wu,Bi)=>{"use strict";var _a=d(),Ui=g().EventEmitter,ba=oe(),Ca=ar();function nt(e){var t=this;Ui.call(this),this.ir=new Ca(e,ba),this.ir.once("finish",function(r,n){t.ir=null,t.emit("message",JSON.stringify([r,n]))})}_a(nt,Ui);nt.transportName="iframe-info-receiver";nt.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()};Bi.exports=nt});var Wi=c((Du,Hi)=>{"use strict";var Li=g().EventEmitter,Ea=d(),wa=F(),Gi=Xt(),Da=lr(),Va=function(){};function it(e,t){var r=this;Li.call(this);var n=function(){var i=r.ifr=new Gi(Da.transportName,t,e);i.once("message",function(o){if(o){var s;try{s=JSON.parse(o)}catch{Va("bad json",o),r.emit("finish"),r.close();return}var a=s[0],u=s[1];r.emit("finish",a,u)}r.close()}),i.once("close",function(){r.emit("finish"),r.close()})};global.document.body?n():wa.attachEvent("load",n)}Ea(it,Li);it.enabled=function(){return Gi.enabled()};it.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null};Hi.exports=it});var Qi=c((Vu,Zi)=>{"use strict";var zi=g().EventEmitter,Aa=d(),xa=b(),$i=ze(),Xi=be(),Sa=oe(),Ma=ji(),Ji=Wi(),ot=ar(),de=function(){};function U(e,t){de(e);var r=this;zi.call(this),setTimeout(function(){r.doXhr(e,t)},0)}Aa(U,zi);U._getReceiver=function(e,t,r){return r.sameOrigin?new ot(t,Sa):Xi.enabled?new ot(t,Xi):$i.enabled&&r.sameScheme?new ot(t,$i):Ji.enabled()?new Ji(e,t):new ot(t,Ma)};U.prototype.doXhr=function(e,t){var r=this,n=xa.addPath(e,"/info");de("doXhr",n),this.xo=U._getReceiver(e,n,t),this.timeoutRef=setTimeout(function(){de("timeout"),r._cleanup(!1),r.emit("finish")},U.timeout),this.xo.once("finish",function(i,o){de("finish",i,o),r._cleanup(!0),r.emit("finish",i,o)})};U.prototype._cleanup=function(e){de("_cleanup"),clearTimeout(this.timeoutRef),this.timeoutRef=null,!e&&this.xo&&this.xo.close(),this.xo=null};U.prototype.close=function(){de("close"),this.removeAllListeners(),this._cleanup(!1)};U.timeout=8e3;Zi.exports=U});var eo=c((Au,Yi)=>{"use strict";var Ki=ce();function Ne(e){this._transport=e,e.on("message",this._transportMessage.bind(this)),e.on("close",this._transportClose.bind(this))}Ne.prototype._transportClose=function(e,t){Ki.postMessage("c",JSON.stringify([e,t]))};Ne.prototype._transportMessage=function(e){Ki.postMessage("t",e)};Ne.prototype._send=function(e){this._transport.send(e)};Ne.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()};Yi.exports=Ne});var io=c((xu,no)=>{"use strict";var to=b(),Oa=F(),Ia=eo(),ro=lr(),ur=ce(),st=or(),cr=function(){};no.exports=function(e,t){var r={};t.forEach(function(i){i.facadeTransport&&(r[i.facadeTransport.transportName]=i.facadeTransport)}),r[ro.transportName]=ro;var n;e.bootstrap_iframe=function(){var i;ur.currentWindowId=st.hash.slice(1);var o=function(s){if(s.source===parent&&(typeof n>"u"&&(n=s.origin),s.origin===n)){var a;try{a=JSON.parse(s.data)}catch{cr("bad json",s.data);return}if(a.windowId===ur.currentWindowId)switch(a.type){case"s":var u;try{u=JSON.parse(a.data)}catch{cr("bad json",a.data);break}var f=u[0],v=u[1],l=u[2],y=u[3];if(cr(f,v,l,y),f!==e.version)throw new Error('Incompatible SockJS! Main site uses: "'+f+'", the iframe: "'+e.version+'".');if(!to.isOriginEqual(l,st.href)||!to.isOriginEqual(y,st.href))throw new Error("Can't connect to different domain from within an iframe. ("+st.href+", "+l+", "+y+")");i=new Ia(new r[v](l,y));break;case"m":i._send(a.data);break;case"c":i&&i._close(),i=null;break}}};Oa.attachEvent("message",o),ur.postMessage("s")}}});var ho=c((Su,co)=>{"use strict";yi();var Na=St(),Fa=d(),oo=$(),qa=bi(),Fe=b(),ka=F(),Ra=Ei(),ja=Qe(),Ta=se(),Pa=Di(),dr=rt(),ao=Ot(),at=or(),Ua=Oi(),so=qi(),Ba=Qi(),p=function(){},lo;function h(e,t,r){if(!(this instanceof h))return new h(e,t,r);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");ao.call(this),this.readyState=h.CONNECTING,this.extensions="",this.protocol="",r=r||{},r.protocols_whitelist&&Pa.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=r.transports,this._transportOptions=r.transportOptions||{},this._timeout=r.timeout||0;var n=r.sessionId||8;if(typeof n=="function")this._generateSessionId=n;else if(typeof n=="number")this._generateSessionId=function(){return oo.string(n)};else throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._server=r.server||oo.numberString(1e3);var i=new Na(e);if(!i.host||!i.protocol)throw new SyntaxError("The URL '"+e+"' is invalid");if(i.hash)throw new SyntaxError("The URL must not contain a fragment");if(i.protocol!=="http:"&&i.protocol!=="https:")throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+i.protocol+"' is not allowed.");var o=i.protocol==="https:";if(at.protocol==="https:"&&!o&&!Fe.isLoopbackAddr(i.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");t?Array.isArray(t)||(t=[t]):t=[];var s=t.sort();s.forEach(function(u,f){if(!u)throw new SyntaxError("The protocols entry '"+u+"' is invalid.");if(f<s.length-1&&u===s[f+1])throw new SyntaxError("The protocols entry '"+u+"' is duplicated.")});var a=Fe.getOrigin(at.href);this._origin=a?a.toLowerCase():null,i.set("pathname",i.pathname.replace(/\/+$/,"")),this.url=i.href,p("using url",this.url),this._urlInfo={nullOrigin:!Ta.hasDomain(),sameOrigin:Fe.isOriginEqual(this.url,at.href),sameScheme:Fe.isSchemeEqual(this.url,at.href)},this._ir=new Ba(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}Fa(h,ao);function uo(e){return e===1e3||e>=3e3&&e<=4999}h.prototype.close=function(e,t){if(e&&!uo(e))throw new Error("InvalidAccessError: Invalid code");if(t&&t.length>123)throw new SyntaxError("reason argument has an invalid length");if(!(this.readyState===h.CLOSING||this.readyState===h.CLOSED)){var r=!0;this._close(e||1e3,t||"Normal closure",r)}};h.prototype.send=function(e){if(typeof e!="string"&&(e=""+e),this.readyState===h.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===h.OPEN&&this._transport.send(qa.quote(e))};h.version=Wt();h.CONNECTING=0;h.OPEN=1;h.CLOSING=2;h.CLOSED=3;h.prototype._receiveInfo=function(e,t){if(p("_receiveInfo",t),this._ir=null,!e){this._close(1002,"Cannot connect to server");return}this._rto=this.countRTO(t),this._transUrl=e.base_url?e.base_url:this.url,e=ja.extend(e,this._urlInfo),p("info",e);var r=lo.filterToEnabled(this._transportsWhitelist,e);this._transports=r.main,p(this._transports.length+" enabled transports"),this._connect()};h.prototype._connect=function(){for(var e=this._transports.shift();e;e=this._transports.shift()){if(p("attempt",e.transportName),e.needBody&&(!global.document.body||typeof global.document.readyState<"u"&&global.document.readyState!=="complete"&&global.document.readyState!=="interactive")){p("waiting for body"),this._transports.unshift(e),ka.attachEvent("load",this._connect.bind(this));return}var t=Math.max(this._timeout,this._rto*e.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),t),p("using timeout",t);var r=Fe.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),n=this._transportOptions[e.transportName];p("transport url",r);var i=new e(r,this._transUrl,n);i.on("message",this._transportMessage.bind(this)),i.once("close",this._transportClose.bind(this)),i.transportName=e.transportName,this._transport=i;return}this._close(2e3,"All transports failed",!1)};h.prototype._transportTimeout=function(){p("_transportTimeout"),this.readyState===h.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))};h.prototype._transportMessage=function(e){p("_transportMessage",e);var t=this,r=e.slice(0,1),n=e.slice(1),i;switch(r){case"o":this._open();return;case"h":this.dispatchEvent(new dr("heartbeat")),p("heartbeat",this.transport);return}if(n)try{i=JSON.parse(n)}catch{p("bad json",n)}if(typeof i>"u"){p("empty payload",n);return}switch(r){case"a":Array.isArray(i)&&i.forEach(function(o){p("message",t.transport,o),t.dispatchEvent(new so(o))});break;case"m":p("message",this.transport,i),this.dispatchEvent(new so(i));break;case"c":Array.isArray(i)&&i.length===2&&this._close(i[0],i[1],!0);break}};h.prototype._transportClose=function(e,t){if(p("_transportClose",this.transport,e,t),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),!uo(e)&&e!==2e3&&this.readyState===h.CONNECTING){this._connect();return}this._close(e,t)};h.prototype._open=function(){p("_open",this._transport&&this._transport.transportName,this.readyState),this.readyState===h.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=h.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new dr("open")),p("connected",this.transport)):this._close(1006,"Server lost session")};h.prototype._close=function(e,t,r){p("_close",this.transport,e,t,r,this.readyState);var n=!1;if(this._ir&&(n=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===h.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=h.CLOSING,setTimeout(function(){this.readyState=h.CLOSED,n&&this.dispatchEvent(new dr("error"));var i=new Ua("close");i.wasClean=r||!1,i.code=e||1e3,i.reason=t,this.dispatchEvent(i),this.onmessage=this.onclose=this.onerror=null,p("disconnected")}.bind(this),0)};h.prototype.countRTO=function(e){return e>100?4*e:300+e};co.exports=function(e){return lo=Ra(e),io()(h,e),h}});var po=c((Mu,fo)=>{"use strict";var La=di();fo.exports=ho()(La);"_sockjs_onload"in global&&setTimeout(global._sockjs_onload,1)});var go=To(po());var Iu=(()=>{class e{constructor(){this.socket=null,this.eventSubject=new pe,this.connectionStatus=new pe,this.reconnectAttempts=0,this.maxReconnectAttempts=5,this.reconnectDelay=3e3,this.isConnecting=!1,this.connected=!1}connect(r="/ws/dlq-events"){if(this.connected&&this.socket){console.log("WebSocket already connected"),this.connectionStatus.next(!0);return}if(this.isConnecting){console.log("WebSocket connection in progress");return}this.isConnecting=!0;let n=`http://localhost:8080/api${r}`;try{this.socket=new go.default(n),this.socket.onopen=()=>{console.log("WebSocket connection established"),this.isConnecting=!1,this.connected=!0,this.reconnectAttempts=0,this.connectionStatus.next(!0)},this.socket.onmessage=i=>{try{let o=JSON.parse(i.data);this.eventSubject.next(o)}catch(o){console.error("Failed to parse WebSocket message:",o)}},this.socket.onerror=i=>{console.error("WebSocket error:",i),this.isConnecting=!1,this.connected=!1,this.connectionStatus.next(!1)},this.socket.onclose=()=>{console.log("WebSocket connection closed"),this.isConnecting=!1,this.connected=!1,this.connectionStatus.next(!1),this.attemptReconnect(r)}}catch(i){console.error("Failed to create WebSocket connection:",i),this.isConnecting=!1,this.connected=!1,this.connectionStatus.next(!1)}}attemptReconnect(r){this.reconnectAttempts<this.maxReconnectAttempts?(this.reconnectAttempts++,console.log(`Attempting to reconnect (${this.reconnectAttempts}/${this.maxReconnectAttempts})...`),setTimeout(()=>{this.connect(r)},this.reconnectDelay)):console.error("Max reconnection attempts reached")}disconnect(){this.socket&&(this.socket.close(),this.socket=null)}getEvents(){return this.eventSubject.asObservable()}getConnectionStatus(){return this.connectionStatus.asObservable()}isConnected(){return this.connected}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=pt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Do=(()=>{class e{_renderer;_elementRef;onChange=r=>{};onTouched=()=>{};constructor(r,n){this._renderer=r,this._elementRef=n}setProperty(r,n){this._renderer.setProperty(this._elementRef.nativeElement,r,n)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}static \u0275fac=function(n){return new(n||e)(_(yt),_(vt))};static \u0275dir=A({type:e})}return e})(),Vo=(()=>{class e extends Do{static \u0275fac=(()=>{let r;return function(i){return(r||(r=ge(e)))(i||e)}})();static \u0275dir=A({type:e,features:[B]})}return e})(),vr=new re("");var Ha={provide:vr,useExisting:te(()=>Ao),multi:!0};function Wa(){let e=Et()?Et().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var $a=new re(""),Ao=(()=>{class e extends Do{_compositionMode;_composing=!1;constructor(r,n,i){super(r,n),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!Wa())}writeValue(r){let n=r??"";this.setProperty("value",n)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}static \u0275fac=function(n){return new(n||e)(_(yt),_(vt),_($a,8))};static \u0275dir=A({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,i){n&1&&Ct("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[ne([Ha]),B]})}return e})();var yr=new re(""),Xa=new re("");function Ja(e){return t=>{if(t.value==null||e==null)return null;let r=parseFloat(t.value);return!isNaN(r)&&r<e?{min:{min:e,actual:t.value}}:null}}function za(e){return t=>{if(t.value==null||e==null)return null;let r=parseFloat(t.value);return!isNaN(r)&&r>e?{max:{max:e,actual:t.value}}:null}}function mo(e){return null}function xo(e){return e!=null}function So(e){return wr(e)?br(e):e}function Mo(e){let t={};return e.forEach(r=>{t=r!=null?w(w({},t),r):t}),Object.keys(t).length===0?null:t}function Oo(e,t){return t.map(r=>r(e))}function Za(e){return!e.validate}function Io(e){return e.map(t=>Za(t)?t:r=>t.validate(r))}function Qa(e){if(!e)return null;let t=e.filter(xo);return t.length==0?null:function(r){return Mo(Oo(r,t))}}function No(e){return e!=null?Qa(Io(e)):null}function Ka(e){if(!e)return null;let t=e.filter(xo);return t.length==0?null:function(r){let n=Oo(r,t).map(So);return Er(n).pipe(Cr(Mo))}}function Fo(e){return e!=null?Ka(Io(e)):null}function vo(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function Ya(e){return e._rawValidators}function el(e){return e._rawAsyncValidators}function hr(e){return e?Array.isArray(e)?e:[e]:[]}function ut(e,t){return Array.isArray(e)?e.includes(t):e===t}function yo(e,t){let r=hr(t);return hr(e).forEach(i=>{ut(r,i)||r.push(i)}),r}function _o(e,t){return hr(t).filter(r=>!ut(e,r))}var ct=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=No(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Fo(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,r){return this.control?this.control.hasError(t,r):!1}getError(t,r){return this.control?this.control.getError(t,r):null}},fr=class extends ct{name;get formDirective(){return null}get path(){return null}},Te=class extends ct{_parent=null;name=null;valueAccessor=null},pr=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var tc=(()=>{class e extends pr{constructor(r){super(r)}static \u0275fac=function(n){return new(n||e)(_(Te,2))};static \u0275dir=A({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,i){n&2&&Dr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[B]})}return e})();var qe="VALID",lt="INVALID",he="PENDING",ke="DISABLED",ee=class{},dt=class extends ee{value;source;constructor(t,r){super(),this.value=t,this.source=r}},Re=class extends ee{pristine;source;constructor(t,r){super(),this.pristine=t,this.source=r}},je=class extends ee{touched;source;constructor(t,r){super(),this.touched=t,this.source=r}},fe=class extends ee{status;source;constructor(t,r){super(),this.status=t,this.source=r}};var gr=class extends ee{source;constructor(t){super(),this.source=t}};function tl(e){return(ht(e)?e.validators:e)||null}function rl(e){return Array.isArray(e)?No(e):e||null}function nl(e,t){return(ht(t)?t.asyncValidators:e)||null}function il(e){return Array.isArray(e)?Fo(e):e||null}function ht(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}var mr=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,r){this._assignValidators(t),this._assignAsyncValidators(r)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return W(this.statusReactive)}set status(t){W(()=>this.statusReactive.set(t))}_status=Be(()=>this.statusReactive());statusReactive=Ue(void 0);get valid(){return this.status===qe}get invalid(){return this.status===lt}get pending(){return this.status==he}get disabled(){return this.status===ke}get enabled(){return this.status!==ke}errors;get pristine(){return W(this.pristineReactive)}set pristine(t){W(()=>this.pristineReactive.set(t))}_pristine=Be(()=>this.pristineReactive());pristineReactive=Ue(!0);get dirty(){return!this.pristine}get touched(){return W(this.touchedReactive)}set touched(t){W(()=>this.touchedReactive.set(t))}_touched=Be(()=>this.touchedReactive());touchedReactive=Ue(!1);get untouched(){return!this.touched}_events=new pe;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(yo(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(yo(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(_o(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(_o(t,this._rawAsyncValidators))}hasValidator(t){return ut(this._rawValidators,t)}hasAsyncValidator(t){return ut(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let r=this.touched===!1;this.touched=!0;let n=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(N(w({},t),{sourceControl:n})),r&&t.emitEvent!==!1&&this._events.next(new je(!0,n))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(r=>r.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(r=>r.markAllAsTouched(t))}markAsUntouched(t={}){let r=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let n=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:n})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n),r&&t.emitEvent!==!1&&this._events.next(new je(!1,n))}markAsDirty(t={}){let r=this.pristine===!0;this.pristine=!1;let n=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(N(w({},t),{sourceControl:n})),r&&t.emitEvent!==!1&&this._events.next(new Re(!1,n))}markAsPristine(t={}){let r=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let n=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),r&&t.emitEvent!==!1&&this._events.next(new Re(!0,n))}markAsPending(t={}){this.status=he;let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new fe(this.status,r)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(N(w({},t),{sourceControl:r}))}disable(t={}){let r=this._parentMarkedDirty(t.onlySelf);this.status=ke,this.errors=null,this._forEachChild(i=>{i.disable(N(w({},t),{onlySelf:!0}))}),this._updateValue();let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new dt(this.value,n)),this._events.next(new fe(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(N(w({},t),{skipPristineCheck:r}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let r=this._parentMarkedDirty(t.onlySelf);this.status=qe,this._forEachChild(n=>{n.enable(N(w({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(N(w({},t),{skipPristineCheck:r}),this),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t,r){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},r),this._parent._updateTouched({},r))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let n=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===qe||this.status===he)&&this._runAsyncValidator(n,t.emitEvent)}let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new dt(this.value,r)),this._events.next(new fe(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(N(w({},t),{sourceControl:r}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ke:qe}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,r){if(this.asyncValidator){this.status=he,this._hasOwnPendingAsyncValidator={emitEvent:r!==!1,shouldHaveEmitted:t!==!1};let n=So(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:r,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,r={}){this.errors=t,this._updateControlsErrors(r.emitEvent!==!1,this,r.shouldHaveEmitted)}get(t){let r=t;return r==null||(Array.isArray(r)||(r=r.split(".")),r.length===0)?null:r.reduce((n,i)=>n&&n._find(i),this)}getError(t,r){let n=r?this.get(r):this;return n&&n.errors?n.errors[t]:null}hasError(t,r){return!!this.getError(t,r)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,r,n){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||n)&&this._events.next(new fe(this.status,r)),this._parent&&this._parent._updateControlsErrors(t,r,n)}_initObservables(){this.valueChanges=new Pe,this.statusChanges=new Pe}_calculateStatus(){return this._allControlsDisabled()?ke:this.errors?lt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(he)?he:this._anyControlsHaveStatus(lt)?lt:qe}_anyControlsHaveStatus(t){return this._anyControls(r=>r.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,r){let n=!this._anyControlsDirty(),i=this.pristine!==n;this.pristine=n,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),i&&this._events.next(new Re(this.pristine,r))}_updateTouched(t={},r){this.touched=this._anyControlsTouched(),this._events.next(new je(this.touched,r)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){ht(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let r=this._parent&&this._parent.dirty;return!t&&!!r&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=rl(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=il(this._rawAsyncValidators)}};var qo=new re("",{factory:()=>_r}),_r="always";function ol(e,t){return[...t.path,e]}function sl(e,t,r=_r){ll(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||r==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),ul(e,t),dl(e,t),cl(e,t),al(e,t)}function bo(e,t){e.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(t)})}function al(e,t){if(t.valueAccessor.setDisabledState){let r=n=>{t.valueAccessor.setDisabledState(n)};e.registerOnDisabledChange(r),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(r)})}}function ll(e,t){let r=Ya(e);t.validator!==null?e.setValidators(vo(r,t.validator)):typeof r=="function"&&e.setValidators([r]);let n=el(e);t.asyncValidator!==null?e.setAsyncValidators(vo(n,t.asyncValidator)):typeof n=="function"&&e.setAsyncValidators([n]);let i=()=>e.updateValueAndValidity();bo(t._rawValidators,i),bo(t._rawAsyncValidators,i)}function ul(e,t){t.valueAccessor.registerOnChange(r=>{e._pendingValue=r,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&ko(e,t)})}function cl(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&ko(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function ko(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function dl(e,t){let r=(n,i)=>{t.valueAccessor.writeValue(n),i&&t.viewToModelUpdate(n)};e.registerOnChange(r),t._registerOnDestroy(()=>{e._unregisterOnChange(r)})}function hl(e,t){if(!e.hasOwnProperty("model"))return!1;let r=e.model;return r.isFirstChange()?!0:!Object.is(t,r.currentValue)}function fl(e){return Object.getPrototypeOf(e.constructor)===Vo}function pl(e,t){if(!t)return null;Array.isArray(t);let r,n,i;return t.forEach(o=>{o.constructor===Ao?r=o:fl(o)?n=o:i=o}),i||n||r||null}function Co(e,t){let r=e.indexOf(t);r>-1&&e.splice(r,1)}function Eo(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var gl=class extends mr{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,r,n){super(tl(r),nl(n,r)),this._applyFormState(t),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ht(r)&&(r.nonNullable||r.initialValueIsDefault)&&(Eo(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,r={}){this.value=this._pendingValue=t,this._onChange.length&&r.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,r.emitViewToModelChange!==!1)),this.updateValueAndValidity(r)}patchValue(t,r={}){this.setValue(t,r)}reset(t=this.defaultValue,r={}){this._applyFormState(t),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),r.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,r?.emitEvent!==!1&&this._events.next(new gr(this))}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Co(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Co(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){Eo(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var ml={provide:Te,useExisting:te(()=>vl)},wo=Promise.resolve(),vl=(()=>{class e extends Te{_changeDetectorRef;callSetDisabledState;control=new gl;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Pe;constructor(r,n,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=r,this._setValidators(n),this._setAsyncValidators(i),this.valueAccessor=pl(this,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let n=r.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),hl(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){sl(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){wo.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let n=r.isDisabled.currentValue,i=n!==0&&Ar(n);wo.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?ol(r,this._parent):[r]}static \u0275fac=function(n){return new(n||e)(_(fr,9),_(yr,10),_(Xa,10),_(vr,10),_(Vr,8),_(qo,8))};static \u0275dir=A({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[ne([ml]),B,mt]})}return e})();var yl={provide:vr,useExisting:te(()=>_l),multi:!0},_l=(()=>{class e extends Vo{writeValue(r){let n=r??"";this.setProperty("value",n)}registerOnChange(r){this.onChange=n=>{r(n==""?null:parseFloat(n))}}static \u0275fac=(()=>{let r;return function(i){return(r||(r=ge(e)))(i||e)}})();static \u0275dir=A({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(n,i){n&1&&Ct("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[ne([yl]),B]})}return e})();function Ro(e){return typeof e=="number"?e:parseFloat(e)}var jo=(()=>{class e{_validator=mo;_onChange;_enabled;ngOnChanges(r){if(this.inputName in r){let n=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(n),this._validator=this._enabled?this.createValidator(n):mo,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}static \u0275fac=function(n){return new(n||e)};static \u0275dir=A({type:e,features:[mt]})}return e})(),bl={provide:yr,useExisting:te(()=>Cl),multi:!0},Cl=(()=>{class e extends jo{max;inputName="max";normalizeInput=r=>Ro(r);createValidator=r=>za(r);static \u0275fac=(()=>{let r;return function(i){return(r||(r=ge(e)))(i||e)}})();static \u0275dir=A({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(n,i){n&2&&bt("max",i._enabled?i.max:null)},inputs:{max:"max"},standalone:!1,features:[ne([bl]),B]})}return e})(),El={provide:yr,useExisting:te(()=>wl),multi:!0},wl=(()=>{class e extends jo{min;inputName="min";normalizeInput=r=>Ro(r);createValidator=r=>Ja(r);static \u0275fac=(()=>{let r;return function(i){return(r||(r=ge(e)))(i||e)}})();static \u0275dir=A({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(n,i){n&2&&bt("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[ne([El]),B]})}return e})();var Dl=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=_t({type:e});static \u0275inj=gt({})}return e})();var nc=(()=>{class e{static withConfig(r){return{ngModule:e,providers:[{provide:qo,useValue:r.callSetDisabledState??_r}]}}static \u0275fac=function(n){return new(n||e)};static \u0275mod=_t({type:e});static \u0275inj=gt({imports:[Dl]})}return e})();export{Iu as a,Ao as b,tc as c,vl as d,_l as e,Cl as f,wl as g,nc as h};
