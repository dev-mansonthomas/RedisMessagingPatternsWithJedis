2025-11-21 16:22:36.391 [main] INFO  c.r.p.RedisMessagingPatternsApplication - Starting RedisMessagingPatternsApplication using Java 25.0.1 with PID 71062 (/Users/thomas.manson/Projects/RedisDLQJedis/target/classes started by thomas.manson in /Users/thomas.manson/Projects/RedisDLQJedis)
2025-11-21 16:22:36.392 [main] DEBUG c.r.p.RedisMessagingPatternsApplication - Running with Spring Boot v3.5.7, Spring v6.2.12
2025-11-21 16:22:36.392 [main] INFO  c.r.p.RedisMessagingPatternsApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-21 16:22:36.695 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-21 16:22:36.701 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-21 16:22:36.702 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-11-21 16:22:36.722 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-11-21 16:22:36.722 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 313 ms
2025-11-21 16:22:36.763 [main] INFO  c.redis.patterns.config.RedisConfig - Initializing Redis connection pool...
2025-11-21 16:22:36.763 [main] INFO  c.redis.patterns.config.RedisConfig - Redis Host: localhost
2025-11-21 16:22:36.764 [main] INFO  c.redis.patterns.config.RedisConfig - Redis Port: 6379
2025-11-21 16:22:36.764 [main] INFO  c.redis.patterns.config.RedisConfig - Pool Configuration - MaxTotal: 50, MaxIdle: 20, MinIdle: 5
2025-11-21 16:22:36.764 [main] INFO  c.redis.patterns.config.RedisConfig - Creating Redis pool without authentication
2025-11-21 16:22:36.832 [main] INFO  c.redis.patterns.config.RedisConfig - Redis connection test successful: PONG
2025-11-21 16:22:36.832 [main] INFO  c.redis.patterns.config.RedisConfig - Redis connection pool initialized successfully
2025-11-21 16:22:36.842 [main] INFO  c.r.p.service.RedisLuaFunctionLoader - Checking Redis Lua functions...
2025-11-21 16:22:36.845 [main] INFO  c.r.p.service.RedisLuaFunctionLoader - Function library 'stream_utils' not found, loading from classpath...
2025-11-21 16:22:36.845 [main] DEBUG c.r.p.service.RedisLuaFunctionLoader - Loading Lua script from: lua/stream_utils.claim_or_dlq.lua
2025-11-21 16:22:36.845 [main] DEBUG c.r.p.service.RedisLuaFunctionLoader - Loaded Lua script from /Users/thomas.manson/Projects/RedisDLQJedis/lua/stream_utils.claim_or_dlq.lua (2714 bytes)
2025-11-21 16:22:36.847 [main] INFO  c.r.p.service.RedisLuaFunctionLoader - Successfully loaded Lua function library 'stream_utils': stream_utils
2025-11-21 16:22:36.848 [main] INFO  c.r.p.service.RedisLuaFunctionLoader - Verified: Function 'claim_or_dlq' is available in Redis
2025-11-21 16:22:36.948 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-11-21 16:22:36.950 [main] INFO  c.r.p.RedisMessagingPatternsApplication - Started RedisMessagingPatternsApplication in 0.705 seconds (process running for 0.824)
2025-11-21 16:30:13.181 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-21 16:30:13.182 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-21 16:30:13.184 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-11-21 16:30:13.195 [http-nio-8080-exec-2] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/api] threw exception [Request processing failed: java.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot contain the special value "*" since that cannot be set on the "Access-Control-Allow-Origin" response header. To allow credentials to a set of origins, list them explicitly or consider using "allowedOriginPatterns" instead.] with root cause
java.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot contain the special value "*" since that cannot be set on the "Access-Control-Allow-Origin" response header. To allow credentials to a set of origins, list them explicitly or consider using "allowedOriginPatterns" instead.
	at org.springframework.web.cors.CorsConfiguration.validateAllowCredentials(CorsConfiguration.java:568)
	at org.springframework.web.servlet.handler.AbstractHandlerMapping.getHandler(AbstractHandlerMapping.java:544)
	at org.springframework.web.servlet.DispatcherServlet.getHandler(DispatcherServlet.java:1284)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1065)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1474)
2025-11-21 16:30:16.257 [http-nio-8080-exec-3] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/api] threw exception [Request processing failed: java.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot contain the special value "*" since that cannot be set on the "Access-Control-Allow-Origin" response header. To allow credentials to a set of origins, list them explicitly or consider using "allowedOriginPatterns" instead.] with root cause
java.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot contain the special value "*" since that cannot be set on the "Access-Control-Allow-Origin" response header. To allow credentials to a set of origins, list them explicitly or consider using "allowedOriginPatterns" instead.
	at org.springframework.web.cors.CorsConfiguration.validateAllowCredentials(CorsConfiguration.java:568)
	at org.springframework.web.servlet.handler.AbstractHandlerMapping.getHandler(AbstractHandlerMapping.java:544)
	at org.springframework.web.servlet.DispatcherServlet.getHandler(DispatcherServlet.java:1284)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1065)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1474)
2025-11-21 16:30:19.276 [http-nio-8080-exec-4] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/api] threw exception [Request processing failed: java.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot contain the special value "*" since that cannot be set on the "Access-Control-Allow-Origin" response header. To allow credentials to a set of origins, list them explicitly or consider using "allowedOriginPatterns" instead.] with root cause
java.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot contain the special value "*" since that cannot be set on the "Access-Control-Allow-Origin" response header. To allow credentials to a set of origins, list them explicitly or consider using "allowedOriginPatterns" instead.
	at org.springframework.web.cors.CorsConfiguration.validateAllowCredentials(CorsConfiguration.java:568)
	at org.springframework.web.servlet.handler.AbstractHandlerMapping.getHandler(AbstractHandlerMapping.java:544)
	at org.springframework.web.servlet.DispatcherServlet.getHandler(DispatcherServlet.java:1284)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1065)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1474)
2025-11-21 16:30:22.293 [http-nio-8080-exec-5] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/api] threw exception [Request processing failed: java.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot contain the special value "*" since that cannot be set on the "Access-Control-Allow-Origin" response header. To allow credentials to a set of origins, list them explicitly or consider using "allowedOriginPatterns" instead.] with root cause
java.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot contain the special value "*" since that cannot be set on the "Access-Control-Allow-Origin" response header. To allow credentials to a set of origins, list them explicitly or consider using "allowedOriginPatterns" instead.
	at org.springframework.web.cors.CorsConfiguration.validateAllowCredentials(CorsConfiguration.java:568)
	at org.springframework.web.servlet.handler.AbstractHandlerMapping.getHandler(AbstractHandlerMapping.java:544)
	at org.springframework.web.servlet.DispatcherServlet.getHandler(DispatcherServlet.java:1284)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1065)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1474)
2025-11-21 16:30:25.311 [http-nio-8080-exec-6] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/api] threw exception [Request processing failed: java.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot contain the special value "*" since that cannot be set on the "Access-Control-Allow-Origin" response header. To allow credentials to a set of origins, list them explicitly or consider using "allowedOriginPatterns" instead.] with root cause
java.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot contain the special value "*" since that cannot be set on the "Access-Control-Allow-Origin" response header. To allow credentials to a set of origins, list them explicitly or consider using "allowedOriginPatterns" instead.
	at org.springframework.web.cors.CorsConfiguration.validateAllowCredentials(CorsConfiguration.java:568)
	at org.springframework.web.servlet.handler.AbstractHandlerMapping.getHandler(AbstractHandlerMapping.java:544)
	at org.springframework.web.servlet.DispatcherServlet.getHandler(DispatcherServlet.java:1284)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1065)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1474)
2025-11-21 16:30:28.337 [http-nio-8080-exec-7] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/api] threw exception [Request processing failed: java.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot contain the special value "*" since that cannot be set on the "Access-Control-Allow-Origin" response header. To allow credentials to a set of origins, list them explicitly or consider using "allowedOriginPatterns" instead.] with root cause
java.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot contain the special value "*" since that cannot be set on the "Access-Control-Allow-Origin" response header. To allow credentials to a set of origins, list them explicitly or consider using "allowedOriginPatterns" instead.
	at org.springframework.web.cors.CorsConfiguration.validateAllowCredentials(CorsConfiguration.java:568)
	at org.springframework.web.servlet.handler.AbstractHandlerMapping.getHandler(AbstractHandlerMapping.java:544)
	at org.springframework.web.servlet.DispatcherServlet.getHandler(DispatcherServlet.java:1284)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1065)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1474)
2025-11-21 16:33:04.645 [http-nio-8080-exec-8] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/api] threw exception [Request processing failed: java.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot contain the special value "*" since that cannot be set on the "Access-Control-Allow-Origin" response header. To allow credentials to a set of origins, list them explicitly or consider using "allowedOriginPatterns" instead.] with root cause
java.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot contain the special value "*" since that cannot be set on the "Access-Control-Allow-Origin" response header. To allow credentials to a set of origins, list them explicitly or consider using "allowedOriginPatterns" instead.
	at org.springframework.web.cors.CorsConfiguration.validateAllowCredentials(CorsConfiguration.java:568)
	at org.springframework.web.servlet.handler.AbstractHandlerMapping.getHandler(AbstractHandlerMapping.java:544)
	at org.springframework.web.servlet.DispatcherServlet.getHandler(DispatcherServlet.java:1284)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1065)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1474)
2025-11-21 16:33:07.685 [http-nio-8080-exec-9] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/api] threw exception [Request processing failed: java.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot contain the special value "*" since that cannot be set on the "Access-Control-Allow-Origin" response header. To allow credentials to a set of origins, list them explicitly or consider using "allowedOriginPatterns" instead.] with root cause
java.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot contain the special value "*" since that cannot be set on the "Access-Control-Allow-Origin" response header. To allow credentials to a set of origins, list them explicitly or consider using "allowedOriginPatterns" instead.
	at org.springframework.web.cors.CorsConfiguration.validateAllowCredentials(CorsConfiguration.java:568)
	at org.springframework.web.servlet.handler.AbstractHandlerMapping.getHandler(AbstractHandlerMapping.java:544)
	at org.springframework.web.servlet.DispatcherServlet.getHandler(DispatcherServlet.java:1284)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1065)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1474)
2025-11-21 16:33:10.709 [http-nio-8080-exec-10] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/api] threw exception [Request processing failed: java.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot contain the special value "*" since that cannot be set on the "Access-Control-Allow-Origin" response header. To allow credentials to a set of origins, list them explicitly or consider using "allowedOriginPatterns" instead.] with root cause
java.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot contain the special value "*" since that cannot be set on the "Access-Control-Allow-Origin" response header. To allow credentials to a set of origins, list them explicitly or consider using "allowedOriginPatterns" instead.
	at org.springframework.web.cors.CorsConfiguration.validateAllowCredentials(CorsConfiguration.java:568)
	at org.springframework.web.servlet.handler.AbstractHandlerMapping.getHandler(AbstractHandlerMapping.java:544)
	at org.springframework.web.servlet.DispatcherServlet.getHandler(DispatcherServlet.java:1284)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1065)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1474)
2025-11-21 16:33:13.735 [http-nio-8080-exec-1] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/api] threw exception [Request processing failed: java.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot contain the special value "*" since that cannot be set on the "Access-Control-Allow-Origin" response header. To allow credentials to a set of origins, list them explicitly or consider using "allowedOriginPatterns" instead.] with root cause
java.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot contain the special value "*" since that cannot be set on the "Access-Control-Allow-Origin" response header. To allow credentials to a set of origins, list them explicitly or consider using "allowedOriginPatterns" instead.
	at org.springframework.web.cors.CorsConfiguration.validateAllowCredentials(CorsConfiguration.java:568)
	at org.springframework.web.servlet.handler.AbstractHandlerMapping.getHandler(AbstractHandlerMapping.java:544)
	at org.springframework.web.servlet.DispatcherServlet.getHandler(DispatcherServlet.java:1284)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1065)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1474)
2025-11-21 16:33:16.758 [http-nio-8080-exec-2] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/api] threw exception [Request processing failed: java.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot contain the special value "*" since that cannot be set on the "Access-Control-Allow-Origin" response header. To allow credentials to a set of origins, list them explicitly or consider using "allowedOriginPatterns" instead.] with root cause
java.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot contain the special value "*" since that cannot be set on the "Access-Control-Allow-Origin" response header. To allow credentials to a set of origins, list them explicitly or consider using "allowedOriginPatterns" instead.
	at org.springframework.web.cors.CorsConfiguration.validateAllowCredentials(CorsConfiguration.java:568)
	at org.springframework.web.servlet.handler.AbstractHandlerMapping.getHandler(AbstractHandlerMapping.java:544)
	at org.springframework.web.servlet.DispatcherServlet.getHandler(DispatcherServlet.java:1284)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1065)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1474)
2025-11-21 16:33:19.775 [http-nio-8080-exec-3] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/api] threw exception [Request processing failed: java.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot contain the special value "*" since that cannot be set on the "Access-Control-Allow-Origin" response header. To allow credentials to a set of origins, list them explicitly or consider using "allowedOriginPatterns" instead.] with root cause
java.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot contain the special value "*" since that cannot be set on the "Access-Control-Allow-Origin" response header. To allow credentials to a set of origins, list them explicitly or consider using "allowedOriginPatterns" instead.
	at org.springframework.web.cors.CorsConfiguration.validateAllowCredentials(CorsConfiguration.java:568)
	at org.springframework.web.servlet.handler.AbstractHandlerMapping.getHandler(AbstractHandlerMapping.java:544)
	at org.springframework.web.servlet.DispatcherServlet.getHandler(DispatcherServlet.java:1284)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1065)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1474)
2025-11-21 16:38:40.220 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-21 16:38:42.236 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-21 16:39:17.182 [main] INFO  c.r.p.RedisMessagingPatternsApplication - Starting RedisMessagingPatternsApplication using Java 25.0.1 with PID 78533 (/Users/thomas.manson/Projects/RedisDLQJedis/target/classes started by thomas.manson in /Users/thomas.manson/Projects/RedisDLQJedis)
2025-11-21 16:39:17.183 [main] DEBUG c.r.p.RedisMessagingPatternsApplication - Running with Spring Boot v3.5.7, Spring v6.2.12
2025-11-21 16:39:17.183 [main] INFO  c.r.p.RedisMessagingPatternsApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-21 16:39:17.472 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-21 16:39:17.479 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-21 16:39:17.479 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-11-21 16:39:17.496 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-11-21 16:39:17.496 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 295 ms
2025-11-21 16:39:17.538 [main] INFO  c.redis.patterns.config.RedisConfig - Initializing Redis connection pool...
2025-11-21 16:39:17.538 [main] INFO  c.redis.patterns.config.RedisConfig - Redis Host: localhost
2025-11-21 16:39:17.538 [main] INFO  c.redis.patterns.config.RedisConfig - Redis Port: 6379
2025-11-21 16:39:17.539 [main] INFO  c.redis.patterns.config.RedisConfig - Pool Configuration - MaxTotal: 50, MaxIdle: 20, MinIdle: 5
2025-11-21 16:39:17.539 [main] INFO  c.redis.patterns.config.RedisConfig - Creating Redis pool without authentication
2025-11-21 16:39:17.604 [main] INFO  c.redis.patterns.config.RedisConfig - Redis connection test successful: PONG
2025-11-21 16:39:17.604 [main] INFO  c.redis.patterns.config.RedisConfig - Redis connection pool initialized successfully
2025-11-21 16:39:17.615 [main] INFO  c.r.p.service.RedisLuaFunctionLoader - Checking Redis Lua functions...
2025-11-21 16:39:17.617 [main] INFO  c.r.p.service.RedisLuaFunctionLoader - Function library 'stream_utils' already loaded in Redis
2025-11-21 16:39:17.717 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-11-21 16:39:17.719 [main] INFO  c.r.p.RedisMessagingPatternsApplication - Started RedisMessagingPatternsApplication in 0.684 seconds (process running for 0.787)
2025-11-21 16:39:48.108 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-21 16:39:48.108 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-21 16:39:48.114 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 6 ms
2025-11-21 16:39:48.163 [http-nio-8080-exec-2] INFO  c.r.p.w.DLQEventWebSocketHandler - New WebSocket connection established: krz4k0ad
2025-11-21 16:39:48.163 [http-nio-8080-exec-2] INFO  c.r.p.service.WebSocketEventService - WebSocket session registered: krz4k0ad (Total active: 1)
2025-11-21 16:42:28.559 [http-nio-8080-exec-4] INFO  c.r.p.w.DLQEventWebSocketHandler - WebSocket connection closed: krz4k0ad (Status: CloseStatus[code=1000, reason=null])
2025-11-21 16:42:28.568 [http-nio-8080-exec-4] INFO  c.r.p.service.WebSocketEventService - WebSocket session removed: krz4k0ad (Sent 0 messages, Remaining active: 0)
2025-11-21 16:42:28.882 [http-nio-8080-exec-6] INFO  c.r.p.w.DLQEventWebSocketHandler - New WebSocket connection established: xkoayjqs
2025-11-21 16:42:28.883 [http-nio-8080-exec-6] INFO  c.r.p.service.WebSocketEventService - WebSocket session registered: xkoayjqs (Total active: 1)
2025-11-21 16:43:02.348 [http-nio-8080-exec-7] INFO  c.r.p.w.DLQEventWebSocketHandler - WebSocket connection closed: xkoayjqs (Status: CloseStatus[code=1000, reason=null])
2025-11-21 16:43:02.350 [http-nio-8080-exec-7] INFO  c.r.p.service.WebSocketEventService - WebSocket session removed: xkoayjqs (Sent 0 messages, Remaining active: 0)
2025-11-21 16:43:02.659 [http-nio-8080-exec-9] INFO  c.r.p.w.DLQEventWebSocketHandler - New WebSocket connection established: 0h4o3xy1
2025-11-21 16:43:02.659 [http-nio-8080-exec-9] INFO  c.r.p.service.WebSocketEventService - WebSocket session registered: 0h4o3xy1 (Total active: 1)
2025-11-21 16:44:32.086 [http-nio-8080-exec-1] INFO  c.r.p.w.DLQEventWebSocketHandler - WebSocket connection closed: 0h4o3xy1 (Status: CloseStatus[code=1000, reason=null])
2025-11-21 16:44:32.101 [http-nio-8080-exec-1] INFO  c.r.p.service.WebSocketEventService - WebSocket session removed: 0h4o3xy1 (Sent 0 messages, Remaining active: 0)
2025-11-21 16:44:32.405 [http-nio-8080-exec-3] INFO  c.r.p.w.DLQEventWebSocketHandler - New WebSocket connection established: 32mboav1
2025-11-21 16:44:32.405 [http-nio-8080-exec-3] INFO  c.r.p.service.WebSocketEventService - WebSocket session registered: 32mboav1 (Total active: 1)
2025-11-21 16:44:44.046 [http-nio-8080-exec-4] INFO  c.r.p.w.DLQEventWebSocketHandler - WebSocket connection closed: 32mboav1 (Status: CloseStatus[code=1000, reason=null])
2025-11-21 16:44:44.046 [http-nio-8080-exec-4] INFO  c.r.p.service.WebSocketEventService - WebSocket session removed: 32mboav1 (Sent 0 messages, Remaining active: 0)
2025-11-21 16:44:44.193 [http-nio-8080-exec-6] INFO  c.r.p.w.DLQEventWebSocketHandler - New WebSocket connection established: jdfasbcl
2025-11-21 16:44:44.194 [http-nio-8080-exec-6] INFO  c.r.p.service.WebSocketEventService - WebSocket session registered: jdfasbcl (Total active: 1)
2025-11-21 16:44:58.715 [http-nio-8080-exec-7] INFO  c.r.p.w.DLQEventWebSocketHandler - WebSocket connection closed: jdfasbcl (Status: CloseStatus[code=1000, reason=null])
2025-11-21 16:44:58.716 [http-nio-8080-exec-7] INFO  c.r.p.service.WebSocketEventService - WebSocket session removed: jdfasbcl (Sent 0 messages, Remaining active: 0)
2025-11-21 16:44:58.882 [http-nio-8080-exec-1] INFO  c.r.p.w.DLQEventWebSocketHandler - New WebSocket connection established: mjlykzct
2025-11-21 16:44:58.882 [http-nio-8080-exec-1] INFO  c.r.p.service.WebSocketEventService - WebSocket session registered: mjlykzct (Total active: 1)
2025-11-21 16:49:07.893 [http-nio-8080-exec-5] INFO  c.r.p.w.DLQEventWebSocketHandler - WebSocket connection closed: mjlykzct (Status: CloseStatus[code=1000, reason=null])
2025-11-21 16:49:07.896 [http-nio-8080-exec-5] INFO  c.r.p.service.WebSocketEventService - WebSocket session removed: mjlykzct (Sent 0 messages, Remaining active: 0)
2025-11-21 16:49:09.948 [http-nio-8080-exec-1] INFO  c.r.p.w.DLQEventWebSocketHandler - New WebSocket connection established: myjj5i43
2025-11-21 16:49:09.949 [http-nio-8080-exec-1] INFO  c.r.p.service.WebSocketEventService - WebSocket session registered: myjj5i43 (Total active: 1)
2025-11-21 16:51:54.283 [http-nio-8080-exec-4] INFO  c.r.p.w.DLQEventWebSocketHandler - WebSocket connection closed: myjj5i43 (Status: CloseStatus[code=1000, reason=null])
2025-11-21 16:51:54.289 [http-nio-8080-exec-4] INFO  c.r.p.service.WebSocketEventService - WebSocket session removed: myjj5i43 (Sent 0 messages, Remaining active: 0)
2025-11-21 16:51:54.620 [http-nio-8080-exec-7] INFO  c.r.p.w.DLQEventWebSocketHandler - New WebSocket connection established: xzx3k3qw
2025-11-21 16:51:54.620 [http-nio-8080-exec-7] INFO  c.r.p.service.WebSocketEventService - WebSocket session registered: xzx3k3qw (Total active: 1)
2025-11-21 16:54:40.004 [http-nio-8080-exec-3] INFO  c.r.p.w.DLQEventWebSocketHandler - WebSocket connection closed: xzx3k3qw (Status: CloseStatus[code=1000, reason=null])
2025-11-21 16:54:40.006 [http-nio-8080-exec-3] INFO  c.r.p.service.WebSocketEventService - WebSocket session removed: xzx3k3qw (Sent 0 messages, Remaining active: 0)
2025-11-21 16:54:58.134 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-21 16:55:00.153 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-21 16:55:03.043 [main] INFO  c.r.p.RedisMessagingPatternsApplication - Starting RedisMessagingPatternsApplication using Java 25.0.1 with PID 85039 (/Users/thomas.manson/Projects/RedisDLQJedis/target/classes started by thomas.manson in /Users/thomas.manson/Projects/RedisDLQJedis)
2025-11-21 16:55:03.043 [main] DEBUG c.r.p.RedisMessagingPatternsApplication - Running with Spring Boot v3.5.7, Spring v6.2.12
2025-11-21 16:55:03.044 [main] INFO  c.r.p.RedisMessagingPatternsApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-21 16:55:03.311 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-21 16:55:03.316 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-21 16:55:03.316 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-11-21 16:55:03.330 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-11-21 16:55:03.330 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 268 ms
2025-11-21 16:55:03.371 [main] INFO  c.redis.patterns.config.RedisConfig - Initializing Redis connection pool...
2025-11-21 16:55:03.371 [main] INFO  c.redis.patterns.config.RedisConfig - Redis Host: localhost
2025-11-21 16:55:03.372 [main] INFO  c.redis.patterns.config.RedisConfig - Redis Port: 6379
2025-11-21 16:55:03.372 [main] INFO  c.redis.patterns.config.RedisConfig - Pool Configuration - MaxTotal: 50, MaxIdle: 20, MinIdle: 5
2025-11-21 16:55:03.372 [main] INFO  c.redis.patterns.config.RedisConfig - Creating Redis pool without authentication
2025-11-21 16:55:03.429 [main] INFO  c.redis.patterns.config.RedisConfig - Redis connection test successful: PONG
2025-11-21 16:55:03.430 [main] INFO  c.redis.patterns.config.RedisConfig - Redis connection pool initialized successfully
2025-11-21 16:55:03.439 [main] INFO  c.r.p.service.RedisLuaFunctionLoader - Checking Redis Lua functions...
2025-11-21 16:55:03.440 [main] INFO  c.r.p.service.RedisLuaFunctionLoader - Function library 'stream_utils' already loaded in Redis
2025-11-21 16:55:03.534 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-11-21 16:55:03.536 [main] INFO  c.r.p.RedisMessagingPatternsApplication - Started RedisMessagingPatternsApplication in 0.624 seconds (process running for 0.717)
2025-11-21 16:56:12.975 [http-nio-8080-exec-3] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-21 16:56:12.977 [http-nio-8080-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-21 16:56:12.987 [http-nio-8080-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 10 ms
2025-11-21 16:56:13.041 [http-nio-8080-exec-4] INFO  c.r.p.w.DLQEventWebSocketHandler - New WebSocket connection established: zthmz4td
2025-11-21 16:56:13.042 [http-nio-8080-exec-4] INFO  c.r.p.service.WebSocketEventService - WebSocket session registered: zthmz4td (Total active: 1)
2025-11-21 17:00:58.739 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-21 17:01:00.756 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-21 17:01:00.786 [SpringApplicationShutdownHook] ERROR c.r.p.w.DLQEventWebSocketHandler - WebSocket transport error for session zthmz4td
java.io.IOException: java.nio.channels.ClosedChannelException
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlockInternal(WsRemoteEndpointImplBase.java:326)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:266)
	at org.apache.tomcat.websocket.WsSession.sendCloseMessage(WsSession.java:777)
	at org.apache.tomcat.websocket.WsSession.doClose(WsSession.java:574)
	at org.apache.tomcat.websocket.WsSession.doClose(WsSession.java:541)
	at org.apache.tomcat.websocket.WsSession.close(WsSession.java:529)
	at org.apache.tomcat.websocket.WsWebSocketContainer.destroy(WsWebSocketContainer.java:1034)
	at org.apache.tomcat.websocket.server.WsContextListener.contextDestroyed(WsContextListener.java:46)
	at org.apache.catalina.core.StandardContext.listenerStop(StandardContext.java:4078)
	at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:4688)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:235)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1217)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1206)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:328)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:81)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:149)
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:812)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:235)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1217)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1206)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:328)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:81)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:149)
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:812)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:235)
	at org.apache.catalina.core.StandardService.stopInternal(StandardService.java:466)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:235)
	at org.apache.catalina.core.StandardServer.stopInternal(StandardServer.java:913)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:235)
	at org.apache.catalina.startup.Tomcat.stop(Tomcat.java:446)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.stopTomcat(TomcatWebServer.java:301)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.destroy(TomcatWebServer.java:374)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:182)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1129)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: java.nio.channels.ClosedChannelException: null
	at org.apache.tomcat.util.net.NioChannel$1.write(NioChannel.java:282)
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper$NioOperationState.run(NioEndpoint.java:1670)
	at org.apache.tomcat.util.net.SocketWrapperBase$OperationState.start(SocketWrapperBase.java:987)
	at org.apache.tomcat.util.net.SocketWrapperBase.vectoredOperation(SocketWrapperBase.java:1358)
	at org.apache.tomcat.util.net.SocketWrapperBase.write(SocketWrapperBase.java:1287)
	at org.apache.tomcat.util.net.SocketWrapperBase.write(SocketWrapperBase.java:1262)
	at org.apache.tomcat.websocket.server.WsRemoteEndpointImplServer.doWrite(WsRemoteEndpointImplServer.java:173)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.writeMessagePart(WsRemoteEndpointImplBase.java:521)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlockInternal(WsRemoteEndpointImplBase.java:313)
	... 37 common frames omitted
2025-11-21 17:01:00.791 [SpringApplicationShutdownHook] INFO  c.r.p.service.WebSocketEventService - WebSocket session removed: zthmz4td (Sent 0 messages, Remaining active: 0)
2025-11-21 17:01:00.792 [SpringApplicationShutdownHook] INFO  c.r.p.w.DLQEventWebSocketHandler - WebSocket connection closed: zthmz4td (Status: CloseStatus[code=1001, reason=The web application is stopping])
2025-11-21 17:01:00.792 [SpringApplicationShutdownHook] INFO  c.r.p.service.WebSocketEventService - WebSocket session removed: zthmz4td (Sent null messages, Remaining active: 0)
2025-11-21 17:01:13.893 [main] INFO  c.r.p.RedisMessagingPatternsApplication - Starting RedisMessagingPatternsApplication using Java 25.0.1 with PID 87473 (/Users/thomas.manson/Projects/RedisDLQJedis/target/classes started by thomas.manson in /Users/thomas.manson/Projects/RedisDLQJedis)
2025-11-21 17:01:13.894 [main] DEBUG c.r.p.RedisMessagingPatternsApplication - Running with Spring Boot v3.5.7, Spring v6.2.12
2025-11-21 17:01:13.894 [main] INFO  c.r.p.RedisMessagingPatternsApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-21 17:01:14.193 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-21 17:01:14.199 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-21 17:01:14.199 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-11-21 17:01:14.218 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-11-21 17:01:14.218 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 307 ms
2025-11-21 17:01:14.263 [main] INFO  c.redis.patterns.config.RedisConfig - Initializing Redis connection pool...
2025-11-21 17:01:14.263 [main] INFO  c.redis.patterns.config.RedisConfig - Redis Host: localhost
2025-11-21 17:01:14.264 [main] INFO  c.redis.patterns.config.RedisConfig - Redis Port: 6379
2025-11-21 17:01:14.266 [main] INFO  c.redis.patterns.config.RedisConfig - Pool Configuration - MaxTotal: 50, MaxIdle: 20, MinIdle: 5
2025-11-21 17:01:14.267 [main] INFO  c.redis.patterns.config.RedisConfig - Creating Redis pool without authentication
2025-11-21 17:01:14.333 [main] INFO  c.redis.patterns.config.RedisConfig - Redis connection test successful: PONG
2025-11-21 17:01:14.333 [main] INFO  c.redis.patterns.config.RedisConfig - Redis connection pool initialized successfully
2025-11-21 17:01:14.342 [main] INFO  c.r.p.service.RedisLuaFunctionLoader - Checking Redis Lua functions...
2025-11-21 17:01:14.344 [main] INFO  c.r.p.service.RedisLuaFunctionLoader - Function library 'stream_utils' already loaded in Redis
2025-11-21 17:01:14.448 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-11-21 17:01:14.450 [main] INFO  c.r.p.RedisMessagingPatternsApplication - Started RedisMessagingPatternsApplication in 0.802 seconds (process running for 0.902)
2025-11-21 17:03:09.122 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-21 17:03:09.124 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-21 17:03:09.131 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 7 ms
2025-11-21 17:03:09.190 [http-nio-8080-exec-4] INFO  c.r.p.w.DLQEventWebSocketHandler - New WebSocket connection established: bzcqbjlu
2025-11-21 17:03:09.190 [http-nio-8080-exec-4] INFO  c.r.p.service.WebSocketEventService - WebSocket session registered: bzcqbjlu (Total active: 1)
2025-11-21 17:05:56.465 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-21 17:05:58.486 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-21 17:05:58.516 [SpringApplicationShutdownHook] ERROR c.r.p.w.DLQEventWebSocketHandler - WebSocket transport error for session bzcqbjlu
java.io.IOException: java.nio.channels.ClosedChannelException
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlockInternal(WsRemoteEndpointImplBase.java:326)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:266)
	at org.apache.tomcat.websocket.WsSession.sendCloseMessage(WsSession.java:777)
	at org.apache.tomcat.websocket.WsSession.doClose(WsSession.java:574)
	at org.apache.tomcat.websocket.WsSession.doClose(WsSession.java:541)
	at org.apache.tomcat.websocket.WsSession.close(WsSession.java:529)
	at org.apache.tomcat.websocket.WsWebSocketContainer.destroy(WsWebSocketContainer.java:1034)
	at org.apache.tomcat.websocket.server.WsContextListener.contextDestroyed(WsContextListener.java:46)
	at org.apache.catalina.core.StandardContext.listenerStop(StandardContext.java:4078)
	at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:4688)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:235)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1217)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1206)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:328)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:81)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:149)
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:812)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:235)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1217)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1206)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:328)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:81)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:149)
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:812)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:235)
	at org.apache.catalina.core.StandardService.stopInternal(StandardService.java:466)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:235)
	at org.apache.catalina.core.StandardServer.stopInternal(StandardServer.java:913)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:235)
	at org.apache.catalina.startup.Tomcat.stop(Tomcat.java:446)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.stopTomcat(TomcatWebServer.java:301)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.destroy(TomcatWebServer.java:374)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:182)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1129)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: java.nio.channels.ClosedChannelException: null
	at org.apache.tomcat.util.net.NioChannel$1.write(NioChannel.java:282)
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper$NioOperationState.run(NioEndpoint.java:1670)
	at org.apache.tomcat.util.net.SocketWrapperBase$OperationState.start(SocketWrapperBase.java:987)
	at org.apache.tomcat.util.net.SocketWrapperBase.vectoredOperation(SocketWrapperBase.java:1358)
	at org.apache.tomcat.util.net.SocketWrapperBase.write(SocketWrapperBase.java:1287)
	at org.apache.tomcat.util.net.SocketWrapperBase.write(SocketWrapperBase.java:1262)
	at org.apache.tomcat.websocket.server.WsRemoteEndpointImplServer.doWrite(WsRemoteEndpointImplServer.java:173)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.writeMessagePart(WsRemoteEndpointImplBase.java:521)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlockInternal(WsRemoteEndpointImplBase.java:313)
	... 37 common frames omitted
2025-11-21 17:05:58.531 [SpringApplicationShutdownHook] INFO  c.r.p.service.WebSocketEventService - WebSocket session removed: bzcqbjlu (Sent 0 messages, Remaining active: 0)
2025-11-21 17:05:58.537 [SpringApplicationShutdownHook] INFO  c.r.p.w.DLQEventWebSocketHandler - WebSocket connection closed: bzcqbjlu (Status: CloseStatus[code=1001, reason=The web application is stopping])
2025-11-21 17:05:58.539 [SpringApplicationShutdownHook] INFO  c.r.p.service.WebSocketEventService - WebSocket session removed: bzcqbjlu (Sent null messages, Remaining active: 0)
2025-11-21 17:06:00.996 [main] INFO  c.r.p.RedisMessagingPatternsApplication - Starting RedisMessagingPatternsApplication using Java 25.0.1 with PID 89373 (/Users/thomas.manson/Projects/RedisDLQJedis/target/classes started by thomas.manson in /Users/thomas.manson/Projects/RedisDLQJedis)
2025-11-21 17:06:00.997 [main] DEBUG c.r.p.RedisMessagingPatternsApplication - Running with Spring Boot v3.5.7, Spring v6.2.12
2025-11-21 17:06:00.997 [main] INFO  c.r.p.RedisMessagingPatternsApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-21 17:06:01.273 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-21 17:06:01.278 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-21 17:06:01.278 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-11-21 17:06:01.293 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-11-21 17:06:01.293 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 281 ms
2025-11-21 17:06:01.339 [main] INFO  c.redis.patterns.config.RedisConfig - Initializing Redis connection pool...
2025-11-21 17:06:01.340 [main] INFO  c.redis.patterns.config.RedisConfig - Redis Host: localhost
2025-11-21 17:06:01.340 [main] INFO  c.redis.patterns.config.RedisConfig - Redis Port: 6379
2025-11-21 17:06:01.341 [main] INFO  c.redis.patterns.config.RedisConfig - Pool Configuration - MaxTotal: 50, MaxIdle: 20, MinIdle: 5
2025-11-21 17:06:01.341 [main] INFO  c.redis.patterns.config.RedisConfig - Creating Redis pool without authentication
2025-11-21 17:06:01.399 [main] INFO  c.redis.patterns.config.RedisConfig - Redis connection test successful: PONG
2025-11-21 17:06:01.399 [main] INFO  c.redis.patterns.config.RedisConfig - Redis connection pool initialized successfully
2025-11-21 17:06:01.407 [main] INFO  c.r.p.service.RedisLuaFunctionLoader - Checking Redis Lua functions...
2025-11-21 17:06:01.410 [main] INFO  c.r.p.service.RedisLuaFunctionLoader - Function library 'stream_utils' already loaded in Redis
2025-11-21 17:06:01.503 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-11-21 17:06:01.506 [main] INFO  c.r.p.RedisMessagingPatternsApplication - Started RedisMessagingPatternsApplication in 0.639 seconds (process running for 0.729)
2025-11-21 17:06:01.518 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-21 17:06:01.518 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-21 17:06:01.518 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-11-21 17:06:01.549 [http-nio-8080-exec-2] INFO  c.r.p.w.DLQEventWebSocketHandler - New WebSocket connection established: qnbjkxn0
2025-11-21 17:06:01.549 [http-nio-8080-exec-2] INFO  c.r.p.service.WebSocketEventService - WebSocket session registered: qnbjkxn0 (Total active: 1)
2025-11-21 17:06:14.245 [http-nio-8080-exec-3] INFO  c.r.p.w.DLQEventWebSocketHandler - WebSocket connection closed: qnbjkxn0 (Status: CloseStatus[code=1000, reason=null])
2025-11-21 17:06:14.247 [http-nio-8080-exec-3] INFO  c.r.p.service.WebSocketEventService - WebSocket session removed: qnbjkxn0 (Sent 0 messages, Remaining active: 0)
2025-11-21 17:06:16.693 [http-nio-8080-exec-7] INFO  c.r.p.w.DLQEventWebSocketHandler - New WebSocket connection established: w24asvax
2025-11-21 17:06:16.693 [http-nio-8080-exec-7] INFO  c.r.p.service.WebSocketEventService - WebSocket session registered: w24asvax (Total active: 1)
2025-11-21 17:12:49.577 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-21 17:12:51.608 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-21 17:12:51.633 [SpringApplicationShutdownHook] ERROR c.r.p.w.DLQEventWebSocketHandler - WebSocket transport error for session w24asvax
java.io.IOException: java.nio.channels.ClosedChannelException
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlockInternal(WsRemoteEndpointImplBase.java:326)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:266)
	at org.apache.tomcat.websocket.WsSession.sendCloseMessage(WsSession.java:777)
	at org.apache.tomcat.websocket.WsSession.doClose(WsSession.java:574)
	at org.apache.tomcat.websocket.WsSession.doClose(WsSession.java:541)
	at org.apache.tomcat.websocket.WsSession.close(WsSession.java:529)
	at org.apache.tomcat.websocket.WsWebSocketContainer.destroy(WsWebSocketContainer.java:1034)
	at org.apache.tomcat.websocket.server.WsContextListener.contextDestroyed(WsContextListener.java:46)
	at org.apache.catalina.core.StandardContext.listenerStop(StandardContext.java:4078)
	at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:4688)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:235)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1217)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1206)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:328)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:81)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:149)
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:812)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:235)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1217)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1206)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:328)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:81)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:149)
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:812)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:235)
	at org.apache.catalina.core.StandardService.stopInternal(StandardService.java:466)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:235)
	at org.apache.catalina.core.StandardServer.stopInternal(StandardServer.java:913)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:235)
	at org.apache.catalina.startup.Tomcat.stop(Tomcat.java:446)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.stopTomcat(TomcatWebServer.java:301)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.destroy(TomcatWebServer.java:374)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:182)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1129)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: java.nio.channels.ClosedChannelException: null
	at org.apache.tomcat.util.net.NioChannel$1.write(NioChannel.java:282)
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper$NioOperationState.run(NioEndpoint.java:1670)
	at org.apache.tomcat.util.net.SocketWrapperBase$OperationState.start(SocketWrapperBase.java:987)
	at org.apache.tomcat.util.net.SocketWrapperBase.vectoredOperation(SocketWrapperBase.java:1358)
	at org.apache.tomcat.util.net.SocketWrapperBase.write(SocketWrapperBase.java:1287)
	at org.apache.tomcat.util.net.SocketWrapperBase.write(SocketWrapperBase.java:1262)
	at org.apache.tomcat.websocket.server.WsRemoteEndpointImplServer.doWrite(WsRemoteEndpointImplServer.java:173)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.writeMessagePart(WsRemoteEndpointImplBase.java:521)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlockInternal(WsRemoteEndpointImplBase.java:313)
	... 37 common frames omitted
2025-11-21 17:12:51.690 [SpringApplicationShutdownHook] INFO  c.r.p.service.WebSocketEventService - WebSocket session removed: w24asvax (Sent 0 messages, Remaining active: 0)
2025-11-21 17:12:51.691 [SpringApplicationShutdownHook] INFO  c.r.p.w.DLQEventWebSocketHandler - WebSocket connection closed: w24asvax (Status: CloseStatus[code=1001, reason=The web application is stopping])
2025-11-21 17:12:51.694 [SpringApplicationShutdownHook] INFO  c.r.p.service.WebSocketEventService - WebSocket session removed: w24asvax (Sent null messages, Remaining active: 0)
2025-11-21 17:13:18.904 [main] INFO  c.r.p.RedisMessagingPatternsApplication - Starting RedisMessagingPatternsApplication using Java 25.0.1 with PID 92372 (/Users/thomas.manson/Projects/RedisDLQJedis/target/classes started by thomas.manson in /Users/thomas.manson/Projects/RedisDLQJedis)
2025-11-21 17:13:18.905 [main] DEBUG c.r.p.RedisMessagingPatternsApplication - Running with Spring Boot v3.5.7, Spring v6.2.12
2025-11-21 17:13:18.905 [main] INFO  c.r.p.RedisMessagingPatternsApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-21 17:13:19.198 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-21 17:13:19.203 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-21 17:13:19.203 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-11-21 17:13:19.222 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-11-21 17:13:19.222 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 299 ms
2025-11-21 17:13:19.269 [main] INFO  c.redis.patterns.config.RedisConfig - Initializing Redis connection pool...
2025-11-21 17:13:19.269 [main] INFO  c.redis.patterns.config.RedisConfig - Redis Host: localhost
2025-11-21 17:13:19.270 [main] INFO  c.redis.patterns.config.RedisConfig - Redis Port: 6379
2025-11-21 17:13:19.270 [main] INFO  c.redis.patterns.config.RedisConfig - Pool Configuration - MaxTotal: 50, MaxIdle: 20, MinIdle: 5
2025-11-21 17:13:19.270 [main] INFO  c.redis.patterns.config.RedisConfig - Creating Redis pool without authentication
2025-11-21 17:13:19.337 [main] INFO  c.redis.patterns.config.RedisConfig - Redis connection test successful: PONG
2025-11-21 17:13:19.337 [main] INFO  c.redis.patterns.config.RedisConfig - Redis connection pool initialized successfully
2025-11-21 17:13:19.346 [main] INFO  c.r.p.service.RedisLuaFunctionLoader - Checking Redis Lua functions...
2025-11-21 17:13:19.348 [main] INFO  c.r.p.service.RedisLuaFunctionLoader - Function library 'stream_utils' already loaded in Redis
2025-11-21 17:13:19.438 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-11-21 17:13:19.440 [main] INFO  c.r.p.RedisMessagingPatternsApplication - Started RedisMessagingPatternsApplication in 0.68 seconds (process running for 0.787)
2025-11-21 17:17:51.719 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-21 17:17:53.735 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-21 17:18:03.727 [main] INFO  c.r.p.RedisMessagingPatternsApplication - Starting RedisMessagingPatternsApplication using Java 25.0.1 with PID 94347 (/Users/thomas.manson/Projects/RedisDLQJedis/target/classes started by thomas.manson in /Users/thomas.manson/Projects/RedisDLQJedis)
2025-11-21 17:18:03.728 [main] DEBUG c.r.p.RedisMessagingPatternsApplication - Running with Spring Boot v3.5.7, Spring v6.2.12
2025-11-21 17:18:03.728 [main] INFO  c.r.p.RedisMessagingPatternsApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-21 17:18:03.985 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-21 17:18:03.989 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-21 17:18:03.989 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-11-21 17:18:04.007 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-11-21 17:18:04.007 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 262 ms
2025-11-21 17:18:04.065 [main] DEBUG o.s.web.filter.CorsFilter - Filter 'corsFilter' configured for use
2025-11-21 17:18:04.120 [main] INFO  c.redis.patterns.config.RedisConfig - Initializing Redis connection pool...
2025-11-21 17:18:04.120 [main] INFO  c.redis.patterns.config.RedisConfig - Redis Host: localhost
2025-11-21 17:18:04.120 [main] INFO  c.redis.patterns.config.RedisConfig - Redis Port: 6379
2025-11-21 17:18:04.121 [main] INFO  c.redis.patterns.config.RedisConfig - Pool Configuration - MaxTotal: 50, MaxIdle: 20, MinIdle: 5
2025-11-21 17:18:04.121 [main] INFO  c.redis.patterns.config.RedisConfig - Creating Redis pool without authentication
2025-11-21 17:18:04.192 [main] INFO  c.redis.patterns.config.RedisConfig - Redis connection test successful: PONG
2025-11-21 17:18:04.192 [main] INFO  c.redis.patterns.config.RedisConfig - Redis connection pool initialized successfully
2025-11-21 17:18:04.203 [main] INFO  c.r.p.service.RedisLuaFunctionLoader - Checking Redis Lua functions...
2025-11-21 17:18:04.205 [main] INFO  c.r.p.service.RedisLuaFunctionLoader - Function library 'stream_utils' already loaded in Redis
2025-11-21 17:18:04.213 [main] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/ws/dlq-events/**] in 'webSocketHandlerMapping'
2025-11-21 17:18:04.258 [main] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	c.r.p.c.DLQController:
	{DELETE [/dlq/cleanup]}: cleanup(String,String)
	{POST [/dlq/claim]}: claimOrDLQ(DLQParameters)
	{POST [/dlq/produce]}: produceMessage(Map)
	{GET [/dlq/stats]}: getStats(String,String,String)
	{GET [/dlq/messages]}: getMessages(String,int)
	{POST [/dlq/test]}: runTestScenario(TestScenarioRequest)
	{POST [/dlq/test/stop]}: stopTest()
	{GET [/dlq/test/status]}: getTestStatus()
	{POST [/dlq/init]}: initializeConsumerGroup(DLQParameters)
2025-11-21 17:18:04.263 [main] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2025-11-21 17:18:04.264 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 11 mappings in 'requestMappingHandlerMapping'
2025-11-21 17:18:04.280 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-21 17:18:04.286 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-21 17:18:04.307 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-21 17:18:04.354 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-11-21 17:18:04.357 [main] INFO  c.r.p.RedisMessagingPatternsApplication - Started RedisMessagingPatternsApplication in 0.758 seconds (process running for 0.846)
2025-11-21 17:18:14.836 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-21 17:18:14.836 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-21 17:18:14.836 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-11-21 17:18:14.837 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-11-21 17:18:14.837 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-11-21 17:18:14.837 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@73023697
2025-11-21 17:18:14.837 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@7f6c94cd
2025-11-21 17:18:14.838 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-11-21 17:18:14.838 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-11-21 17:18:14.865 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dlq/messages?streamName=test-stream:dlq&count=10", parameters={masked}
2025-11-21 17:18:14.865 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/ws/dlq-events/info?t=1763741894794", parameters={masked}
2025-11-21 17:18:14.865 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dlq/messages?streamName=test-stream&count=10", parameters={masked}
2025-11-21 17:18:14.868 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@1f2f0109
2025-11-21 17:18:14.870 [http-nio-8080-exec-3] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.redis.patterns.controller.DLQController#getMessages(String, int)
2025-11-21 17:18:14.870 [http-nio-8080-exec-2] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.redis.patterns.controller.DLQController#getMessages(String, int)
2025-11-21 17:18:14.870 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/api/ws/dlq-events/info?t=1763741894794
2025-11-21 17:18:14.871 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-21 17:18:14.875 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/ws/dlq-events/161/ny1ynfqg/websocket", parameters={}
2025-11-21 17:18:14.876 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@1f2f0109
2025-11-21 17:18:14.876 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/api/ws/dlq-events/161/ny1ynfqg/websocket
2025-11-21 17:18:14.879 [http-nio-8080-exec-3] DEBUG c.r.p.controller.DLQController - Reading 10 messages from stream: test-stream:dlq
2025-11-21 17:18:14.879 [http-nio-8080-exec-2] DEBUG c.r.p.controller.DLQController - Reading 10 messages from stream: test-stream
2025-11-21 17:18:14.879 [http-nio-8080-exec-3] DEBUG c.r.p.service.DLQMessagingService - Reading 10 messages from stream 'test-stream:dlq'
2025-11-21 17:18:14.879 [http-nio-8080-exec-2] DEBUG c.r.p.service.DLQMessagingService - Reading 10 messages from stream 'test-stream'
2025-11-21 17:18:14.882 [http-nio-8080-exec-3] DEBUG c.r.p.service.DLQMessagingService - Read 0 messages from stream 'test-stream:dlq'
2025-11-21 17:18:14.883 [http-nio-8080-exec-2] DEBUG c.r.p.service.DLQMessagingService - Read 6 messages from stream 'test-stream'
2025-11-21 17:18:14.887 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-11-21 17:18:14.887 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-11-21 17:18:14.887 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-11-21 17:18:14.887 [http-nio-8080-exec-2] TRACE o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=true, count=6, messages=[{id=1763741315741-2, fields={type=order.cancelled, order_id=1003, reason=payment_failed}}, {id=1763741315741-1, fields={type=order.created, order_id=1002, amount=42.50}}, {id=1763741315741-0, fields={type=order.created, order_id=1001, amount=59.90}}, {id=1763739366410-1, fields={type=order.cancelled, order_id=1003, reason=payment_failed}}, {id=1763739366410-0, fields={type=order.created, order_id=1002, amount=42.50}}, {id=1763739366409-0, fields={type=order.created, order_id=1001, amount=59.90}}], streamName=test-stream}]
2025-11-21 17:18:14.887 [http-nio-8080-exec-3] TRACE o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=true, count=0, messages=[], streamName=test-stream:dlq}]
2025-11-21 17:18:14.890 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=ny1ynfqg]
2025-11-21 17:18:14.890 [http-nio-8080-exec-4] INFO  c.r.p.w.DLQEventWebSocketHandler - New WebSocket connection established: ny1ynfqg
2025-11-21 17:18:14.890 [http-nio-8080-exec-4] INFO  c.r.p.service.WebSocketEventService - WebSocket session registered: ny1ynfqg (Total active: 1)
2025-11-21 17:18:14.893 [http-nio-8080-exec-2] TRACE o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Applying default cacheSeconds=-1
2025-11-21 17:18:14.893 [http-nio-8080-exec-3] TRACE o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Applying default cacheSeconds=-1
2025-11-21 17:18:14.893 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-21 17:18:14.893 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-21 17:20:36.616 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=ny1ynfqg] closed with CloseStatus[code=1000, reason=null]
2025-11-21 17:20:36.618 [http-nio-8080-exec-8] INFO  c.r.p.w.DLQEventWebSocketHandler - WebSocket connection closed: ny1ynfqg (Status: CloseStatus[code=1000, reason=null])
2025-11-21 17:20:36.618 [http-nio-8080-exec-8] INFO  c.r.p.service.WebSocketEventService - WebSocket session removed: ny1ynfqg (Sent 0 messages, Remaining active: 0)
2025-11-21 17:20:36.850 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dlq/messages?streamName=test-stream:dlq&count=10", parameters={masked}
2025-11-21 17:20:36.850 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/ws/dlq-events/info?t=1763742036843", parameters={masked}
2025-11-21 17:20:36.850 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dlq/messages?streamName=test-stream&count=10", parameters={masked}
2025-11-21 17:20:36.851 [http-nio-8080-exec-9] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.redis.patterns.controller.DLQController#getMessages(String, int)
2025-11-21 17:20:36.851 [http-nio-8080-exec-10] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.redis.patterns.controller.DLQController#getMessages(String, int)
2025-11-21 17:20:36.852 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@1f2f0109
2025-11-21 17:20:36.853 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/api/ws/dlq-events/info?t=1763742036843
2025-11-21 17:20:36.854 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-21 17:20:36.860 [http-nio-8080-exec-9] DEBUG c.r.p.controller.DLQController - Reading 10 messages from stream: test-stream
2025-11-21 17:20:36.859 [http-nio-8080-exec-10] DEBUG c.r.p.controller.DLQController - Reading 10 messages from stream: test-stream:dlq
2025-11-21 17:20:36.863 [http-nio-8080-exec-9] DEBUG c.r.p.service.DLQMessagingService - Reading 10 messages from stream 'test-stream'
2025-11-21 17:20:36.863 [http-nio-8080-exec-10] DEBUG c.r.p.service.DLQMessagingService - Reading 10 messages from stream 'test-stream:dlq'
2025-11-21 17:20:36.869 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/ws/dlq-events/069/meifqfer/websocket", parameters={}
2025-11-21 17:20:36.869 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@1f2f0109
2025-11-21 17:20:36.871 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/api/ws/dlq-events/069/meifqfer/websocket
2025-11-21 17:20:36.872 [http-nio-8080-exec-9] DEBUG c.r.p.service.DLQMessagingService - Read 6 messages from stream 'test-stream'
2025-11-21 17:20:36.872 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-11-21 17:20:36.873 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=meifqfer]
2025-11-21 17:20:36.874 [http-nio-8080-exec-4] INFO  c.r.p.w.DLQEventWebSocketHandler - New WebSocket connection established: meifqfer
2025-11-21 17:20:36.874 [http-nio-8080-exec-4] INFO  c.r.p.service.WebSocketEventService - WebSocket session registered: meifqfer (Total active: 1)
2025-11-21 17:20:36.872 [http-nio-8080-exec-10] DEBUG c.r.p.service.DLQMessagingService - Read 0 messages from stream 'test-stream:dlq'
2025-11-21 17:20:36.875 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-11-21 17:20:36.875 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-11-21 17:20:36.876 [http-nio-8080-exec-10] TRACE o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=true, count=0, messages=[], streamName=test-stream:dlq}]
2025-11-21 17:20:36.876 [http-nio-8080-exec-9] TRACE o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=true, count=6, messages=[{id=1763741315741-2, fields={type=order.cancelled, order_id=1003, reason=payment_failed}}, {id=1763741315741-1, fields={type=order.created, order_id=1002, amount=42.50}}, {id=1763741315741-0, fields={type=order.created, order_id=1001, amount=59.90}}, {id=1763739366410-1, fields={type=order.cancelled, order_id=1003, reason=payment_failed}}, {id=1763739366410-0, fields={type=order.created, order_id=1002, amount=42.50}}, {id=1763739366409-0, fields={type=order.created, order_id=1001, amount=59.90}}], streamName=test-stream}]
2025-11-21 17:20:36.878 [http-nio-8080-exec-9] TRACE o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Applying default cacheSeconds=-1
2025-11-21 17:20:36.878 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-21 17:20:36.878 [http-nio-8080-exec-10] TRACE o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Applying default cacheSeconds=-1
2025-11-21 17:20:36.879 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-21 17:20:44.874 [SockJS-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [ny1ynfqg]
2025-11-21 17:24:18.754 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=meifqfer] closed with CloseStatus[code=1000, reason=null]
2025-11-21 17:24:18.757 [http-nio-8080-exec-5] INFO  c.r.p.w.DLQEventWebSocketHandler - WebSocket connection closed: meifqfer (Status: CloseStatus[code=1000, reason=null])
2025-11-21 17:24:18.758 [http-nio-8080-exec-5] INFO  c.r.p.service.WebSocketEventService - WebSocket session removed: meifqfer (Sent 0 messages, Remaining active: 0)
2025-11-21 17:24:18.980 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/ws/dlq-events/info?t=1763742258972", parameters={masked}
2025-11-21 17:24:18.980 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dlq/messages?streamName=test-stream:dlq&count=10", parameters={masked}
2025-11-21 17:24:18.980 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dlq/messages?streamName=test-stream&count=10", parameters={masked}
2025-11-21 17:24:18.984 [http-nio-8080-exec-8] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.redis.patterns.controller.DLQController#getMessages(String, int)
2025-11-21 17:24:18.984 [http-nio-8080-exec-6] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.redis.patterns.controller.DLQController#getMessages(String, int)
2025-11-21 17:24:18.990 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@1f2f0109
2025-11-21 17:24:18.993 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/api/ws/dlq-events/info?t=1763742258972
2025-11-21 17:24:18.997 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-21 17:24:19.001 [http-nio-8080-exec-8] DEBUG c.r.p.controller.DLQController - Reading 10 messages from stream: test-stream:dlq
2025-11-21 17:24:19.000 [http-nio-8080-exec-6] DEBUG c.r.p.controller.DLQController - Reading 10 messages from stream: test-stream
2025-11-21 17:24:19.004 [http-nio-8080-exec-8] DEBUG c.r.p.service.DLQMessagingService - Reading 10 messages from stream 'test-stream:dlq'
2025-11-21 17:24:19.004 [http-nio-8080-exec-6] DEBUG c.r.p.service.DLQMessagingService - Reading 10 messages from stream 'test-stream'
2025-11-21 17:24:19.012 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/ws/dlq-events/325/n5ccku3l/websocket", parameters={}
2025-11-21 17:24:19.012 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@1f2f0109
2025-11-21 17:24:19.013 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/api/ws/dlq-events/325/n5ccku3l/websocket
2025-11-21 17:24:19.018 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-11-21 17:24:19.020 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=n5ccku3l]
2025-11-21 17:24:19.020 [http-nio-8080-exec-4] INFO  c.r.p.w.DLQEventWebSocketHandler - New WebSocket connection established: n5ccku3l
2025-11-21 17:24:19.020 [http-nio-8080-exec-4] INFO  c.r.p.service.WebSocketEventService - WebSocket session registered: n5ccku3l (Total active: 1)
2025-11-21 17:24:19.020 [http-nio-8080-exec-8] DEBUG c.r.p.service.DLQMessagingService - Read 0 messages from stream 'test-stream:dlq'
2025-11-21 17:24:19.021 [http-nio-8080-exec-6] DEBUG c.r.p.service.DLQMessagingService - Read 6 messages from stream 'test-stream'
2025-11-21 17:24:19.022 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-11-21 17:24:19.022 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-11-21 17:24:19.022 [http-nio-8080-exec-8] TRACE o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=true, count=0, messages=[], streamName=test-stream:dlq}]
2025-11-21 17:24:19.022 [http-nio-8080-exec-6] TRACE o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=true, count=6, messages=[{id=1763741315741-2, fields={type=order.cancelled, order_id=1003, reason=payment_failed}}, {id=1763741315741-1, fields={type=order.created, order_id=1002, amount=42.50}}, {id=1763741315741-0, fields={type=order.created, order_id=1001, amount=59.90}}, {id=1763739366410-1, fields={type=order.cancelled, order_id=1003, reason=payment_failed}}, {id=1763739366410-0, fields={type=order.created, order_id=1002, amount=42.50}}, {id=1763739366409-0, fields={type=order.created, order_id=1001, amount=59.90}}], streamName=test-stream}]
2025-11-21 17:24:19.022 [http-nio-8080-exec-6] TRACE o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Applying default cacheSeconds=-1
2025-11-21 17:24:19.022 [http-nio-8080-exec-8] TRACE o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Applying default cacheSeconds=-1
2025-11-21 17:24:19.022 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-21 17:24:19.023 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-21 17:24:24.874 [SockJS-11] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [meifqfer]
2025-11-21 17:24:34.543 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=n5ccku3l] closed with CloseStatus[code=1000, reason=null]
2025-11-21 17:24:34.543 [http-nio-8080-exec-9] INFO  c.r.p.w.DLQEventWebSocketHandler - WebSocket connection closed: n5ccku3l (Status: CloseStatus[code=1000, reason=null])
2025-11-21 17:24:34.544 [http-nio-8080-exec-9] INFO  c.r.p.service.WebSocketEventService - WebSocket session removed: n5ccku3l (Sent 0 messages, Remaining active: 0)
2025-11-21 17:24:34.735 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dlq/messages?streamName=test-stream&count=10", parameters={masked}
2025-11-21 17:24:34.737 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/ws/dlq-events/info?t=1763742274723", parameters={masked}
2025-11-21 17:24:34.734 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dlq/messages?streamName=test-stream:dlq&count=10", parameters={masked}
2025-11-21 17:24:34.747 [http-nio-8080-exec-10] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.redis.patterns.controller.DLQController#getMessages(String, int)
2025-11-21 17:24:34.746 [http-nio-8080-exec-7] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.redis.patterns.controller.DLQController#getMessages(String, int)
2025-11-21 17:24:34.747 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@1f2f0109
2025-11-21 17:24:34.749 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/api/ws/dlq-events/info?t=1763742274723
2025-11-21 17:24:34.750 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-21 17:24:34.752 [http-nio-8080-exec-7] DEBUG c.r.p.controller.DLQController - Reading 10 messages from stream: test-stream:dlq
2025-11-21 17:24:34.752 [http-nio-8080-exec-7] DEBUG c.r.p.service.DLQMessagingService - Reading 10 messages from stream 'test-stream:dlq'
2025-11-21 17:24:34.751 [http-nio-8080-exec-10] DEBUG c.r.p.controller.DLQController - Reading 10 messages from stream: test-stream
2025-11-21 17:24:34.752 [http-nio-8080-exec-10] DEBUG c.r.p.service.DLQMessagingService - Reading 10 messages from stream 'test-stream'
2025-11-21 17:24:34.757 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/ws/dlq-events/928/krytyslq/websocket", parameters={}
2025-11-21 17:24:34.758 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@1f2f0109
2025-11-21 17:24:34.762 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/api/ws/dlq-events/928/krytyslq/websocket
2025-11-21 17:24:34.764 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-11-21 17:24:34.766 [http-nio-8080-exec-7] DEBUG c.r.p.service.DLQMessagingService - Read 0 messages from stream 'test-stream:dlq'
2025-11-21 17:24:34.767 [http-nio-8080-exec-10] DEBUG c.r.p.service.DLQMessagingService - Read 6 messages from stream 'test-stream'
2025-11-21 17:24:34.767 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=krytyslq]
2025-11-21 17:24:34.767 [http-nio-8080-exec-3] INFO  c.r.p.w.DLQEventWebSocketHandler - New WebSocket connection established: krytyslq
2025-11-21 17:24:34.767 [http-nio-8080-exec-3] INFO  c.r.p.service.WebSocketEventService - WebSocket session registered: krytyslq (Total active: 1)
2025-11-21 17:24:34.771 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-11-21 17:24:34.771 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-11-21 17:24:34.771 [http-nio-8080-exec-7] TRACE o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=true, count=0, messages=[], streamName=test-stream:dlq}]
2025-11-21 17:24:34.772 [http-nio-8080-exec-10] TRACE o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=true, count=6, messages=[{id=1763741315741-2, fields={type=order.cancelled, order_id=1003, reason=payment_failed}}, {id=1763741315741-1, fields={type=order.created, order_id=1002, amount=42.50}}, {id=1763741315741-0, fields={type=order.created, order_id=1001, amount=59.90}}, {id=1763739366410-1, fields={type=order.cancelled, order_id=1003, reason=payment_failed}}, {id=1763739366410-0, fields={type=order.created, order_id=1002, amount=42.50}}, {id=1763739366409-0, fields={type=order.created, order_id=1001, amount=59.90}}], streamName=test-stream}]
2025-11-21 17:24:34.775 [http-nio-8080-exec-10] TRACE o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Applying default cacheSeconds=-1
2025-11-21 17:24:34.775 [http-nio-8080-exec-7] TRACE o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Applying default cacheSeconds=-1
2025-11-21 17:24:34.776 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-21 17:24:34.776 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-21 17:24:39.872 [SockJS-11] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [n5ccku3l]
2025-11-21 17:24:46.065 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=krytyslq] closed with CloseStatus[code=1000, reason=null]
2025-11-21 17:24:46.066 [http-nio-8080-exec-5] INFO  c.r.p.w.DLQEventWebSocketHandler - WebSocket connection closed: krytyslq (Status: CloseStatus[code=1000, reason=null])
2025-11-21 17:24:46.067 [http-nio-8080-exec-5] INFO  c.r.p.service.WebSocketEventService - WebSocket session removed: krytyslq (Sent 0 messages, Remaining active: 0)
2025-11-21 17:24:46.202 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dlq/messages?streamName=test-stream&count=10", parameters={masked}
2025-11-21 17:24:46.202 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dlq/messages?streamName=test-stream:dlq&count=10", parameters={masked}
2025-11-21 17:24:46.203 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/ws/dlq-events/info?t=1763742286200", parameters={masked}
2025-11-21 17:24:46.203 [http-nio-8080-exec-4] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.redis.patterns.controller.DLQController#getMessages(String, int)
2025-11-21 17:24:46.203 [http-nio-8080-exec-1] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.redis.patterns.controller.DLQController#getMessages(String, int)
2025-11-21 17:24:46.204 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@1f2f0109
2025-11-21 17:24:46.204 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/api/ws/dlq-events/info?t=1763742286200
2025-11-21 17:24:46.205 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-21 17:24:46.208 [http-nio-8080-exec-4] DEBUG c.r.p.controller.DLQController - Reading 10 messages from stream: test-stream:dlq
2025-11-21 17:24:46.208 [http-nio-8080-exec-1] DEBUG c.r.p.controller.DLQController - Reading 10 messages from stream: test-stream
2025-11-21 17:24:46.208 [http-nio-8080-exec-1] DEBUG c.r.p.service.DLQMessagingService - Reading 10 messages from stream 'test-stream'
2025-11-21 17:24:46.208 [http-nio-8080-exec-4] DEBUG c.r.p.service.DLQMessagingService - Reading 10 messages from stream 'test-stream:dlq'
2025-11-21 17:24:46.213 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/ws/dlq-events/310/kcjql42t/websocket", parameters={}
2025-11-21 17:24:46.213 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@1f2f0109
2025-11-21 17:24:46.215 [http-nio-8080-exec-4] DEBUG c.r.p.service.DLQMessagingService - Read 0 messages from stream 'test-stream:dlq'
2025-11-21 17:24:46.216 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/api/ws/dlq-events/310/kcjql42t/websocket
2025-11-21 17:24:46.216 [http-nio-8080-exec-1] DEBUG c.r.p.service.DLQMessagingService - Read 6 messages from stream 'test-stream'
2025-11-21 17:24:46.218 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-11-21 17:24:46.218 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-11-21 17:24:46.218 [http-nio-8080-exec-1] TRACE o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=true, count=6, messages=[{id=1763741315741-2, fields={type=order.cancelled, order_id=1003, reason=payment_failed}}, {id=1763741315741-1, fields={type=order.created, order_id=1002, amount=42.50}}, {id=1763741315741-0, fields={type=order.created, order_id=1001, amount=59.90}}, {id=1763739366410-1, fields={type=order.cancelled, order_id=1003, reason=payment_failed}}, {id=1763739366410-0, fields={type=order.created, order_id=1002, amount=42.50}}, {id=1763739366409-0, fields={type=order.created, order_id=1001, amount=59.90}}], streamName=test-stream}]
2025-11-21 17:24:46.219 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-11-21 17:24:46.219 [http-nio-8080-exec-4] TRACE o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=true, count=0, messages=[], streamName=test-stream:dlq}]
2025-11-21 17:24:46.226 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=kcjql42t]
2025-11-21 17:24:46.226 [http-nio-8080-exec-8] INFO  c.r.p.w.DLQEventWebSocketHandler - New WebSocket connection established: kcjql42t
2025-11-21 17:24:46.226 [http-nio-8080-exec-8] INFO  c.r.p.service.WebSocketEventService - WebSocket session registered: kcjql42t (Total active: 1)
2025-11-21 17:24:46.228 [http-nio-8080-exec-4] TRACE o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Applying default cacheSeconds=-1
2025-11-21 17:24:46.229 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-21 17:24:46.229 [http-nio-8080-exec-1] TRACE o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Applying default cacheSeconds=-1
2025-11-21 17:24:46.229 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-21 17:24:54.874 [SockJS-11] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [krytyslq]
2025-11-21 17:24:55.746 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=kcjql42t] closed with CloseStatus[code=1000, reason=null]
2025-11-21 17:24:55.746 [http-nio-8080-exec-9] INFO  c.r.p.w.DLQEventWebSocketHandler - WebSocket connection closed: kcjql42t (Status: CloseStatus[code=1000, reason=null])
2025-11-21 17:24:55.747 [http-nio-8080-exec-9] INFO  c.r.p.service.WebSocketEventService - WebSocket session removed: kcjql42t (Sent 0 messages, Remaining active: 0)
2025-11-21 17:24:55.835 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dlq/messages?streamName=test-stream&count=10", parameters={masked}
2025-11-21 17:24:55.835 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dlq/messages?streamName=test-stream:dlq&count=10", parameters={masked}
2025-11-21 17:24:55.836 [http-nio-8080-exec-2] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.redis.patterns.controller.DLQController#getMessages(String, int)
2025-11-21 17:24:55.836 [http-nio-8080-exec-3] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.redis.patterns.controller.DLQController#getMessages(String, int)
2025-11-21 17:24:55.836 [http-nio-8080-exec-2] DEBUG c.r.p.controller.DLQController - Reading 10 messages from stream: test-stream
2025-11-21 17:24:55.836 [http-nio-8080-exec-2] DEBUG c.r.p.service.DLQMessagingService - Reading 10 messages from stream 'test-stream'
2025-11-21 17:24:55.836 [http-nio-8080-exec-3] DEBUG c.r.p.controller.DLQController - Reading 10 messages from stream: test-stream:dlq
2025-11-21 17:24:55.836 [http-nio-8080-exec-3] DEBUG c.r.p.service.DLQMessagingService - Reading 10 messages from stream 'test-stream:dlq'
2025-11-21 17:24:55.839 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/ws/dlq-events/info?t=1763742295837", parameters={masked}
2025-11-21 17:24:55.840 [http-nio-8080-exec-3] DEBUG c.r.p.service.DLQMessagingService - Read 0 messages from stream 'test-stream:dlq'
2025-11-21 17:24:55.840 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@1f2f0109
2025-11-21 17:24:55.840 [http-nio-8080-exec-2] DEBUG c.r.p.service.DLQMessagingService - Read 6 messages from stream 'test-stream'
2025-11-21 17:24:55.840 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-11-21 17:24:55.840 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/api/ws/dlq-events/info?t=1763742295837
2025-11-21 17:24:55.840 [http-nio-8080-exec-3] TRACE o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=true, count=0, messages=[], streamName=test-stream:dlq}]
2025-11-21 17:24:55.840 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-11-21 17:24:55.841 [http-nio-8080-exec-2] TRACE o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=true, count=6, messages=[{id=1763741315741-2, fields={type=order.cancelled, order_id=1003, reason=payment_failed}}, {id=1763741315741-1, fields={type=order.created, order_id=1002, amount=42.50}}, {id=1763741315741-0, fields={type=order.created, order_id=1001, amount=59.90}}, {id=1763739366410-1, fields={type=order.cancelled, order_id=1003, reason=payment_failed}}, {id=1763739366410-0, fields={type=order.created, order_id=1002, amount=42.50}}, {id=1763739366409-0, fields={type=order.created, order_id=1001, amount=59.90}}], streamName=test-stream}]
2025-11-21 17:24:55.841 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-21 17:24:55.841 [http-nio-8080-exec-3] TRACE o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Applying default cacheSeconds=-1
2025-11-21 17:24:55.841 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-21 17:24:55.841 [http-nio-8080-exec-2] TRACE o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Applying default cacheSeconds=-1
2025-11-21 17:24:55.841 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-21 17:24:55.844 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/ws/dlq-events/405/yyzfg2jt/websocket", parameters={}
2025-11-21 17:24:55.845 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@1f2f0109
2025-11-21 17:24:55.845 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/api/ws/dlq-events/405/yyzfg2jt/websocket
2025-11-21 17:24:55.846 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-11-21 17:24:55.846 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=yyzfg2jt]
2025-11-21 17:24:55.846 [http-nio-8080-exec-7] INFO  c.r.p.w.DLQEventWebSocketHandler - New WebSocket connection established: yyzfg2jt
2025-11-21 17:24:55.846 [http-nio-8080-exec-7] INFO  c.r.p.service.WebSocketEventService - WebSocket session registered: yyzfg2jt (Total active: 1)
2025-11-21 17:25:04.875 [SockJS-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [kcjql42t]
2025-11-21 17:27:09.706 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dlq/messages?streamName=test-stream:dlq&count=10", parameters={masked}
2025-11-21 17:27:09.706 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dlq/messages?streamName=test-stream&count=10", parameters={masked}
2025-11-21 17:27:09.710 [http-nio-8080-exec-8] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.redis.patterns.controller.DLQController#getMessages(String, int)
2025-11-21 17:27:09.710 [http-nio-8080-exec-4] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.redis.patterns.controller.DLQController#getMessages(String, int)
2025-11-21 17:27:09.713 [http-nio-8080-exec-8] DEBUG c.r.p.controller.DLQController - Reading 10 messages from stream: test-stream:dlq
2025-11-21 17:27:09.713 [http-nio-8080-exec-4] DEBUG c.r.p.controller.DLQController - Reading 10 messages from stream: test-stream
2025-11-21 17:27:09.714 [http-nio-8080-exec-8] DEBUG c.r.p.service.DLQMessagingService - Reading 10 messages from stream 'test-stream:dlq'
2025-11-21 17:27:09.714 [http-nio-8080-exec-4] DEBUG c.r.p.service.DLQMessagingService - Reading 10 messages from stream 'test-stream'
2025-11-21 17:27:09.716 [http-nio-8080-exec-8] DEBUG c.r.p.service.DLQMessagingService - Read 0 messages from stream 'test-stream:dlq'
2025-11-21 17:27:09.716 [http-nio-8080-exec-4] DEBUG c.r.p.service.DLQMessagingService - Read 6 messages from stream 'test-stream'
2025-11-21 17:27:09.718 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-11-21 17:27:09.718 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-11-21 17:27:09.718 [http-nio-8080-exec-8] TRACE o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=true, count=0, messages=[], streamName=test-stream:dlq}]
2025-11-21 17:27:09.718 [http-nio-8080-exec-4] TRACE o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=true, count=6, messages=[{id=1763741315741-2, fields={type=order.cancelled, order_id=1003, reason=payment_failed}}, {id=1763741315741-1, fields={type=order.created, order_id=1002, amount=42.50}}, {id=1763741315741-0, fields={type=order.created, order_id=1001, amount=59.90}}, {id=1763739366410-1, fields={type=order.cancelled, order_id=1003, reason=payment_failed}}, {id=1763739366410-0, fields={type=order.created, order_id=1002, amount=42.50}}, {id=1763739366409-0, fields={type=order.created, order_id=1001, amount=59.90}}], streamName=test-stream}]
2025-11-21 17:27:09.722 [http-nio-8080-exec-8] TRACE o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Applying default cacheSeconds=-1
2025-11-21 17:27:09.722 [http-nio-8080-exec-4] TRACE o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Applying default cacheSeconds=-1
2025-11-21 17:27:09.722 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-21 17:27:09.722 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-21 17:27:15.759 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=yyzfg2jt] closed with CloseStatus[code=1000, reason=null]
2025-11-21 17:27:15.760 [http-nio-8080-exec-9] INFO  c.r.p.w.DLQEventWebSocketHandler - WebSocket connection closed: yyzfg2jt (Status: CloseStatus[code=1000, reason=null])
2025-11-21 17:27:15.761 [http-nio-8080-exec-9] INFO  c.r.p.service.WebSocketEventService - WebSocket session removed: yyzfg2jt (Sent 0 messages, Remaining active: 0)
2025-11-21 17:27:15.945 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dlq/messages?streamName=test-stream&count=10", parameters={masked}
2025-11-21 17:27:15.947 [http-nio-8080-exec-10] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.redis.patterns.controller.DLQController#getMessages(String, int)
2025-11-21 17:27:15.949 [http-nio-8080-exec-10] DEBUG c.r.p.controller.DLQController - Reading 10 messages from stream: test-stream
2025-11-21 17:27:15.949 [http-nio-8080-exec-10] DEBUG c.r.p.service.DLQMessagingService - Reading 10 messages from stream 'test-stream'
2025-11-21 17:27:15.949 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dlq/messages?streamName=test-stream:dlq&count=10", parameters={masked}
2025-11-21 17:27:15.951 [http-nio-8080-exec-3] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.redis.patterns.controller.DLQController#getMessages(String, int)
2025-11-21 17:27:15.952 [http-nio-8080-exec-3] DEBUG c.r.p.controller.DLQController - Reading 10 messages from stream: test-stream:dlq
2025-11-21 17:27:15.952 [http-nio-8080-exec-3] DEBUG c.r.p.service.DLQMessagingService - Reading 10 messages from stream 'test-stream:dlq'
2025-11-21 17:27:15.953 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/ws/dlq-events/info?t=1763742435947", parameters={masked}
2025-11-21 17:27:15.954 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@1f2f0109
2025-11-21 17:27:15.954 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/api/ws/dlq-events/info?t=1763742435947
2025-11-21 17:27:15.954 [http-nio-8080-exec-10] DEBUG c.r.p.service.DLQMessagingService - Read 6 messages from stream 'test-stream'
2025-11-21 17:27:15.955 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-11-21 17:27:15.955 [http-nio-8080-exec-10] TRACE o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=true, count=6, messages=[{id=1763741315741-2, fields={type=order.cancelled, order_id=1003, reason=payment_failed}}, {id=1763741315741-1, fields={type=order.created, order_id=1002, amount=42.50}}, {id=1763741315741-0, fields={type=order.created, order_id=1001, amount=59.90}}, {id=1763739366410-1, fields={type=order.cancelled, order_id=1003, reason=payment_failed}}, {id=1763739366410-0, fields={type=order.created, order_id=1002, amount=42.50}}, {id=1763739366409-0, fields={type=order.created, order_id=1001, amount=59.90}}], streamName=test-stream}]
2025-11-21 17:27:15.955 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-21 17:27:15.956 [http-nio-8080-exec-10] TRACE o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Applying default cacheSeconds=-1
2025-11-21 17:27:15.956 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-21 17:27:15.956 [http-nio-8080-exec-3] DEBUG c.r.p.service.DLQMessagingService - Read 0 messages from stream 'test-stream:dlq'
2025-11-21 17:27:15.957 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-11-21 17:27:15.957 [http-nio-8080-exec-3] TRACE o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=true, count=0, messages=[], streamName=test-stream:dlq}]
2025-11-21 17:27:15.958 [http-nio-8080-exec-3] TRACE o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Applying default cacheSeconds=-1
2025-11-21 17:27:15.958 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-21 17:27:15.959 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/ws/dlq-events/463/tyknq2yi/websocket", parameters={}
2025-11-21 17:27:15.959 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@1f2f0109
2025-11-21 17:27:15.960 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/api/ws/dlq-events/463/tyknq2yi/websocket
2025-11-21 17:27:15.962 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-11-21 17:27:15.963 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=tyknq2yi]
2025-11-21 17:27:15.963 [http-nio-8080-exec-7] INFO  c.r.p.w.DLQEventWebSocketHandler - New WebSocket connection established: tyknq2yi
2025-11-21 17:27:15.963 [http-nio-8080-exec-7] INFO  c.r.p.service.WebSocketEventService - WebSocket session registered: tyknq2yi (Total active: 1)
2025-11-21 17:27:24.874 [SockJS-11] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [yyzfg2jt]
2025-11-21 17:27:25.775 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dlq/messages?streamName=test-stream:dlq&count=10", parameters={masked}
2025-11-21 17:27:25.776 [http-nio-8080-exec-6] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.redis.patterns.controller.DLQController#getMessages(String, int)
2025-11-21 17:27:25.777 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dlq/messages?streamName=test-stream&count=10", parameters={masked}
2025-11-21 17:27:25.778 [http-nio-8080-exec-6] DEBUG c.r.p.controller.DLQController - Reading 10 messages from stream: test-stream:dlq
2025-11-21 17:27:25.778 [http-nio-8080-exec-6] DEBUG c.r.p.service.DLQMessagingService - Reading 10 messages from stream 'test-stream:dlq'
2025-11-21 17:27:25.778 [http-nio-8080-exec-5] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.redis.patterns.controller.DLQController#getMessages(String, int)
2025-11-21 17:27:25.779 [http-nio-8080-exec-5] DEBUG c.r.p.controller.DLQController - Reading 10 messages from stream: test-stream
2025-11-21 17:27:25.779 [http-nio-8080-exec-5] DEBUG c.r.p.service.DLQMessagingService - Reading 10 messages from stream 'test-stream'
2025-11-21 17:27:25.783 [http-nio-8080-exec-6] DEBUG c.r.p.service.DLQMessagingService - Read 0 messages from stream 'test-stream:dlq'
2025-11-21 17:27:25.783 [http-nio-8080-exec-5] DEBUG c.r.p.service.DLQMessagingService - Read 6 messages from stream 'test-stream'
2025-11-21 17:27:25.784 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-11-21 17:27:25.784 [http-nio-8080-exec-6] TRACE o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=true, count=0, messages=[], streamName=test-stream:dlq}]
2025-11-21 17:27:25.785 [http-nio-8080-exec-6] TRACE o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Applying default cacheSeconds=-1
2025-11-21 17:27:25.786 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-21 17:27:25.787 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-11-21 17:27:25.787 [http-nio-8080-exec-5] TRACE o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=true, count=6, messages=[{id=1763741315741-2, fields={type=order.cancelled, order_id=1003, reason=payment_failed}}, {id=1763741315741-1, fields={type=order.created, order_id=1002, amount=42.50}}, {id=1763741315741-0, fields={type=order.created, order_id=1001, amount=59.90}}, {id=1763739366410-1, fields={type=order.cancelled, order_id=1003, reason=payment_failed}}, {id=1763739366410-0, fields={type=order.created, order_id=1002, amount=42.50}}, {id=1763739366409-0, fields={type=order.created, order_id=1001, amount=59.90}}], streamName=test-stream}]
2025-11-21 17:27:25.788 [http-nio-8080-exec-5] TRACE o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Applying default cacheSeconds=-1
2025-11-21 17:27:25.788 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-21 17:28:24.815 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=tyknq2yi] closed with CloseStatus[code=1000, reason=null]
2025-11-21 17:28:24.816 [http-nio-8080-exec-8] INFO  c.r.p.w.DLQEventWebSocketHandler - WebSocket connection closed: tyknq2yi (Status: CloseStatus[code=1000, reason=null])
2025-11-21 17:28:24.816 [http-nio-8080-exec-8] INFO  c.r.p.service.WebSocketEventService - WebSocket session removed: tyknq2yi (Sent 0 messages, Remaining active: 0)
2025-11-21 17:28:25.067 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dlq/messages?streamName=test-stream&count=10", parameters={masked}
2025-11-21 17:28:25.067 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dlq/messages?streamName=test-stream:dlq&count=10", parameters={masked}
2025-11-21 17:28:25.067 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/ws/dlq-events/info?t=1763742505062", parameters={masked}
2025-11-21 17:28:25.068 [http-nio-8080-exec-9] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.redis.patterns.controller.DLQController#getMessages(String, int)
2025-11-21 17:28:25.069 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@1f2f0109
2025-11-21 17:28:25.068 [http-nio-8080-exec-4] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.redis.patterns.controller.DLQController#getMessages(String, int)
2025-11-21 17:28:25.069 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/api/ws/dlq-events/info?t=1763742505062
2025-11-21 17:28:25.070 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-21 17:28:25.071 [http-nio-8080-exec-9] DEBUG c.r.p.controller.DLQController - Reading 10 messages from stream: test-stream:dlq
2025-11-21 17:28:25.071 [http-nio-8080-exec-4] DEBUG c.r.p.controller.DLQController - Reading 10 messages from stream: test-stream
2025-11-21 17:28:25.071 [http-nio-8080-exec-9] DEBUG c.r.p.service.DLQMessagingService - Reading 10 messages from stream 'test-stream:dlq'
2025-11-21 17:28:25.071 [http-nio-8080-exec-4] DEBUG c.r.p.service.DLQMessagingService - Reading 10 messages from stream 'test-stream'
2025-11-21 17:28:25.073 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/ws/dlq-events/353/mkwawhkz/websocket", parameters={}
2025-11-21 17:28:25.074 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@1f2f0109
2025-11-21 17:28:25.074 [http-nio-8080-exec-9] DEBUG c.r.p.service.DLQMessagingService - Read 0 messages from stream 'test-stream:dlq'
2025-11-21 17:28:25.074 [http-nio-8080-exec-4] DEBUG c.r.p.service.DLQMessagingService - Read 6 messages from stream 'test-stream'
2025-11-21 17:28:25.074 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/api/ws/dlq-events/353/mkwawhkz/websocket
2025-11-21 17:28:25.075 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-11-21 17:28:25.075 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-11-21 17:28:25.076 [http-nio-8080-exec-4] TRACE o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=true, count=6, messages=[{id=1763741315741-2, fields={type=order.cancelled, order_id=1003, reason=payment_failed}}, {id=1763741315741-1, fields={type=order.created, order_id=1002, amount=42.50}}, {id=1763741315741-0, fields={type=order.created, order_id=1001, amount=59.90}}, {id=1763739366410-1, fields={type=order.cancelled, order_id=1003, reason=payment_failed}}, {id=1763739366410-0, fields={type=order.created, order_id=1002, amount=42.50}}, {id=1763739366409-0, fields={type=order.created, order_id=1001, amount=59.90}}], streamName=test-stream}]
2025-11-21 17:28:25.076 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-11-21 17:28:25.076 [http-nio-8080-exec-9] TRACE o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=true, count=0, messages=[], streamName=test-stream:dlq}]
2025-11-21 17:28:25.077 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=mkwawhkz]
2025-11-21 17:28:25.077 [http-nio-8080-exec-10] INFO  c.r.p.w.DLQEventWebSocketHandler - New WebSocket connection established: mkwawhkz
2025-11-21 17:28:25.077 [http-nio-8080-exec-10] INFO  c.r.p.service.WebSocketEventService - WebSocket session registered: mkwawhkz (Total active: 1)
2025-11-21 17:28:25.077 [http-nio-8080-exec-4] TRACE o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Applying default cacheSeconds=-1
2025-11-21 17:28:25.077 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-21 17:28:25.078 [http-nio-8080-exec-9] TRACE o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Applying default cacheSeconds=-1
2025-11-21 17:28:25.078 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-21 17:28:29.874 [SockJS-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [tyknq2yi]
2025-11-21 17:30:11.348 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dlq/messages?streamName=test-stream&count=10", parameters={masked}
2025-11-21 17:30:11.349 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dlq/messages?streamName=test-stream:dlq&count=10", parameters={masked}
2025-11-21 17:30:11.352 [http-nio-8080-exec-1] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.redis.patterns.controller.DLQController#getMessages(String, int)
2025-11-21 17:30:11.352 [http-nio-8080-exec-5] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.redis.patterns.controller.DLQController#getMessages(String, int)
2025-11-21 17:30:11.356 [http-nio-8080-exec-5] DEBUG c.r.p.controller.DLQController - Reading 10 messages from stream: test-stream:dlq
2025-11-21 17:30:11.356 [http-nio-8080-exec-1] DEBUG c.r.p.controller.DLQController - Reading 10 messages from stream: test-stream
2025-11-21 17:30:11.356 [http-nio-8080-exec-5] DEBUG c.r.p.service.DLQMessagingService - Reading 10 messages from stream 'test-stream:dlq'
2025-11-21 17:30:11.356 [http-nio-8080-exec-1] DEBUG c.r.p.service.DLQMessagingService - Reading 10 messages from stream 'test-stream'
2025-11-21 17:30:11.359 [http-nio-8080-exec-5] DEBUG c.r.p.service.DLQMessagingService - Read 0 messages from stream 'test-stream:dlq'
2025-11-21 17:30:11.359 [http-nio-8080-exec-1] DEBUG c.r.p.service.DLQMessagingService - Read 6 messages from stream 'test-stream'
2025-11-21 17:30:11.364 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-11-21 17:30:11.364 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-11-21 17:30:11.364 [http-nio-8080-exec-5] TRACE o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=true, count=0, messages=[], streamName=test-stream:dlq}]
2025-11-21 17:30:11.364 [http-nio-8080-exec-1] TRACE o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=true, count=6, messages=[{id=1763741315741-2, fields={type=order.cancelled, order_id=1003, reason=payment_failed}}, {id=1763741315741-1, fields={type=order.created, order_id=1002, amount=42.50}}, {id=1763741315741-0, fields={type=order.created, order_id=1001, amount=59.90}}, {id=1763739366410-1, fields={type=order.cancelled, order_id=1003, reason=payment_failed}}, {id=1763739366410-0, fields={type=order.created, order_id=1002, amount=42.50}}, {id=1763739366409-0, fields={type=order.created, order_id=1001, amount=59.90}}], streamName=test-stream}]
2025-11-21 17:30:11.367 [http-nio-8080-exec-1] TRACE o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Applying default cacheSeconds=-1
2025-11-21 17:30:11.367 [http-nio-8080-exec-5] TRACE o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Applying default cacheSeconds=-1
2025-11-21 17:30:11.367 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-21 17:30:11.367 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-21 17:30:17.859 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dlq/messages?streamName=test-stream&count=10", parameters={masked}
2025-11-21 17:30:17.859 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dlq/messages?streamName=test-stream:dlq&count=10", parameters={masked}
2025-11-21 17:30:17.860 [http-nio-8080-exec-2] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.redis.patterns.controller.DLQController#getMessages(String, int)
2025-11-21 17:30:17.860 [http-nio-8080-exec-8] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.redis.patterns.controller.DLQController#getMessages(String, int)
2025-11-21 17:30:17.861 [http-nio-8080-exec-8] DEBUG c.r.p.controller.DLQController - Reading 10 messages from stream: test-stream
2025-11-21 17:30:17.861 [http-nio-8080-exec-8] DEBUG c.r.p.service.DLQMessagingService - Reading 10 messages from stream 'test-stream'
2025-11-21 17:30:17.861 [http-nio-8080-exec-2] DEBUG c.r.p.controller.DLQController - Reading 10 messages from stream: test-stream:dlq
2025-11-21 17:30:17.861 [http-nio-8080-exec-2] DEBUG c.r.p.service.DLQMessagingService - Reading 10 messages from stream 'test-stream:dlq'
2025-11-21 17:30:17.864 [http-nio-8080-exec-2] DEBUG c.r.p.service.DLQMessagingService - Read 0 messages from stream 'test-stream:dlq'
2025-11-21 17:30:17.864 [http-nio-8080-exec-8] DEBUG c.r.p.service.DLQMessagingService - Read 7 messages from stream 'test-stream'
2025-11-21 17:30:17.864 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-11-21 17:30:17.864 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-11-21 17:30:17.864 [http-nio-8080-exec-2] TRACE o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=true, count=0, messages=[], streamName=test-stream:dlq}]
2025-11-21 17:30:17.864 [http-nio-8080-exec-8] TRACE o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=true, count=7, messages=[{id=1763742616990-0, fields={type=order.cancelled, order_id=1003, reason=payment_failed}}, {id=1763741315741-2, fields={type=order.cancelled, order_id=1003, reason=payment_failed}}, {id=1763741315741-1, fields={type=order.created, order_id=1002, amount=42.50}}, {id=1763741315741-0, fields={type=order.created, order_id=1001, amount=59.90}}, {id=1763739366410-1, fields={type=order.cancelled, order_id=1003, reason=payment_failed}}, {id=1763739366410-0, fields={type=order.created, order_id=1002, amount=42.50}}, {id=1763739366409-0, fields={type=order.created, order_id=1001, amount=59.90}}], streamName=test-stream}]
2025-11-21 17:30:17.865 [http-nio-8080-exec-8] TRACE o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Applying default cacheSeconds=-1
2025-11-21 17:30:17.865 [http-nio-8080-exec-2] TRACE o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Applying default cacheSeconds=-1
2025-11-21 17:30:17.865 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-21 17:30:17.865 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-21 17:30:17.870 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/ws/dlq-events/info?t=1763742617867", parameters={masked}
2025-11-21 17:30:17.871 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@1f2f0109
2025-11-21 17:30:17.871 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/api/ws/dlq-events/info?t=1763742617867
2025-11-21 17:30:17.871 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-21 17:30:17.875 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/ws/dlq-events/683/5wwp4cny/websocket", parameters={}
2025-11-21 17:30:17.876 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@1f2f0109
2025-11-21 17:30:17.876 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/api/ws/dlq-events/683/5wwp4cny/websocket
2025-11-21 17:30:17.879 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-11-21 17:30:17.879 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=5wwp4cny]
2025-11-21 17:30:17.880 [http-nio-8080-exec-10] INFO  c.r.p.w.DLQEventWebSocketHandler - New WebSocket connection established: 5wwp4cny
2025-11-21 17:30:17.880 [http-nio-8080-exec-10] INFO  c.r.p.service.WebSocketEventService - WebSocket session registered: 5wwp4cny (Total active: 2)
2025-11-21 17:30:25.248 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=5wwp4cny] closed with CloseStatus[code=1000, reason=null]
2025-11-21 17:30:25.248 [http-nio-8080-exec-9] INFO  c.r.p.w.DLQEventWebSocketHandler - WebSocket connection closed: 5wwp4cny (Status: CloseStatus[code=1000, reason=null])
2025-11-21 17:30:25.249 [http-nio-8080-exec-9] INFO  c.r.p.service.WebSocketEventService - WebSocket session removed: 5wwp4cny (Sent 0 messages, Remaining active: 1)
2025-11-21 17:30:34.872 [SockJS-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [5wwp4cny]
2025-11-21 17:31:33.993 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=mkwawhkz] closed with CloseStatus[code=1000, reason=null]
2025-11-21 17:31:34.002 [http-nio-8080-exec-5] INFO  c.r.p.w.DLQEventWebSocketHandler - WebSocket connection closed: mkwawhkz (Status: CloseStatus[code=1000, reason=null])
2025-11-21 17:31:34.006 [http-nio-8080-exec-5] INFO  c.r.p.service.WebSocketEventService - WebSocket session removed: mkwawhkz (Sent 0 messages, Remaining active: 0)
2025-11-21 17:31:34.168 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dlq/messages?streamName=test-stream:dlq&count=10", parameters={masked}
2025-11-21 17:31:34.168 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dlq/messages?streamName=test-stream&count=10", parameters={masked}
2025-11-21 17:31:34.169 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/ws/dlq-events/info?t=1763742694166", parameters={masked}
2025-11-21 17:31:34.169 [http-nio-8080-exec-8] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.redis.patterns.controller.DLQController#getMessages(String, int)
2025-11-21 17:31:34.169 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@1f2f0109
2025-11-21 17:31:34.169 [http-nio-8080-exec-1] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.redis.patterns.controller.DLQController#getMessages(String, int)
2025-11-21 17:31:34.169 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/api/ws/dlq-events/info?t=1763742694166
2025-11-21 17:31:34.170 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-21 17:31:34.171 [http-nio-8080-exec-1] DEBUG c.r.p.controller.DLQController - Reading 10 messages from stream: test-stream
2025-11-21 17:31:34.171 [http-nio-8080-exec-1] DEBUG c.r.p.service.DLQMessagingService - Reading 10 messages from stream 'test-stream'
2025-11-21 17:31:34.171 [http-nio-8080-exec-8] DEBUG c.r.p.controller.DLQController - Reading 10 messages from stream: test-stream:dlq
2025-11-21 17:31:34.171 [http-nio-8080-exec-8] DEBUG c.r.p.service.DLQMessagingService - Reading 10 messages from stream 'test-stream:dlq'
2025-11-21 17:31:34.174 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/ws/dlq-events/071/bcdvom3j/websocket", parameters={}
2025-11-21 17:31:34.174 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@1f2f0109
2025-11-21 17:31:34.175 [http-nio-8080-exec-8] DEBUG c.r.p.service.DLQMessagingService - Read 0 messages from stream 'test-stream:dlq'
2025-11-21 17:31:34.175 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/api/ws/dlq-events/071/bcdvom3j/websocket
2025-11-21 17:31:34.175 [http-nio-8080-exec-1] DEBUG c.r.p.service.DLQMessagingService - Read 8 messages from stream 'test-stream'
2025-11-21 17:31:34.177 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-11-21 17:31:34.177 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-11-21 17:31:34.177 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-11-21 17:31:34.178 [http-nio-8080-exec-8] TRACE o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=true, count=0, messages=[], streamName=test-stream:dlq}]
2025-11-21 17:31:34.178 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=bcdvom3j]
2025-11-21 17:31:34.178 [http-nio-8080-exec-1] TRACE o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=true, count=8, messages=[{id=1763742631658-0, fields={type=order.cancelled, order_id=1003, reason=payment_failed}}, {id=1763742616990-0, fields={type=order.cancelled, order_id=1003, reason=payment_failed}}, {id=1763741315741-2, fields={type=order.cancelled, order_id=1003, reason=payment_failed}}, {id=1763741315741-1, fields={type=order.created, order_id=1002, amount=42.50}}, {id=1763741315741-0, fields={type=order.created, order_id=1001, amount=59.90}}, {id=1763739366410-1, fields={type=order.cancelled, order_id=1003, reason=payment_failed}}, {id=1763739366410-0, fields={type=order.created, order_id=1002, amount=42.50}}, {id=1763739366409-0, fields={type=order.created, order_id=1001, amount=59.90}}], streamName=test-stream}]
2025-11-21 17:31:34.178 [http-nio-8080-exec-4] INFO  c.r.p.w.DLQEventWebSocketHandler - New WebSocket connection established: bcdvom3j
2025-11-21 17:31:34.178 [http-nio-8080-exec-4] INFO  c.r.p.service.WebSocketEventService - WebSocket session registered: bcdvom3j (Total active: 1)
2025-11-21 17:31:34.179 [http-nio-8080-exec-8] TRACE o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Applying default cacheSeconds=-1
2025-11-21 17:31:34.180 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-21 17:31:34.179 [http-nio-8080-exec-1] TRACE o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Applying default cacheSeconds=-1
2025-11-21 17:31:34.180 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-21 17:31:39.872 [SockJS-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [mkwawhkz]
2025-11-21 17:31:43.974 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=bcdvom3j] closed with CloseStatus[code=1000, reason=null]
2025-11-21 17:31:43.975 [http-nio-8080-exec-10] INFO  c.r.p.w.DLQEventWebSocketHandler - WebSocket connection closed: bcdvom3j (Status: CloseStatus[code=1000, reason=null])
2025-11-21 17:31:43.975 [http-nio-8080-exec-10] INFO  c.r.p.service.WebSocketEventService - WebSocket session removed: bcdvom3j (Sent 0 messages, Remaining active: 0)
2025-11-21 17:31:44.053 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dlq/messages?streamName=test-stream:dlq&count=10", parameters={masked}
2025-11-21 17:31:44.054 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dlq/messages?streamName=test-stream&count=10", parameters={masked}
2025-11-21 17:31:44.054 [http-nio-8080-exec-9] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.redis.patterns.controller.DLQController#getMessages(String, int)
2025-11-21 17:31:44.054 [http-nio-8080-exec-3] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.redis.patterns.controller.DLQController#getMessages(String, int)
2025-11-21 17:31:44.055 [http-nio-8080-exec-9] DEBUG c.r.p.controller.DLQController - Reading 10 messages from stream: test-stream
2025-11-21 17:31:44.055 [http-nio-8080-exec-3] DEBUG c.r.p.controller.DLQController - Reading 10 messages from stream: test-stream:dlq
2025-11-21 17:31:44.055 [http-nio-8080-exec-9] DEBUG c.r.p.service.DLQMessagingService - Reading 10 messages from stream 'test-stream'
2025-11-21 17:31:44.055 [http-nio-8080-exec-3] DEBUG c.r.p.service.DLQMessagingService - Reading 10 messages from stream 'test-stream:dlq'
2025-11-21 17:31:44.058 [http-nio-8080-exec-9] DEBUG c.r.p.service.DLQMessagingService - Read 8 messages from stream 'test-stream'
2025-11-21 17:31:44.058 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/ws/dlq-events/info?t=1763742704055", parameters={masked}
2025-11-21 17:31:44.058 [http-nio-8080-exec-3] DEBUG c.r.p.service.DLQMessagingService - Read 0 messages from stream 'test-stream:dlq'
2025-11-21 17:31:44.058 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-11-21 17:31:44.058 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@1f2f0109
2025-11-21 17:31:44.059 [http-nio-8080-exec-3] TRACE o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=true, count=0, messages=[], streamName=test-stream:dlq}]
2025-11-21 17:31:44.058 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-11-21 17:31:44.059 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/api/ws/dlq-events/info?t=1763742704055
2025-11-21 17:31:44.059 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-21 17:31:44.059 [http-nio-8080-exec-9] TRACE o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=true, count=8, messages=[{id=1763742631658-0, fields={type=order.cancelled, order_id=1003, reason=payment_failed}}, {id=1763742616990-0, fields={type=order.cancelled, order_id=1003, reason=payment_failed}}, {id=1763741315741-2, fields={type=order.cancelled, order_id=1003, reason=payment_failed}}, {id=1763741315741-1, fields={type=order.created, order_id=1002, amount=42.50}}, {id=1763741315741-0, fields={type=order.created, order_id=1001, amount=59.90}}, {id=1763739366410-1, fields={type=order.cancelled, order_id=1003, reason=payment_failed}}, {id=1763739366410-0, fields={type=order.created, order_id=1002, amount=42.50}}, {id=1763739366409-0, fields={type=order.created, order_id=1001, amount=59.90}}], streamName=test-stream}]
2025-11-21 17:31:44.059 [http-nio-8080-exec-3] TRACE o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Applying default cacheSeconds=-1
2025-11-21 17:31:44.060 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-21 17:31:44.059 [http-nio-8080-exec-9] TRACE o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Applying default cacheSeconds=-1
2025-11-21 17:31:44.060 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-21 17:31:44.064 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/ws/dlq-events/335/lxc10x1a/websocket", parameters={}
2025-11-21 17:31:44.065 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@1f2f0109
2025-11-21 17:31:44.065 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/api/ws/dlq-events/335/lxc10x1a/websocket
2025-11-21 17:31:44.067 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-11-21 17:31:44.067 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=lxc10x1a]
2025-11-21 17:31:44.068 [http-nio-8080-exec-6] INFO  c.r.p.w.DLQEventWebSocketHandler - New WebSocket connection established: lxc10x1a
2025-11-21 17:31:44.068 [http-nio-8080-exec-6] INFO  c.r.p.service.WebSocketEventService - WebSocket session registered: lxc10x1a (Total active: 1)
2025-11-21 17:31:49.872 [SockJS-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [bcdvom3j]
2025-11-21 17:31:59.968 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=lxc10x1a] closed with CloseStatus[code=1000, reason=null]
2025-11-21 17:31:59.968 [http-nio-8080-exec-5] INFO  c.r.p.w.DLQEventWebSocketHandler - WebSocket connection closed: lxc10x1a (Status: CloseStatus[code=1000, reason=null])
2025-11-21 17:31:59.969 [http-nio-8080-exec-5] INFO  c.r.p.service.WebSocketEventService - WebSocket session removed: lxc10x1a (Sent 0 messages, Remaining active: 0)
2025-11-21 17:32:00.067 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dlq/messages?streamName=test-stream:dlq&count=10", parameters={masked}
2025-11-21 17:32:00.068 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/ws/dlq-events/info?t=1763742720062", parameters={masked}
2025-11-21 17:32:00.069 [http-nio-8080-exec-4] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.redis.patterns.controller.DLQController#getMessages(String, int)
2025-11-21 17:32:00.070 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dlq/messages?streamName=test-stream&count=10", parameters={masked}
2025-11-21 17:32:00.070 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@1f2f0109
2025-11-21 17:32:00.071 [http-nio-8080-exec-2] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.redis.patterns.controller.DLQController#getMessages(String, int)
2025-11-21 17:32:00.071 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/api/ws/dlq-events/info?t=1763742720062
2025-11-21 17:32:00.072 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-21 17:32:00.073 [http-nio-8080-exec-2] DEBUG c.r.p.controller.DLQController - Reading 10 messages from stream: test-stream
2025-11-21 17:32:00.073 [http-nio-8080-exec-4] DEBUG c.r.p.controller.DLQController - Reading 10 messages from stream: test-stream:dlq
2025-11-21 17:32:00.073 [http-nio-8080-exec-2] DEBUG c.r.p.service.DLQMessagingService - Reading 10 messages from stream 'test-stream'
2025-11-21 17:32:00.073 [http-nio-8080-exec-4] DEBUG c.r.p.service.DLQMessagingService - Reading 10 messages from stream 'test-stream:dlq'
2025-11-21 17:32:00.078 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/ws/dlq-events/394/3lhstbnr/websocket", parameters={}
2025-11-21 17:32:00.079 [http-nio-8080-exec-4] DEBUG c.r.p.service.DLQMessagingService - Read 0 messages from stream 'test-stream:dlq'
2025-11-21 17:32:00.079 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@1f2f0109
2025-11-21 17:32:00.079 [http-nio-8080-exec-2] DEBUG c.r.p.service.DLQMessagingService - Read 8 messages from stream 'test-stream'
2025-11-21 17:32:00.079 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/api/ws/dlq-events/394/3lhstbnr/websocket
2025-11-21 17:32:00.080 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-11-21 17:32:00.080 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-11-21 17:32:00.080 [http-nio-8080-exec-4] TRACE o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=true, count=0, messages=[], streamName=test-stream:dlq}]
2025-11-21 17:32:00.080 [http-nio-8080-exec-2] TRACE o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=true, count=8, messages=[{id=1763742631658-0, fields={type=order.cancelled, order_id=1003, reason=payment_failed}}, {id=1763742616990-0, fields={type=order.cancelled, order_id=1003, reason=payment_failed}}, {id=1763741315741-2, fields={type=order.cancelled, order_id=1003, reason=payment_failed}}, {id=1763741315741-1, fields={type=order.created, order_id=1002, amount=42.50}}, {id=1763741315741-0, fields={type=order.created, order_id=1001, amount=59.90}}, {id=1763739366410-1, fields={type=order.cancelled, order_id=1003, reason=payment_failed}}, {id=1763739366410-0, fields={type=order.created, order_id=1002, amount=42.50}}, {id=1763739366409-0, fields={type=order.created, order_id=1001, amount=59.90}}], streamName=test-stream}]
2025-11-21 17:32:00.081 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-11-21 17:32:00.081 [http-nio-8080-exec-4] TRACE o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Applying default cacheSeconds=-1
2025-11-21 17:32:00.081 [http-nio-8080-exec-2] TRACE o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Applying default cacheSeconds=-1
2025-11-21 17:32:00.081 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=3lhstbnr]
2025-11-21 17:32:00.081 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-21 17:32:00.081 [http-nio-8080-exec-1] INFO  c.r.p.w.DLQEventWebSocketHandler - New WebSocket connection established: 3lhstbnr
2025-11-21 17:32:00.081 [http-nio-8080-exec-1] INFO  c.r.p.service.WebSocketEventService - WebSocket session registered: 3lhstbnr (Total active: 1)
2025-11-21 17:32:00.081 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-21 17:32:09.872 [SockJS-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [lxc10x1a]
2025-11-21 17:32:10.985 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=3lhstbnr] closed with CloseStatus[code=1000, reason=null]
2025-11-21 17:32:10.986 [http-nio-8080-exec-10] INFO  c.r.p.w.DLQEventWebSocketHandler - WebSocket connection closed: 3lhstbnr (Status: CloseStatus[code=1000, reason=null])
2025-11-21 17:32:10.986 [http-nio-8080-exec-10] INFO  c.r.p.service.WebSocketEventService - WebSocket session removed: 3lhstbnr (Sent 0 messages, Remaining active: 0)
2025-11-21 17:32:11.120 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/ws/dlq-events/info?t=1763742731112", parameters={masked}
2025-11-21 17:32:11.120 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dlq/messages?streamName=test-stream:dlq&count=10", parameters={masked}
2025-11-21 17:32:11.120 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dlq/messages?streamName=test-stream&count=10", parameters={masked}
2025-11-21 17:32:11.123 [http-nio-8080-exec-7] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.redis.patterns.controller.DLQController#getMessages(String, int)
2025-11-21 17:32:11.123 [http-nio-8080-exec-3] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.redis.patterns.controller.DLQController#getMessages(String, int)
2025-11-21 17:32:11.124 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@1f2f0109
2025-11-21 17:32:11.125 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/api/ws/dlq-events/info?t=1763742731112
2025-11-21 17:32:11.127 [http-nio-8080-exec-7] DEBUG c.r.p.controller.DLQController - Reading 10 messages from stream: test-stream
2025-11-21 17:32:11.127 [http-nio-8080-exec-3] DEBUG c.r.p.controller.DLQController - Reading 10 messages from stream: test-stream:dlq
2025-11-21 17:32:11.134 [http-nio-8080-exec-7] DEBUG c.r.p.service.DLQMessagingService - Reading 10 messages from stream 'test-stream'
2025-11-21 17:32:11.135 [http-nio-8080-exec-3] DEBUG c.r.p.service.DLQMessagingService - Reading 10 messages from stream 'test-stream:dlq'
2025-11-21 17:32:11.128 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-21 17:32:11.149 [http-nio-8080-exec-7] DEBUG c.r.p.service.DLQMessagingService - Read 8 messages from stream 'test-stream'
2025-11-21 17:32:11.148 [http-nio-8080-exec-3] DEBUG c.r.p.service.DLQMessagingService - Read 0 messages from stream 'test-stream:dlq'
2025-11-21 17:32:11.153 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-11-21 17:32:11.153 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-11-21 17:32:11.154 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/ws/dlq-events/176/pte2lmw1/websocket", parameters={}
2025-11-21 17:32:11.155 [http-nio-8080-exec-3] TRACE o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=true, count=0, messages=[], streamName=test-stream:dlq}]
2025-11-21 17:32:11.155 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@1f2f0109
2025-11-21 17:32:11.155 [http-nio-8080-exec-7] TRACE o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=true, count=8, messages=[{id=1763742631658-0, fields={type=order.cancelled, order_id=1003, reason=payment_failed}}, {id=1763742616990-0, fields={type=order.cancelled, order_id=1003, reason=payment_failed}}, {id=1763741315741-2, fields={type=order.cancelled, order_id=1003, reason=payment_failed}}, {id=1763741315741-1, fields={type=order.created, order_id=1002, amount=42.50}}, {id=1763741315741-0, fields={type=order.created, order_id=1001, amount=59.90}}, {id=1763739366410-1, fields={type=order.cancelled, order_id=1003, reason=payment_failed}}, {id=1763739366410-0, fields={type=order.created, order_id=1002, amount=42.50}}, {id=1763739366409-0, fields={type=order.created, order_id=1001, amount=59.90}}], streamName=test-stream}]
2025-11-21 17:32:11.157 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/api/ws/dlq-events/176/pte2lmw1/websocket
2025-11-21 17:32:11.161 [http-nio-8080-exec-7] TRACE o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Applying default cacheSeconds=-1
2025-11-21 17:32:11.161 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-21 17:32:11.162 [http-nio-8080-exec-3] TRACE o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Applying default cacheSeconds=-1
2025-11-21 17:32:11.162 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-21 17:32:11.164 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-11-21 17:32:11.165 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=pte2lmw1]
2025-11-21 17:32:11.165 [http-nio-8080-exec-6] INFO  c.r.p.w.DLQEventWebSocketHandler - New WebSocket connection established: pte2lmw1
2025-11-21 17:32:11.165 [http-nio-8080-exec-6] INFO  c.r.p.service.WebSocketEventService - WebSocket session registered: pte2lmw1 (Total active: 1)
2025-11-21 17:32:19.874 [SockJS-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [3lhstbnr]
2025-11-21 17:32:25.965 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=pte2lmw1] closed with CloseStatus[code=1000, reason=null]
2025-11-21 17:32:25.966 [http-nio-8080-exec-5] INFO  c.r.p.w.DLQEventWebSocketHandler - WebSocket connection closed: pte2lmw1 (Status: CloseStatus[code=1000, reason=null])
2025-11-21 17:32:25.967 [http-nio-8080-exec-5] INFO  c.r.p.service.WebSocketEventService - WebSocket session removed: pte2lmw1 (Sent 0 messages, Remaining active: 0)
2025-11-21 17:32:26.087 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dlq/messages?streamName=test-stream&count=10", parameters={masked}
2025-11-21 17:32:26.087 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dlq/messages?streamName=test-stream:dlq&count=10", parameters={masked}
2025-11-21 17:32:26.088 [http-nio-8080-exec-8] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.redis.patterns.controller.DLQController#getMessages(String, int)
2025-11-21 17:32:26.088 [http-nio-8080-exec-2] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.redis.patterns.controller.DLQController#getMessages(String, int)
2025-11-21 17:32:26.088 [http-nio-8080-exec-2] DEBUG c.r.p.controller.DLQController - Reading 10 messages from stream: test-stream:dlq
2025-11-21 17:32:26.088 [http-nio-8080-exec-8] DEBUG c.r.p.controller.DLQController - Reading 10 messages from stream: test-stream
2025-11-21 17:32:26.089 [http-nio-8080-exec-2] DEBUG c.r.p.service.DLQMessagingService - Reading 10 messages from stream 'test-stream:dlq'
2025-11-21 17:32:26.089 [http-nio-8080-exec-8] DEBUG c.r.p.service.DLQMessagingService - Reading 10 messages from stream 'test-stream'
2025-11-21 17:32:26.091 [http-nio-8080-exec-2] DEBUG c.r.p.service.DLQMessagingService - Read 0 messages from stream 'test-stream:dlq'
2025-11-21 17:32:26.091 [http-nio-8080-exec-8] DEBUG c.r.p.service.DLQMessagingService - Read 8 messages from stream 'test-stream'
2025-11-21 17:32:26.091 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-11-21 17:32:26.092 [http-nio-8080-exec-2] TRACE o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=true, count=0, messages=[], streamName=test-stream:dlq}]
2025-11-21 17:32:26.091 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-11-21 17:32:26.093 [http-nio-8080-exec-8] TRACE o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=true, count=8, messages=[{id=1763742631658-0, fields={type=order.cancelled, order_id=1003, reason=payment_failed}}, {id=1763742616990-0, fields={type=order.cancelled, order_id=1003, reason=payment_failed}}, {id=1763741315741-2, fields={type=order.cancelled, order_id=1003, reason=payment_failed}}, {id=1763741315741-1, fields={type=order.created, order_id=1002, amount=42.50}}, {id=1763741315741-0, fields={type=order.created, order_id=1001, amount=59.90}}, {id=1763739366410-1, fields={type=order.cancelled, order_id=1003, reason=payment_failed}}, {id=1763739366410-0, fields={type=order.created, order_id=1002, amount=42.50}}, {id=1763739366409-0, fields={type=order.created, order_id=1001, amount=59.90}}], streamName=test-stream}]
2025-11-21 17:32:26.093 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/ws/dlq-events/info?t=1763742746090", parameters={masked}
2025-11-21 17:32:26.094 [http-nio-8080-exec-2] TRACE o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Applying default cacheSeconds=-1
2025-11-21 17:32:26.094 [http-nio-8080-exec-8] TRACE o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Applying default cacheSeconds=-1
2025-11-21 17:32:26.094 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-21 17:32:26.094 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-21 17:32:26.095 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@1f2f0109
2025-11-21 17:32:26.095 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/api/ws/dlq-events/info?t=1763742746090
2025-11-21 17:32:26.096 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-21 17:32:26.102 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/ws/dlq-events/842/bo541dlk/websocket", parameters={}
2025-11-21 17:32:26.102 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@1f2f0109
2025-11-21 17:32:26.103 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/api/ws/dlq-events/842/bo541dlk/websocket
2025-11-21 17:32:26.103 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-11-21 17:32:26.104 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=bo541dlk]
2025-11-21 17:32:26.104 [http-nio-8080-exec-1] INFO  c.r.p.w.DLQEventWebSocketHandler - New WebSocket connection established: bo541dlk
2025-11-21 17:32:26.104 [http-nio-8080-exec-1] INFO  c.r.p.service.WebSocketEventService - WebSocket session registered: bo541dlk (Total active: 1)
2025-11-21 17:32:34.873 [SockJS-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [pte2lmw1]
2025-11-21 17:32:54.905 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/dlq/test", parameters={}
2025-11-21 17:32:54.907 [http-nio-8080-exec-10] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.redis.patterns.controller.DLQController#runTestScenario(TestScenarioRequest)
2025-11-21 17:32:54.942 [http-nio-8080-exec-10] TRACE o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [TestScenarioRequest(scenarioType=null, parameters=null, messageCount=5, failureRatePercent=1, delayMs=1000)]
2025-11-21 17:32:54.965 [http-nio-8080-exec-10] INFO  c.r.p.controller.DLQController - Running test scenario: null
2025-11-21 17:32:54.965 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-21 17:32:54.966 [http-nio-8080-exec-10] TRACE o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{scenarioType=null, success=true, message=Test scenario started}]
2025-11-21 17:32:54.966 [http-nio-8080-exec-10] TRACE o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Applying default cacheSeconds=-1
2025-11-21 17:32:54.966 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-21 17:36:17.575 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dlq/messages?streamName=test-stream&count=10", parameters={masked}
2025-11-21 17:36:17.575 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dlq/messages?streamName=test-stream:dlq&count=10", parameters={masked}
2025-11-21 17:36:17.579 [http-nio-8080-exec-8] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.redis.patterns.controller.DLQController#getMessages(String, int)
2025-11-21 17:36:17.579 [http-nio-8080-exec-5] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.redis.patterns.controller.DLQController#getMessages(String, int)
2025-11-21 17:36:17.582 [http-nio-8080-exec-5] DEBUG c.r.p.controller.DLQController - Reading 10 messages from stream: test-stream
2025-11-21 17:36:17.582 [http-nio-8080-exec-5] DEBUG c.r.p.service.DLQMessagingService - Reading 10 messages from stream 'test-stream'
2025-11-21 17:36:17.583 [http-nio-8080-exec-8] DEBUG c.r.p.controller.DLQController - Reading 10 messages from stream: test-stream:dlq
2025-11-21 17:36:17.583 [http-nio-8080-exec-8] DEBUG c.r.p.service.DLQMessagingService - Reading 10 messages from stream 'test-stream:dlq'
2025-11-21 17:36:17.601 [http-nio-8080-exec-8] DEBUG c.r.p.service.DLQMessagingService - Read 0 messages from stream 'test-stream:dlq'
2025-11-21 17:36:17.602 [http-nio-8080-exec-5] DEBUG c.r.p.service.DLQMessagingService - Read 8 messages from stream 'test-stream'
2025-11-21 17:36:17.604 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-11-21 17:36:17.604 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-11-21 17:36:17.604 [http-nio-8080-exec-8] TRACE o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=true, count=0, messages=[], streamName=test-stream:dlq}]
2025-11-21 17:36:17.605 [http-nio-8080-exec-5] TRACE o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=true, count=8, messages=[{id=1763742631658-0, fields={type=order.cancelled, order_id=1003, reason=payment_failed}}, {id=1763742616990-0, fields={type=order.cancelled, order_id=1003, reason=payment_failed}}, {id=1763741315741-2, fields={type=order.cancelled, order_id=1003, reason=payment_failed}}, {id=1763741315741-1, fields={type=order.created, order_id=1002, amount=42.50}}, {id=1763741315741-0, fields={type=order.created, order_id=1001, amount=59.90}}, {id=1763739366410-1, fields={type=order.cancelled, order_id=1003, reason=payment_failed}}, {id=1763739366410-0, fields={type=order.created, order_id=1002, amount=42.50}}, {id=1763739366409-0, fields={type=order.created, order_id=1001, amount=59.90}}], streamName=test-stream}]
2025-11-21 17:36:17.607 [http-nio-8080-exec-5] TRACE o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Applying default cacheSeconds=-1
2025-11-21 17:36:17.607 [http-nio-8080-exec-8] TRACE o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Applying default cacheSeconds=-1
2025-11-21 17:36:17.607 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-21 17:36:17.607 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-21 17:36:19.039 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=bo541dlk] closed with CloseStatus[code=1000, reason=null]
2025-11-21 17:36:19.039 [http-nio-8080-exec-2] INFO  c.r.p.w.DLQEventWebSocketHandler - WebSocket connection closed: bo541dlk (Status: CloseStatus[code=1000, reason=null])
2025-11-21 17:36:19.040 [http-nio-8080-exec-2] INFO  c.r.p.service.WebSocketEventService - WebSocket session removed: bo541dlk (Sent 0 messages, Remaining active: 0)
2025-11-21 17:36:19.147 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dlq/messages?streamName=test-stream&count=10", parameters={masked}
2025-11-21 17:36:19.148 [http-nio-8080-exec-4] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.redis.patterns.controller.DLQController#getMessages(String, int)
2025-11-21 17:36:19.149 [http-nio-8080-exec-4] DEBUG c.r.p.controller.DLQController - Reading 10 messages from stream: test-stream
2025-11-21 17:36:19.150 [http-nio-8080-exec-4] DEBUG c.r.p.service.DLQMessagingService - Reading 10 messages from stream 'test-stream'
2025-11-21 17:36:19.151 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dlq/messages?streamName=test-stream:dlq&count=10", parameters={masked}
2025-11-21 17:36:19.152 [http-nio-8080-exec-1] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.redis.patterns.controller.DLQController#getMessages(String, int)
2025-11-21 17:36:19.152 [http-nio-8080-exec-1] DEBUG c.r.p.controller.DLQController - Reading 10 messages from stream: test-stream:dlq
2025-11-21 17:36:19.152 [http-nio-8080-exec-1] DEBUG c.r.p.service.DLQMessagingService - Reading 10 messages from stream 'test-stream:dlq'
2025-11-21 17:36:19.152 [http-nio-8080-exec-4] DEBUG c.r.p.service.DLQMessagingService - Read 8 messages from stream 'test-stream'
2025-11-21 17:36:19.153 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-11-21 17:36:19.153 [http-nio-8080-exec-4] TRACE o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=true, count=8, messages=[{id=1763742631658-0, fields={type=order.cancelled, order_id=1003, reason=payment_failed}}, {id=1763742616990-0, fields={type=order.cancelled, order_id=1003, reason=payment_failed}}, {id=1763741315741-2, fields={type=order.cancelled, order_id=1003, reason=payment_failed}}, {id=1763741315741-1, fields={type=order.created, order_id=1002, amount=42.50}}, {id=1763741315741-0, fields={type=order.created, order_id=1001, amount=59.90}}, {id=1763739366410-1, fields={type=order.cancelled, order_id=1003, reason=payment_failed}}, {id=1763739366410-0, fields={type=order.created, order_id=1002, amount=42.50}}, {id=1763739366409-0, fields={type=order.created, order_id=1001, amount=59.90}}], streamName=test-stream}]
2025-11-21 17:36:19.155 [http-nio-8080-exec-4] TRACE o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Applying default cacheSeconds=-1
2025-11-21 17:36:19.155 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-21 17:36:19.155 [http-nio-8080-exec-1] DEBUG c.r.p.service.DLQMessagingService - Read 0 messages from stream 'test-stream:dlq'
2025-11-21 17:36:19.155 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-11-21 17:36:19.156 [http-nio-8080-exec-1] TRACE o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=true, count=0, messages=[], streamName=test-stream:dlq}]
2025-11-21 17:36:19.156 [http-nio-8080-exec-1] TRACE o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Applying default cacheSeconds=-1
2025-11-21 17:36:19.156 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-21 17:36:19.158 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/ws/dlq-events/info?t=1763742979146", parameters={masked}
2025-11-21 17:36:19.159 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@1f2f0109
2025-11-21 17:36:19.159 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/api/ws/dlq-events/info?t=1763742979146
2025-11-21 17:36:19.160 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-21 17:36:19.168 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/ws/dlq-events/014/e554rvbx/websocket", parameters={}
2025-11-21 17:36:19.169 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@1f2f0109
2025-11-21 17:36:19.169 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/api/ws/dlq-events/014/e554rvbx/websocket
2025-11-21 17:36:19.170 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-11-21 17:36:19.171 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=e554rvbx]
2025-11-21 17:36:19.171 [http-nio-8080-exec-9] INFO  c.r.p.w.DLQEventWebSocketHandler - New WebSocket connection established: e554rvbx
2025-11-21 17:36:19.171 [http-nio-8080-exec-9] INFO  c.r.p.service.WebSocketEventService - WebSocket session registered: e554rvbx (Total active: 1)
2025-11-21 17:36:24.873 [SockJS-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [bo541dlk]
2025-11-21 17:36:38.713 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/dlq/test", parameters={}
2025-11-21 17:36:38.714 [http-nio-8080-exec-7] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.redis.patterns.controller.DLQController#runTestScenario(TestScenarioRequest)
2025-11-21 17:36:38.715 [http-nio-8080-exec-7] TRACE o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [TestScenarioRequest(scenarioType=null, parameters=null, messageCount=5, failureRatePercent=1, delayMs=1000)]
2025-11-21 17:36:38.715 [http-nio-8080-exec-7] INFO  c.r.p.controller.DLQController - Running test scenario: null
2025-11-21 17:36:38.715 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-21 17:36:38.715 [http-nio-8080-exec-7] TRACE o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{scenarioType=null, success=true, message=Test scenario started}]
2025-11-21 17:36:38.716 [http-nio-8080-exec-7] TRACE o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Applying default cacheSeconds=-1
2025-11-21 17:36:38.716 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-21 17:51:42.890 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-21 17:51:44.908 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-21 17:51:44.948 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - Transport error in WebSocketServerSockJsSession[id=e554rvbx]
java.io.IOException: java.nio.channels.ClosedChannelException
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlockInternal(WsRemoteEndpointImplBase.java:326)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:266)
	at org.apache.tomcat.websocket.WsSession.sendCloseMessage(WsSession.java:777)
	at org.apache.tomcat.websocket.WsSession.doClose(WsSession.java:574)
	at org.apache.tomcat.websocket.WsSession.doClose(WsSession.java:541)
	at org.apache.tomcat.websocket.WsSession.close(WsSession.java:529)
	at org.apache.tomcat.websocket.WsWebSocketContainer.destroy(WsWebSocketContainer.java:1034)
	at org.apache.tomcat.websocket.server.WsContextListener.contextDestroyed(WsContextListener.java:46)
	at org.apache.catalina.core.StandardContext.listenerStop(StandardContext.java:4078)
	at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:4688)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:235)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1217)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1206)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:328)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:81)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:149)
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:812)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:235)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1217)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1206)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:328)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:81)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:149)
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:812)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:235)
	at org.apache.catalina.core.StandardService.stopInternal(StandardService.java:466)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:235)
	at org.apache.catalina.core.StandardServer.stopInternal(StandardServer.java:913)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:235)
	at org.apache.catalina.startup.Tomcat.stop(Tomcat.java:446)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.stopTomcat(TomcatWebServer.java:301)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.destroy(TomcatWebServer.java:374)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:182)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1129)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: java.nio.channels.ClosedChannelException: null
	at org.apache.tomcat.util.net.NioChannel$1.write(NioChannel.java:282)
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper$NioOperationState.run(NioEndpoint.java:1670)
	at org.apache.tomcat.util.net.SocketWrapperBase$OperationState.start(SocketWrapperBase.java:987)
	at org.apache.tomcat.util.net.SocketWrapperBase.vectoredOperation(SocketWrapperBase.java:1358)
	at org.apache.tomcat.util.net.SocketWrapperBase.write(SocketWrapperBase.java:1287)
	at org.apache.tomcat.util.net.SocketWrapperBase.write(SocketWrapperBase.java:1262)
	at org.apache.tomcat.websocket.server.WsRemoteEndpointImplServer.doWrite(WsRemoteEndpointImplServer.java:173)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.writeMessagePart(WsRemoteEndpointImplBase.java:521)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlockInternal(WsRemoteEndpointImplBase.java:313)
	... 37 common frames omitted
2025-11-21 17:51:44.956 [SpringApplicationShutdownHook] ERROR c.r.p.w.DLQEventWebSocketHandler - WebSocket transport error for session e554rvbx
java.io.IOException: java.nio.channels.ClosedChannelException
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlockInternal(WsRemoteEndpointImplBase.java:326)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:266)
	at org.apache.tomcat.websocket.WsSession.sendCloseMessage(WsSession.java:777)
	at org.apache.tomcat.websocket.WsSession.doClose(WsSession.java:574)
	at org.apache.tomcat.websocket.WsSession.doClose(WsSession.java:541)
	at org.apache.tomcat.websocket.WsSession.close(WsSession.java:529)
	at org.apache.tomcat.websocket.WsWebSocketContainer.destroy(WsWebSocketContainer.java:1034)
	at org.apache.tomcat.websocket.server.WsContextListener.contextDestroyed(WsContextListener.java:46)
	at org.apache.catalina.core.StandardContext.listenerStop(StandardContext.java:4078)
	at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:4688)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:235)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1217)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1206)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:328)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:81)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:149)
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:812)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:235)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1217)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1206)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:328)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:81)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:149)
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:812)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:235)
	at org.apache.catalina.core.StandardService.stopInternal(StandardService.java:466)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:235)
	at org.apache.catalina.core.StandardServer.stopInternal(StandardServer.java:913)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:235)
	at org.apache.catalina.startup.Tomcat.stop(Tomcat.java:446)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.stopTomcat(TomcatWebServer.java:301)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.destroy(TomcatWebServer.java:374)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:182)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1129)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: java.nio.channels.ClosedChannelException: null
	at org.apache.tomcat.util.net.NioChannel$1.write(NioChannel.java:282)
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper$NioOperationState.run(NioEndpoint.java:1670)
	at org.apache.tomcat.util.net.SocketWrapperBase$OperationState.start(SocketWrapperBase.java:987)
	at org.apache.tomcat.util.net.SocketWrapperBase.vectoredOperation(SocketWrapperBase.java:1358)
	at org.apache.tomcat.util.net.SocketWrapperBase.write(SocketWrapperBase.java:1287)
	at org.apache.tomcat.util.net.SocketWrapperBase.write(SocketWrapperBase.java:1262)
	at org.apache.tomcat.websocket.server.WsRemoteEndpointImplServer.doWrite(WsRemoteEndpointImplServer.java:173)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.writeMessagePart(WsRemoteEndpointImplBase.java:521)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlockInternal(WsRemoteEndpointImplBase.java:313)
	... 37 common frames omitted
2025-11-21 17:51:44.956 [SpringApplicationShutdownHook] INFO  c.r.p.service.WebSocketEventService - WebSocket session removed: e554rvbx (Sent 0 messages, Remaining active: 0)
2025-11-21 17:51:44.957 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=e554rvbx] closed with CloseStatus[code=1001, reason=The web application is stopping]
2025-11-21 17:51:44.957 [SpringApplicationShutdownHook] INFO  c.r.p.w.DLQEventWebSocketHandler - WebSocket connection closed: e554rvbx (Status: CloseStatus[code=1001, reason=The web application is stopping])
2025-11-21 17:51:44.957 [SpringApplicationShutdownHook] INFO  c.r.p.service.WebSocketEventService - WebSocket session removed: e554rvbx (Sent null messages, Remaining active: 0)
2025-11-21 17:54:47.522 [main] INFO  c.r.p.RedisMessagingPatternsApplication - Starting RedisMessagingPatternsApplication using Java 25.0.1 with PID 9270 (/Users/thomas.manson/Projects/RedisDLQJedis/target/classes started by thomas.manson in /Users/thomas.manson/Projects/RedisDLQJedis)
2025-11-21 17:54:47.522 [main] DEBUG c.r.p.RedisMessagingPatternsApplication - Running with Spring Boot v3.5.7, Spring v6.2.12
2025-11-21 17:54:47.523 [main] INFO  c.r.p.RedisMessagingPatternsApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-21 17:54:47.785 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-21 17:54:47.789 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-21 17:54:47.789 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-11-21 17:54:47.805 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-11-21 17:54:47.805 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 265 ms
2025-11-21 17:54:47.820 [main] DEBUG o.s.web.filter.CorsFilter - Filter 'corsFilter' configured for use
2025-11-21 17:54:47.859 [main] INFO  c.redis.patterns.config.RedisConfig - Initializing Redis connection pool...
2025-11-21 17:54:47.859 [main] INFO  c.redis.patterns.config.RedisConfig - Redis Host: localhost
2025-11-21 17:54:47.859 [main] INFO  c.redis.patterns.config.RedisConfig - Redis Port: 6379
2025-11-21 17:54:47.860 [main] INFO  c.redis.patterns.config.RedisConfig - Pool Configuration - MaxTotal: 50, MaxIdle: 20, MinIdle: 5
2025-11-21 17:54:47.860 [main] INFO  c.redis.patterns.config.RedisConfig - Creating Redis pool without authentication
2025-11-21 17:54:47.923 [main] INFO  c.redis.patterns.config.RedisConfig - Redis connection test successful: PONG
2025-11-21 17:54:47.924 [main] INFO  c.redis.patterns.config.RedisConfig - Redis connection pool initialized successfully
2025-11-21 17:54:47.933 [main] INFO  c.r.p.service.RedisLuaFunctionLoader - Checking Redis Lua functions...
2025-11-21 17:54:47.935 [main] INFO  c.r.p.service.RedisLuaFunctionLoader - Function library 'stream_utils' already loaded in Redis
2025-11-21 17:54:47.936 [main] INFO  c.r.p.service.StreamMonitorService - Initializing StreamMonitorService...
2025-11-21 17:54:47.938 [main] INFO  c.r.p.service.StreamMonitorService - Created consumer group 'monitor-group' for stream 'test-stream'
2025-11-21 17:54:47.939 [main] INFO  c.r.p.service.StreamMonitorService - Created consumer group 'monitor-group' for stream 'test-stream:dlq'
2025-11-21 17:54:47.939 [main] INFO  c.r.p.service.StreamMonitorService - StreamMonitorService initialized successfully
2025-11-21 17:54:47.948 [main] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/ws/dlq-events/**] in 'webSocketHandlerMapping'
2025-11-21 17:54:47.984 [main] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	c.r.p.c.DLQController:
	{DELETE [/dlq/cleanup]}: cleanup(String,String)
	{POST [/dlq/init]}: initializeConsumerGroup(DLQParameters)
	{POST [/dlq/claim]}: claimOrDLQ(DLQParameters)
	{POST [/dlq/produce]}: produceMessage(Map)
	{GET [/dlq/stats]}: getStats(String,String,String)
	{GET [/dlq/messages]}: getMessages(String,int)
	{POST [/dlq/test]}: runTestScenario(TestScenarioRequest)
	{POST [/dlq/test/stop]}: stopTest()
	{GET [/dlq/test/status]}: getTestStatus()
2025-11-21 17:54:47.987 [main] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2025-11-21 17:54:47.989 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 11 mappings in 'requestMappingHandlerMapping'
2025-11-21 17:54:48.002 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-21 17:54:48.007 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-21 17:54:48.019 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-21 17:54:48.048 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-11-21 17:54:48.051 [main] INFO  c.r.p.RedisMessagingPatternsApplication - Started RedisMessagingPatternsApplication in 0.681 seconds (process running for 0.772)
2025-11-21 17:54:48.056 [scheduling-1] DEBUG c.r.p.service.StreamMonitorService - Broadcasted message 1763739366409-0 from stream 'test-stream'
2025-11-21 17:54:48.057 [scheduling-1] DEBUG c.r.p.service.StreamMonitorService - Broadcasted message 1763739366410-0 from stream 'test-stream'
2025-11-21 17:54:48.058 [scheduling-1] DEBUG c.r.p.service.StreamMonitorService - Broadcasted message 1763739366410-1 from stream 'test-stream'
2025-11-21 17:54:48.058 [scheduling-1] DEBUG c.r.p.service.StreamMonitorService - Broadcasted message 1763741315741-0 from stream 'test-stream'
2025-11-21 17:54:48.059 [scheduling-1] DEBUG c.r.p.service.StreamMonitorService - Broadcasted message 1763741315741-1 from stream 'test-stream'
2025-11-21 17:54:48.059 [scheduling-1] DEBUG c.r.p.service.StreamMonitorService - Broadcasted message 1763741315741-2 from stream 'test-stream'
2025-11-21 17:54:48.060 [scheduling-1] DEBUG c.r.p.service.StreamMonitorService - Broadcasted message 1763742616990-0 from stream 'test-stream'
2025-11-21 17:54:48.060 [scheduling-1] DEBUG c.r.p.service.StreamMonitorService - Broadcasted message 1763742631658-0 from stream 'test-stream'
2025-11-21 17:54:48.060 [scheduling-1] DEBUG c.r.p.service.StreamMonitorService - Processed 8 new messages from stream 'test-stream'
2025-11-21 17:54:55.330 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-21 17:54:55.331 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-21 17:54:55.331 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-11-21 17:54:55.331 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-11-21 17:54:55.331 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-11-21 17:54:55.332 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@511f5b1d
2025-11-21 17:54:55.333 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@12e12ac9
2025-11-21 17:54:55.334 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-11-21 17:54:55.334 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-11-21 17:54:55.345 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/ws/dlq-events/info?t=1763744095101", parameters={masked}
2025-11-21 17:54:55.345 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dlq/messages?streamName=test-stream:dlq&count=10", parameters={masked}
2025-11-21 17:54:55.345 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dlq/messages?streamName=test-stream&count=10", parameters={masked}
2025-11-21 17:54:55.347 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@71a3e05c
2025-11-21 17:54:55.348 [http-nio-8080-exec-2] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.redis.patterns.controller.DLQController#getMessages(String, int)
2025-11-21 17:54:55.348 [http-nio-8080-exec-3] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.redis.patterns.controller.DLQController#getMessages(String, int)
2025-11-21 17:54:55.348 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/api/ws/dlq-events/info?t=1763744095101
2025-11-21 17:54:55.349 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-21 17:54:55.353 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/ws/dlq-events/774/u23rfjy4/websocket", parameters={}
2025-11-21 17:54:55.353 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@71a3e05c
2025-11-21 17:54:55.353 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/api/ws/dlq-events/774/u23rfjy4/websocket
2025-11-21 17:54:55.356 [http-nio-8080-exec-2] DEBUG c.r.p.controller.DLQController - Reading 10 messages from stream: test-stream:dlq
2025-11-21 17:54:55.356 [http-nio-8080-exec-3] DEBUG c.r.p.controller.DLQController - Reading 10 messages from stream: test-stream
2025-11-21 17:54:55.356 [http-nio-8080-exec-2] DEBUG c.r.p.service.DLQMessagingService - Reading 10 messages from stream 'test-stream:dlq'
2025-11-21 17:54:55.356 [http-nio-8080-exec-3] DEBUG c.r.p.service.DLQMessagingService - Reading 10 messages from stream 'test-stream'
2025-11-21 17:54:55.360 [http-nio-8080-exec-2] DEBUG c.r.p.service.DLQMessagingService - Read 0 messages from stream 'test-stream:dlq'
2025-11-21 17:54:55.362 [http-nio-8080-exec-3] DEBUG c.r.p.service.DLQMessagingService - Read 8 messages from stream 'test-stream'
2025-11-21 17:54:55.366 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-11-21 17:54:55.366 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-11-21 17:54:55.367 [http-nio-8080-exec-2] TRACE o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=true, count=0, messages=[], streamName=test-stream:dlq}]
2025-11-21 17:54:55.367 [http-nio-8080-exec-3] TRACE o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=true, count=8, messages=[{id=1763742631658-0, fields={type=order.cancelled, order_id=1003, reason=payment_failed}}, {id=1763742616990-0, fields={type=order.cancelled, order_id=1003, reason=payment_failed}}, {id=1763741315741-2, fields={type=order.cancelled, order_id=1003, reason=payment_failed}}, {id=1763741315741-1, fields={type=order.created, order_id=1002, amount=42.50}}, {id=1763741315741-0, fields={type=order.created, order_id=1001, amount=59.90}}, {id=1763739366410-1, fields={type=order.cancelled, order_id=1003, reason=payment_failed}}, {id=1763739366410-0, fields={type=order.created, order_id=1002, amount=42.50}}, {id=1763739366409-0, fields={type=order.created, order_id=1001, amount=59.90}}], streamName=test-stream}]
2025-11-21 17:54:55.367 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-11-21 17:54:55.371 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=u23rfjy4]
2025-11-21 17:54:55.371 [http-nio-8080-exec-4] INFO  c.r.p.w.DLQEventWebSocketHandler - New WebSocket connection established: u23rfjy4
2025-11-21 17:54:55.371 [http-nio-8080-exec-4] INFO  c.r.p.service.WebSocketEventService - WebSocket session registered: u23rfjy4 (Total active: 1)
2025-11-21 17:54:55.373 [http-nio-8080-exec-2] TRACE o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Applying default cacheSeconds=-1
2025-11-21 17:54:55.373 [http-nio-8080-exec-3] TRACE o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Applying default cacheSeconds=-1
2025-11-21 17:54:55.374 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-21 17:54:55.374 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-21 17:55:23.682 [scheduling-1] DEBUG c.r.p.service.WebSocketEventService - Broadcasting event to 1 sessions: MESSAGE_PRODUCED
2025-11-21 17:55:23.686 [scheduling-1] DEBUG c.r.p.service.StreamMonitorService - Broadcasted message 1763744123439-0 from stream 'test-stream'
2025-11-21 17:55:23.687 [scheduling-1] DEBUG c.r.p.service.StreamMonitorService - Processed 1 new messages from stream 'test-stream'
2025-11-21 17:55:54.160 [scheduling-1] DEBUG c.r.p.service.WebSocketEventService - Broadcasting event to 1 sessions: MESSAGE_PRODUCED
2025-11-21 17:55:54.163 [scheduling-1] DEBUG c.r.p.service.StreamMonitorService - Broadcasted message 1763744153841-0 from stream 'test-stream'
2025-11-21 17:55:54.166 [scheduling-1] DEBUG c.r.p.service.StreamMonitorService - Processed 1 new messages from stream 'test-stream'
2025-11-21 17:56:04.337 [scheduling-1] DEBUG c.r.p.service.WebSocketEventService - Broadcasting event to 1 sessions: MESSAGE_PRODUCED
2025-11-21 17:56:04.338 [scheduling-1] DEBUG c.r.p.service.StreamMonitorService - Broadcasted message 1763744163771-0 from stream 'test-stream'
2025-11-21 17:56:04.342 [scheduling-1] DEBUG c.r.p.service.StreamMonitorService - Processed 1 new messages from stream 'test-stream'
2025-11-21 18:11:25.314 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=u23rfjy4] closed with CloseStatus[code=1000, reason=null]
2025-11-21 18:11:25.316 [http-nio-8080-exec-8] INFO  c.r.p.w.DLQEventWebSocketHandler - WebSocket connection closed: u23rfjy4 (Status: CloseStatus[code=1000, reason=null])
2025-11-21 18:11:25.317 [http-nio-8080-exec-8] INFO  c.r.p.service.WebSocketEventService - WebSocket session removed: u23rfjy4 (Sent 3 messages, Remaining active: 0)
2025-11-21 18:11:25.541 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/ws/dlq-events/info?t=1763745085526", parameters={masked}
2025-11-21 18:11:25.541 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dlq/messages?streamName=test-stream:dlq&count=10", parameters={masked}
2025-11-21 18:11:25.541 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dlq/messages?streamName=test-stream&count=10", parameters={masked}
2025-11-21 18:11:25.543 [http-nio-8080-exec-9] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.redis.patterns.controller.DLQController#getMessages(String, int)
2025-11-21 18:11:25.543 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@71a3e05c
2025-11-21 18:11:25.543 [http-nio-8080-exec-10] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.redis.patterns.controller.DLQController#getMessages(String, int)
2025-11-21 18:11:25.543 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/api/ws/dlq-events/info?t=1763745085526
2025-11-21 18:11:25.544 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-21 18:11:25.545 [http-nio-8080-exec-9] DEBUG c.r.p.controller.DLQController - Reading 10 messages from stream: test-stream
2025-11-21 18:11:25.545 [http-nio-8080-exec-10] DEBUG c.r.p.controller.DLQController - Reading 10 messages from stream: test-stream:dlq
2025-11-21 18:11:25.545 [http-nio-8080-exec-10] DEBUG c.r.p.service.DLQMessagingService - Reading 10 messages from stream 'test-stream:dlq'
2025-11-21 18:11:25.545 [http-nio-8080-exec-9] DEBUG c.r.p.service.DLQMessagingService - Reading 10 messages from stream 'test-stream'
2025-11-21 18:11:25.547 [http-nio-8080-exec-9] DEBUG c.r.p.service.DLQMessagingService - Read 8 messages from stream 'test-stream'
2025-11-21 18:11:25.547 [http-nio-8080-exec-10] DEBUG c.r.p.service.DLQMessagingService - Read 0 messages from stream 'test-stream:dlq'
2025-11-21 18:11:25.548 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/ws/dlq-events/734/v3v0dfc0/websocket", parameters={}
2025-11-21 18:11:25.549 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-11-21 18:11:25.549 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-11-21 18:11:25.549 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@71a3e05c
2025-11-21 18:11:25.549 [http-nio-8080-exec-10] TRACE o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=true, count=0, messages=[], streamName=test-stream:dlq}]
2025-11-21 18:11:25.549 [http-nio-8080-exec-9] TRACE o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=true, count=8, messages=[{id=1763742631658-0, fields={type=order.cancelled, order_id=1003, reason=payment_failed}}, {id=1763742616990-0, fields={type=order.cancelled, order_id=1003, reason=payment_failed}}, {id=1763741315741-2, fields={type=order.cancelled, order_id=1003, reason=payment_failed}}, {id=1763741315741-1, fields={type=order.created, order_id=1002, amount=42.50}}, {id=1763741315741-0, fields={type=order.created, order_id=1001, amount=59.90}}, {id=1763739366410-1, fields={type=order.cancelled, order_id=1003, reason=payment_failed}}, {id=1763739366410-0, fields={type=order.created, order_id=1002, amount=42.50}}, {id=1763739366409-0, fields={type=order.created, order_id=1001, amount=59.90}}], streamName=test-stream}]
2025-11-21 18:11:25.550 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/api/ws/dlq-events/734/v3v0dfc0/websocket
2025-11-21 18:11:25.552 [http-nio-8080-exec-10] TRACE o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Applying default cacheSeconds=-1
2025-11-21 18:11:25.552 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-11-21 18:11:25.552 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-21 18:11:25.553 [http-nio-8080-exec-9] TRACE o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Applying default cacheSeconds=-1
2025-11-21 18:11:25.554 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=v3v0dfc0]
2025-11-21 18:11:25.554 [http-nio-8080-exec-2] INFO  c.r.p.w.DLQEventWebSocketHandler - New WebSocket connection established: v3v0dfc0
2025-11-21 18:11:25.554 [http-nio-8080-exec-2] INFO  c.r.p.service.WebSocketEventService - WebSocket session registered: v3v0dfc0 (Total active: 1)
2025-11-21 18:11:25.554 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-21 18:11:30.358 [SockJS-11] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [u23rfjy4]
2025-11-21 18:11:58.628 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-21 18:12:00.646 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-21 18:12:00.662 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - Transport error in WebSocketServerSockJsSession[id=v3v0dfc0]
java.io.IOException: java.nio.channels.ClosedChannelException
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlockInternal(WsRemoteEndpointImplBase.java:326)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:266)
	at org.apache.tomcat.websocket.WsSession.sendCloseMessage(WsSession.java:777)
	at org.apache.tomcat.websocket.WsSession.doClose(WsSession.java:574)
	at org.apache.tomcat.websocket.WsSession.doClose(WsSession.java:541)
	at org.apache.tomcat.websocket.WsSession.close(WsSession.java:529)
	at org.apache.tomcat.websocket.WsWebSocketContainer.destroy(WsWebSocketContainer.java:1034)
	at org.apache.tomcat.websocket.server.WsContextListener.contextDestroyed(WsContextListener.java:46)
	at org.apache.catalina.core.StandardContext.listenerStop(StandardContext.java:4078)
	at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:4688)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:235)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1217)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1206)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:328)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:81)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:149)
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:812)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:235)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1217)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1206)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:328)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:81)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:149)
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:812)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:235)
	at org.apache.catalina.core.StandardService.stopInternal(StandardService.java:466)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:235)
	at org.apache.catalina.core.StandardServer.stopInternal(StandardServer.java:913)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:235)
	at org.apache.catalina.startup.Tomcat.stop(Tomcat.java:446)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.stopTomcat(TomcatWebServer.java:301)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.destroy(TomcatWebServer.java:374)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:182)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1129)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: java.nio.channels.ClosedChannelException: null
	at org.apache.tomcat.util.net.NioChannel$1.write(NioChannel.java:282)
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper$NioOperationState.run(NioEndpoint.java:1670)
	at org.apache.tomcat.util.net.SocketWrapperBase$OperationState.start(SocketWrapperBase.java:987)
	at org.apache.tomcat.util.net.SocketWrapperBase.vectoredOperation(SocketWrapperBase.java:1358)
	at org.apache.tomcat.util.net.SocketWrapperBase.write(SocketWrapperBase.java:1287)
	at org.apache.tomcat.util.net.SocketWrapperBase.write(SocketWrapperBase.java:1262)
	at org.apache.tomcat.websocket.server.WsRemoteEndpointImplServer.doWrite(WsRemoteEndpointImplServer.java:173)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.writeMessagePart(WsRemoteEndpointImplBase.java:521)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlockInternal(WsRemoteEndpointImplBase.java:313)
	... 37 common frames omitted
2025-11-21 18:12:00.667 [SpringApplicationShutdownHook] ERROR c.r.p.w.DLQEventWebSocketHandler - WebSocket transport error for session v3v0dfc0
java.io.IOException: java.nio.channels.ClosedChannelException
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlockInternal(WsRemoteEndpointImplBase.java:326)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:266)
	at org.apache.tomcat.websocket.WsSession.sendCloseMessage(WsSession.java:777)
	at org.apache.tomcat.websocket.WsSession.doClose(WsSession.java:574)
	at org.apache.tomcat.websocket.WsSession.doClose(WsSession.java:541)
	at org.apache.tomcat.websocket.WsSession.close(WsSession.java:529)
	at org.apache.tomcat.websocket.WsWebSocketContainer.destroy(WsWebSocketContainer.java:1034)
	at org.apache.tomcat.websocket.server.WsContextListener.contextDestroyed(WsContextListener.java:46)
	at org.apache.catalina.core.StandardContext.listenerStop(StandardContext.java:4078)
	at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:4688)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:235)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1217)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1206)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:328)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:81)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:149)
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:812)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:235)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1217)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1206)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:328)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:81)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:149)
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:812)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:235)
	at org.apache.catalina.core.StandardService.stopInternal(StandardService.java:466)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:235)
	at org.apache.catalina.core.StandardServer.stopInternal(StandardServer.java:913)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:235)
	at org.apache.catalina.startup.Tomcat.stop(Tomcat.java:446)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.stopTomcat(TomcatWebServer.java:301)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.destroy(TomcatWebServer.java:374)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:182)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1129)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: java.nio.channels.ClosedChannelException: null
	at org.apache.tomcat.util.net.NioChannel$1.write(NioChannel.java:282)
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper$NioOperationState.run(NioEndpoint.java:1670)
	at org.apache.tomcat.util.net.SocketWrapperBase$OperationState.start(SocketWrapperBase.java:987)
	at org.apache.tomcat.util.net.SocketWrapperBase.vectoredOperation(SocketWrapperBase.java:1358)
	at org.apache.tomcat.util.net.SocketWrapperBase.write(SocketWrapperBase.java:1287)
	at org.apache.tomcat.util.net.SocketWrapperBase.write(SocketWrapperBase.java:1262)
	at org.apache.tomcat.websocket.server.WsRemoteEndpointImplServer.doWrite(WsRemoteEndpointImplServer.java:173)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.writeMessagePart(WsRemoteEndpointImplBase.java:521)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlockInternal(WsRemoteEndpointImplBase.java:313)
	... 37 common frames omitted
2025-11-21 18:12:00.669 [SpringApplicationShutdownHook] INFO  c.r.p.service.WebSocketEventService - WebSocket session removed: v3v0dfc0 (Sent 0 messages, Remaining active: 0)
2025-11-21 18:12:00.669 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=v3v0dfc0] closed with CloseStatus[code=1001, reason=The web application is stopping]
2025-11-21 18:12:00.669 [SpringApplicationShutdownHook] INFO  c.r.p.w.DLQEventWebSocketHandler - WebSocket connection closed: v3v0dfc0 (Status: CloseStatus[code=1001, reason=The web application is stopping])
2025-11-21 18:12:00.669 [SpringApplicationShutdownHook] INFO  c.r.p.service.WebSocketEventService - WebSocket session removed: v3v0dfc0 (Sent null messages, Remaining active: 0)
2025-11-21 18:12:06.174 [main] INFO  c.r.p.RedisMessagingPatternsApplication - Starting RedisMessagingPatternsApplication using Java 25.0.1 with PID 16196 (/Users/thomas.manson/Projects/RedisDLQJedis/target/classes started by thomas.manson in /Users/thomas.manson/Projects/RedisDLQJedis)
2025-11-21 18:12:06.175 [main] DEBUG c.r.p.RedisMessagingPatternsApplication - Running with Spring Boot v3.5.7, Spring v6.2.12
2025-11-21 18:12:06.175 [main] INFO  c.r.p.RedisMessagingPatternsApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-21 18:12:06.444 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-21 18:12:06.448 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-21 18:12:06.448 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-11-21 18:12:06.463 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-11-21 18:12:06.463 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 273 ms
2025-11-21 18:12:06.476 [main] DEBUG o.s.web.filter.CorsFilter - Filter 'corsFilter' configured for use
2025-11-21 18:12:06.507 [main] INFO  c.redis.patterns.config.RedisConfig - Initializing Redis connection pool...
2025-11-21 18:12:06.507 [main] INFO  c.redis.patterns.config.RedisConfig - Redis Host: localhost
2025-11-21 18:12:06.507 [main] INFO  c.redis.patterns.config.RedisConfig - Redis Port: 6379
2025-11-21 18:12:06.508 [main] INFO  c.redis.patterns.config.RedisConfig - Pool Configuration - MaxTotal: 50, MaxIdle: 20, MinIdle: 5
2025-11-21 18:12:06.508 [main] INFO  c.redis.patterns.config.RedisConfig - Creating Redis pool without authentication
2025-11-21 18:12:06.565 [main] INFO  c.redis.patterns.config.RedisConfig - Redis connection test successful: PONG
2025-11-21 18:12:06.565 [main] INFO  c.redis.patterns.config.RedisConfig - Redis connection pool initialized successfully
2025-11-21 18:12:06.575 [main] INFO  c.r.p.service.RedisLuaFunctionLoader - Checking Redis Lua functions...
2025-11-21 18:12:06.577 [main] INFO  c.r.p.service.RedisLuaFunctionLoader - Function library 'stream_utils' already loaded in Redis
2025-11-21 18:12:06.578 [main] INFO  c.r.p.service.StreamMonitorService - Initializing StreamMonitorService...
2025-11-21 18:12:06.580 [main] DEBUG c.r.p.service.StreamMonitorService - Consumer group 'monitor-group' already exists for stream 'test-stream'
2025-11-21 18:12:06.580 [main] DEBUG c.r.p.service.StreamMonitorService - Consumer group 'monitor-group' already exists for stream 'test-stream:dlq'
2025-11-21 18:12:06.580 [main] INFO  c.r.p.service.StreamMonitorService - StreamMonitorService initialized successfully
2025-11-21 18:12:06.590 [main] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/ws/dlq-events/**] in 'webSocketHandlerMapping'
2025-11-21 18:12:06.619 [main] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	c.r.p.c.DLQController:
	{POST [/dlq/init]}: initializeConsumerGroup(DLQParameters)
	{POST [/dlq/claim]}: claimOrDLQ(DLQParameters)
	{POST [/dlq/produce]}: produceMessage(Map)
	{GET [/dlq/stats]}: getStats(String,String,String)
	{GET [/dlq/messages]}: getMessages(String,int)
	{POST [/dlq/test]}: runTestScenario(TestScenarioRequest)
	{POST [/dlq/test/stop]}: stopTest()
	{GET [/dlq/test/status]}: getTestStatus()
	{DELETE [/dlq/cleanup]}: cleanup(String,String)
2025-11-21 18:12:06.623 [main] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
	{ [/error]}: error(HttpServletRequest)
2025-11-21 18:12:06.624 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 11 mappings in 'requestMappingHandlerMapping'
2025-11-21 18:12:06.641 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-21 18:12:06.647 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-21 18:12:06.660 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-21 18:12:06.687 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-11-21 18:12:06.691 [main] INFO  c.r.p.RedisMessagingPatternsApplication - Started RedisMessagingPatternsApplication in 0.654 seconds (process running for 0.747)
2025-11-21 18:12:10.921 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-21 18:12:10.921 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-21 18:12:10.921 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-11-21 18:12:10.922 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-11-21 18:12:10.922 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-11-21 18:12:10.922 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@c7f4457
2025-11-21 18:12:10.922 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@7c0f28f8
2025-11-21 18:12:10.923 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-11-21 18:12:10.923 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-11-21 18:12:10.937 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dlq/messages?streamName=test-stream&count=10", parameters={masked}
2025-11-21 18:12:10.937 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/ws/dlq-events/info?t=1763745130874", parameters={masked}
2025-11-21 18:12:10.937 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dlq/messages?streamName=test-stream:dlq&count=10", parameters={masked}
2025-11-21 18:12:10.940 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@c689973
2025-11-21 18:12:10.940 [http-nio-8080-exec-1] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.redis.patterns.controller.DLQController#getMessages(String, int)
2025-11-21 18:12:10.940 [http-nio-8080-exec-3] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.redis.patterns.controller.DLQController#getMessages(String, int)
2025-11-21 18:12:10.940 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/api/ws/dlq-events/info?t=1763745130874
2025-11-21 18:12:10.941 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-21 18:12:10.945 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/ws/dlq-events/788/joa3ofs0/websocket", parameters={}
2025-11-21 18:12:10.945 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@c689973
2025-11-21 18:12:10.945 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/api/ws/dlq-events/788/joa3ofs0/websocket
2025-11-21 18:12:10.948 [http-nio-8080-exec-1] DEBUG c.r.p.controller.DLQController - Reading 10 messages from stream: test-stream
2025-11-21 18:12:10.948 [http-nio-8080-exec-3] DEBUG c.r.p.controller.DLQController - Reading 10 messages from stream: test-stream:dlq
2025-11-21 18:12:10.948 [http-nio-8080-exec-1] DEBUG c.r.p.service.DLQMessagingService - Reading 10 messages from stream 'test-stream'
2025-11-21 18:12:10.948 [http-nio-8080-exec-3] DEBUG c.r.p.service.DLQMessagingService - Reading 10 messages from stream 'test-stream:dlq'
2025-11-21 18:12:10.953 [http-nio-8080-exec-3] DEBUG c.r.p.service.DLQMessagingService - Read 0 messages from stream 'test-stream:dlq'
2025-11-21 18:12:10.953 [http-nio-8080-exec-1] DEBUG c.r.p.service.DLQMessagingService - Read 8 messages from stream 'test-stream'
2025-11-21 18:12:10.955 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-11-21 18:12:10.958 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-11-21 18:12:10.958 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-11-21 18:12:10.959 [http-nio-8080-exec-3] TRACE o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=true, count=0, messages=[], streamName=test-stream:dlq}]
2025-11-21 18:12:10.959 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=joa3ofs0]
2025-11-21 18:12:10.959 [http-nio-8080-exec-1] TRACE o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=true, count=8, messages=[{id=1763742631658-0, fields={type=order.cancelled, order_id=1003, reason=payment_failed}}, {id=1763742616990-0, fields={type=order.cancelled, order_id=1003, reason=payment_failed}}, {id=1763741315741-2, fields={type=order.cancelled, order_id=1003, reason=payment_failed}}, {id=1763741315741-1, fields={type=order.created, order_id=1002, amount=42.50}}, {id=1763741315741-0, fields={type=order.created, order_id=1001, amount=59.90}}, {id=1763739366410-1, fields={type=order.cancelled, order_id=1003, reason=payment_failed}}, {id=1763739366410-0, fields={type=order.created, order_id=1002, amount=42.50}}, {id=1763739366409-0, fields={type=order.created, order_id=1001, amount=59.90}}], streamName=test-stream}]
2025-11-21 18:12:10.959 [http-nio-8080-exec-4] INFO  c.r.p.w.DLQEventWebSocketHandler - New WebSocket connection established: joa3ofs0
2025-11-21 18:12:10.959 [http-nio-8080-exec-4] INFO  c.r.p.service.WebSocketEventService - WebSocket session registered: joa3ofs0 (Total active: 1)
2025-11-21 18:12:10.965 [http-nio-8080-exec-1] TRACE o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Applying default cacheSeconds=-1
2025-11-21 18:12:10.965 [http-nio-8080-exec-3] TRACE o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Applying default cacheSeconds=-1
2025-11-21 18:12:10.966 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-21 18:12:10.966 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-21 18:14:14.431 [scheduling-1] DEBUG c.r.p.service.WebSocketEventService - Broadcasting event to 1 sessions: MESSAGE_DELETED
2025-11-21 18:14:14.433 [scheduling-1] DEBUG c.r.p.service.StreamMonitorService - Broadcasted deletion of message 1763742631658-0 from stream 'test-stream'
